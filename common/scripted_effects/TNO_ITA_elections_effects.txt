#ITALY IMPER#
#TIBERIUM PROPERTY, GO HOME MANGO#
#EAT SHIT TIBERIUM, THIS IS MANGO TOWN#

ITA_reset_election_pop = { #APPLICABLE FOR 1966 and 1970
	hidden_effect = {
		set_variable = { ITA_FD_popularity = 0 }
		set_variable = { ITA_DC_popularity = 0 }
		set_variable = { ITA_BN_popularity = 0 }
	}
}

ITA_good_boy_scorza_points_1 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_good_boy_points
			value = 1
		}
		add_to_variable = {
			var = ita_good_boy_points_bank
			value = 1
		}
	}
	custom_effect_tooltip = ita_good_boy_scorza_1
}

ITA_good_boy_scorza_points_3 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_good_boy_points
			value = 3
		}
		add_to_variable = {
			var = ita_good_boy_points_bank
			value = 3
		}
	}
	custom_effect_tooltip = ita_good_boy_scorza_3
}

ITA_good_boy_scorza_points_5 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_good_boy_points
			value = 5
		}
		add_to_variable = {
			var = ita_good_boy_points_bank
			value = 5
		}
	}
	custom_effect_tooltip = ita_good_boy_scorza_5
}

ITA_bad_boy_scorza_points_1 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_bad_boy_points
			value = 1
		}
		add_to_variable = {
			var = ita_bad_boy_points_bank
			value = 1
		}
	}
	custom_effect_tooltip = ita_bad_boy_scorza_1
}

ITA_bad_boy_scorza_points_3 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_bad_boy_points
			value = 3
		}
		add_to_variable = {
			var = ita_bad_boy_points_bank
			value = 3
		}
	}
	custom_effect_tooltip = ita_bad_boy_scorza_3
}

ITA_bad_boy_scorza_points_5 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_bad_boy_points
			value = 5
		}
		add_to_variable = {
			var = ita_bad_boy_points_bank
			value = 5
		}
	}
	custom_effect_tooltip = ita_bad_boy_scorza_5
}

ITA_no_boy_scorza_points_1 = {
	hidden_effect = {
		add_to_variable = {
			var = ita_bad_boy_points_bank
			value = 1
		}
		add_to_variable = {
			var = ita_good_boy_points_bank
			value = 1
		}
	}
	custom_effect_tooltip = ita_no_boy_scorza
}

ITA_casa_point_5_gain = {
	hidden_effect = {
		add_to_variable = {
			var = ITA_Cassa_per_il_Mezzogiorno_Available
			value = 0.5
		}
	}
	custom_effect_tooltip = ita_point_5_gain_closer_to_new_project
}

ITA_casa_point_5_lose = {
	hidden_effect = {
		add_to_variable = {
			var = ITA_Cassa_per_il_Mezzogiorno_Available
			value = 0.5
		}
	}
	custom_effect_tooltip = ita_point_5_loss_farther_to_new_project
}


ITA_down_antifascist_resistance = { # scorza use
	if = {
		limit = {
			has_idea = ita_antifascist_resistance1
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance1
			add_idea = ita_antifascist_resistance2
		}
	}
	if = {
		limit = {
			has_idea = ita_antifascist_resistance2
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance2
			add_idea = ita_antifascist_resistance3
		}
	}
	if = {
		limit = {
			has_idea = ita_antifascist_resistance3
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance3
			add_idea = ita_antifascist_resistance4
		}
	}
}

ITA_restart_antifascist_resistance = { # scorza use
	if = {
		limit = {
			has_idea = ita_antifascist_resistance4
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance4
			add_idea = ita_antifascist_resistance1
		}
	}
	if = {
		limit = {
			has_idea = ita_antifascist_resistance2
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance2
			add_idea = ita_antifascist_resistance1
		}
	}
	if = {
		limit = {
			has_idea = ita_antifascist_resistance3
		}
		swap_ideas = {
			remove_idea = ita_antifascist_resistance3
			add_idea = ita_antifascist_resistance1
		}
	}
}

ITA_reset_election_pop = { #APPLICABLE FOR 1966 and 1970
	hidden_effect = {
		set_variable = { ITA_FD_popularity = 0 }
		set_variable = { ITA_DC_popularity = 0 }
		set_variable = { ITA_BN_popularity = 0 }
	}
}

ITA_stability_update = { # Used for Party Unity
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .9
						compare = greater_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 1
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .8
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .899
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 2
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .7
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .7999
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 3
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .6
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .6999
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 4
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .5
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .5999
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 5
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .4
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .499
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 6
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .3
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .399
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 7
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .2
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .299
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 8
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = .1
						compare = greater_than_or_equals
					}
					check_variable = {
						var = has_stability
						value = .199
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 9
			}
		}

		if = {
			limit = {
				ITA = {
					has_stability > 0
					check_variable = {
						var = has_stability
						value = .099
						compare = less_than_or_equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 10
			}
		}

		if = {
			limit = {
				ITA = {
					check_variable = {
						var = has_stability
						value = 0
						compare = equals
					}
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 11
			}
		}

		if = {
			limit = {
				ITA = {
					has_stability < 0
				}
			}
			set_variable = {
				var = ita_stability_drag
				value = 13
			}
		}
	}
}

ITA_wing_unity_FD = { #also used for party unity
	hidden_effect = {
		if = {
			limit = {
				check_variable = {
					var = party_popularity@progressivism
					value = party_popularity@socialist
					compare = less_than_or_equals
				}
			}
			set_temp_variable = { ITA_FDTEMPParty_Unity = party_popularity@progressivism }
			subtract_from_temp_variable = { ITA_FDTEMPParty_Unity = party_popularity@socialist }
		}
		if = {
			limit = {
				check_variable = {
					var = party_popularity@socialist
					value = party_popularity@progressivism
					compare = less_than_or_equals
				}
			}
			set_temp_variable = { ITA_FDTEMPParty_Unity = party_popularity@socialist }
			subtract_from_temp_variable = { ITA_FDTEMPParty_Unity = party_popularity@progressivism }
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.03
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = 0
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 0
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.09
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.06
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 2
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.12
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.09
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 4
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.15
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.12
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 6
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.18
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.15
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 8
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.21
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.18
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 10
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.24
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.21
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 12
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.27
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.24
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 14
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.30
					compare = greater_than
				}
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.27
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 15
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_FDTEMPParty_Unity
					value = -.30
					compare = less_than
				}
			}
			set_variable = {
				var = ITA_FDDivide
				value = 16
			}
		}
	}
}

ITA_wing_unity_BN = { #also used for party unity
	hidden_effect = {
		if = {
			limit = {
				check_variable = {
					var = party_popularity@paternalism
					value = party_popularity@fascism
					compare = less_than_or_equals
				}
			}
			set_temp_variable = { ITA_BNTEMPParty_Unity = party_popularity@paternalism }
			subtract_from_temp_variable = { ITA_BNTEMPParty_Unity = party_popularity@fascism }
		}
		if = {
			limit = {
				check_variable = {
					var = party_popularity@fascism
					value = party_popularity@paternalism
					compare = less_than_or_equals
				}
			}
			set_temp_variable = { ITA_BNTEMPParty_Unity = party_popularity@fascism }
			subtract_from_temp_variable = { ITA_BNTEMPParty_Unity = party_popularity@paternalism }
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.03
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = 0
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 0
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.09
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.06
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 2
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.12
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.09
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 4
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.15
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.12
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 6
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.18
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.15
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 8
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.21
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.18
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 10
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.24
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.21
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 12
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.27
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.24
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 14
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.30
					compare = greater_than
				}
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.27
					compare = less_than_or_equals
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 15
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_BNTEMPParty_Unity
					value = -.30
					compare = less_than
				}
			}
			set_variable = {
				var = ITA_BNDivide
				value = 16
			}
		}
	}
}

ITA_FD_popularity = { #also used for party unity
	hidden_effect = {
		set_temp_variable = { ITA_temp_pct_FDpop = 0 }
		add_to_temp_variable = { ITA_temp_pct_FDpop = party_popularity@socialist }
		add_to_temp_variable = { ITA_temp_pct_FDpop = party_popularity@progressivism }
		set_variable = { ITA_FD_coalition_pop = ITA_temp_pct_FDpop }
	}
}

ITA_BN_popularity = { #also used for party unity
	hidden_effect = {
		set_temp_variable = { ITA_temp_pct_BNpop = 0 }
		add_to_temp_variable = { ITA_temp_pct_BNpop = party_popularity@fascism }
		add_to_temp_variable = { ITA_temp_pct_BNpop = party_popularity@paternalism }
		set_variable = { ITA_BN_coalition_pop = ITA_temp_pct_BNpop }
	}
}

ITA_CD_popularity = { #not used for party unity, CD doesn't die
	hidden_effect = {
		set_temp_variable = { ITA_temp_pct_CDpop = 0 }
		add_to_temp_variable = { ITA_temp_pct_CDpop = party_popularity@liberalism }
		add_to_temp_variable = { ITA_temp_pct_CDpop = party_popularity@conservatism }
		set_variable = { ITA_CD_coalition_pop = ITA_temp_pct_CDpop }
	}
}

ITA_Party_Die_CheckFD = { #also used for party unity
	hidden_effect = {
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_FD_colapse
				}
				check_variable = {
					var = ITA_FD_Strength
					value = 20
					compare = greater_than_or_equals
				}
			}
			country_event = {
				id = itapartyunity.5
				days = 4
				random_hours = 1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_FD_colapse
				}
				check_variable = {
					var = ITA_CD_coalition_pop
					value = .1
					compare = less_than_or_equals
				}
			}
			country_event = {
				id = itapartyunity.5
				days = 4
				random_hours = 1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_FD_colapse
				}
				NOT = {
					check_variable = {
						var = ITA_FD_coalition_pop
						value = .1
						compare = less_than_or_equals
					}
				}
				NOT = {
					check_variable = {
						var = ITA_FD_Strength
						value = 20
						compare = greater_than_or_equals
					}
				}
			}

		}
	}
}

ITA_Party_Die_CheckBN = { #also used for party unity
	hidden_effect = {
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_BN_colapse
				}
				check_variable = {
					var = ITA_BN_Strength
					value = 20
					compare = greater_than_or_equals
				}
			}
			country_event = {
				id = itapartyunity.16
				days = 4
				random_hours = 1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_BN_colapse
				}
				check_variable = {
					var = ITA_BN_coalition_pop
					value = .1
					compare = less_than_or_equals
				}
			}
			country_event = {
				id = itapartyunity.16
				days = 4
				random_hours = 1
			}
		}
		if = {
			limit = {
				NOT = {
					has_country_flag = ITA_BN_colapse
				}
				NOT = {
					check_variable = {
						var = ITA_BN_coalition_pop
						value = .1
						compare = less_than_or_equals
					}
				}
				NOT = {
					check_variable = {
						var = ITA_BN_Strength
						value = 20
						compare = greater_than_or_equals
					}
				}
			}

		}
	}
}

ITA_influence_autonomy_update_CRO = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = CRO_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = CRO_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			CRO = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = CRO_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = CRO_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			CRO = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = CRO_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = CRO_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			CRO = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_GRE = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = GRE_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = GRE_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			GRE = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = GRE_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = GRE_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			GRE = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = GRE_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = GRE_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			GRE = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_BUL = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BUL_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BUL_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			BUL = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BUL_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BUL_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			BUL = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BUL_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BUL_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			BUL = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}
ITA_influence_autonomy_update_BOS = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BOS_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BOS_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			BOS = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BOS_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BOS_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			BOS = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = BOS_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = BOS_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			BOS = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}
ITA_influence_autonomy_update_MNT = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = MNT_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = MNT_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			MNT = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = MNT_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = MNT_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			MNT = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = MNT_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = MNT_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			MNT = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_ROM = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ROM_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ROM_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			ROM = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ROM_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ROM_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			ROM = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ROM_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ROM_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			ROM = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_SER = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = SER_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = SER_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			SER = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = SER_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = SER_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			SER = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = SER_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = SER_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			SER = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_HUN = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = HUN_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = HUN_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			HUN = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = HUN_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = HUN_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			HUN = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = HUN_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = HUN_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			HUN = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_FRA = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = FRA_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = FRA_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			FRA = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = FRA_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = FRA_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			FRA = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = FRA_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = FRA_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			FRA = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

ITA_influence_autonomy_update_ILG = {
	hidden_effect = {
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ILG_ITA_Influence
						value = 200
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ILG_ITA_Influence
						value = 300
						compare = less_than
					}
				}
			}
			ILG = {
				country_event = {
					id = ita.1001
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ILG_ITA_Influence
						value = 300
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ILG_ITA_Influence
						value = 400
						compare = less_than
					}
				}
			}
			ILG = {
				country_event = {
					id = ita.1002
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = {
						var = ILG_ITA_Influence
						value = 400
						compare = greater_than_or_equals
					}
					check_variable = {
						var = ILG_ITA_Influence
						value = 500
						compare = less_than
					}
				}
			}
			ILG = {
				country_event = {
					id = ita.1003
				}
			}
		}
	}
}

##OIL CRISIS##

ITA_oil_crisis_variable_initialization = {
	set_variable = { ITA_oc_demitaly_war_tier = 1 }
	set_variable = { ITA_oc_demitaly_war_support = 20 }
	set_variable = { ITA_run_the_propaganda_fatigue = 0 }
	set_variable = { ITA_spin_the_narrative_fatigue = 0 }
	set_variable = { run_propaganda_counter = 0 }
	set_variable = { spin_narrative_counter = 0 }
	set_variable = { ITA_max_volunteer_manpower = ITA.manpower }
	set_variable = { ITA_available_volunteer_manpower = 5000 }
	#ITA VOLUNTEER COMMITMENT: 1 IS 25%, 2 IS 50%, 3 IS 75%, 4 IS ALL
	set_variable = { ITA_volunteer_commitment = 1 }
}

ITA_weekly_manpower_update = {
	set_variable = { ITA_max_volunteer_manpower = ITA.manpower }
	set_temp_variable = { ITA_volunteer_manpower_random = random }
	multiply_variable = { ITA_volunteer_manpower_random = 1000 }
	round_variable = ITA_volunteer_manpower_random
	set_temp_variable = { ITA_total_volunteer_manpower = ITA_available_volunteer_manpower }
	add_to_temp_variable = { ITA_total_volunteer_manpower = ITA_volunteer_manpower_random }

	if = {
		limit = {
			check_variable = {
				var = ITA_oc_demitaly_war_support
				value = 50
				compare = greater_than_or_equals
			}
			check_variable = {
				var = ITA_max_volunteer_manpower
				value = ITA_total_volunteer_manpower
				compare = greater_than_or_equals
			}
		}
		random_list = {
			85 = {
				add_to_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
			15 = {
				subtract_from_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { ITA_oc_demitaly_war_support > 31 }
			check_variable = { ITA_oc_demitaly_war_support < 49 }
			check_variable = {
				var = ITA_max_volunteer_manpower
				value = ITA_total_volunteer_manpower
				compare = greater_than_or_equals
			}
		}
		random_list = {
			75 = {
				add_to_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
			25 = {
				subtract_from_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { ITA_oc_demitaly_war_support > 20 }
			check_variable = { ITA_oc_demitaly_war_support < 30 }
			check_variable = {
				var = ITA_max_volunteer_manpower
				value = ITA_total_volunteer_manpower
				compare = greater_than_or_equals
			}
		}
		random_list = {
			65 = {
				add_to_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
			35 = {
				subtract_from_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { ITA_oc_demitaly_war_support > 11 }
			check_variable = { ITA_oc_demitaly_war_support < 19 }
			check_variable = {
				var = ITA_max_volunteer_manpower
				value = ITA_total_volunteer_manpower
				compare = greater_than_or_equals
			}
		}
		random_list = {
			60 = {
				add_to_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
			40 = {
				subtract_from_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
		}
	}
	else_if = {
		limit = {
			check_variable = {
				var = ITA_oc_demitaly_war_support
				value = 10
				compare = less_than_or_equals
			}
			check_variable = {
				var = ITA_max_volunteer_manpower
				value = ITA_total_volunteer_manpower
				compare = greater_than_or_equals
			}
		}
		random_list = {
			55 = {
				add_to_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
			45 = {
				subtract_from_variable = { ITA_available_volunteer_manpower = ITA_volunteer_manpower_random }
			}
		}
	}
	else = {

	}
	clamp_variable = {
		var = ITA_available_volunteer_manpower
		min = 0
		max = 75000
	}
}

ITA_increase_antiwar_protests = {
	if = {
		limit = {
			has_idea = ITA_antiwar_protests_1
		}
		swap_ideas = {
			remove_idea = ITA_antiwar_protests_1
			add_idea = ITA_antiwar_protests_2
		}
	}
	if = {
		limit = {
			has_idea = ITA_antiwar_protests_2
		}
		swap_ideas = {
			remove_idea = ITA_antiwar_protests_2
			add_idea = ITA_antiwar_protests_3
		}
	}
}

ITA_decrease_antiwar_protests = {
	if = {
		limit = {
			has_idea = ITA_antiwar_protests_3
		}
		swap_ideas = {
			remove_idea = ITA_antiwar_protests_3
			add_idea = ITA_antiwar_protests_2
		}
	}
	if = {
		limit = {
			has_idea = ITA_antiwar_protests_2
		}
		swap_ideas = {
			remove_idea = ITA_antiwar_protests_2
			add_idea = ITA_antiwar_protests_1
		}
	}
}

ITA_manpower_giving = {
	set_temp_variable = { ITA_manpower_given = ITA_available_volunteer_manpower }
	if = {
		limit = {
			check_variable = { ITA_volunteer_commitment = 1 }
		}
		multiply_temp_variable = { ITA_manpower_given = .25 }
	}
	if = {
		limit = {
			check_variable = { ITA_volunteer_commitment = 2 }
		}
		multiply_temp_variable = { ITA_manpower_given = .5 }
	}
	if = {
		limit = {
			check_variable = { ITA_volunteer_commitment = 3 }
		}
		multiply_temp_variable = { ITA_manpower_given = .75 }
	}
	if = {
		limit = {
			check_variable = { ITA_volunteer_commitment = 4 }
		}
		multiply_temp_variable = { ITA_manpower_given = .25 }
	}
	round_variable = ITA_manpower_given
	THIS = {
		add_manpower = var:ITA_manpower_given
	}
	set_temp_variable = { ITA_manpower_taken = ITA_manpower_given }
	multiply_temp_variable = { ITA_manpower_taken = -1 }
	PREV = {
		add_manpower = var:ITA_manpower_taken
	}
	subtract_from_variable = { ITA_available_volunteer_manpower = ITA_manpower_given }
}

ITA_equipment_guns_giving = {
	FROM = {
		if = {
			limit = {
				ITA = {
					check_variable = { ITA_oc_demitaly_war_tier = 1 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 10
						compare = less_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 100
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 200
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 11 }
					check_variable = { ITA_oc_demitaly_war_support < 19 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 200
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 300
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 20 }
					check_variable = { ITA_oc_demitaly_war_support < 30 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 250
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 400
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 31 }
					check_variable = { ITA_oc_demitaly_war_support < 49 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 300
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_0
					amount = 500
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 50
						compare = greater_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 100
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 400
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = { ITA_oc_demitaly_war_tier = 2 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 10
						compare = less_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 100
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 200
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 11 }
					check_variable = { ITA_oc_demitaly_war_support < 19 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 200
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 300
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 20 }
					check_variable = { ITA_oc_demitaly_war_support < 30 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 250
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 400
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 31 }
					check_variable = { ITA_oc_demitaly_war_support < 49 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 300
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_1
					amount = 500
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 50
						compare = greater_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 100
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 400
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = { ITA_oc_demitaly_war_tier = 3 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 10
						compare = less_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 100
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 200
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 11 }
					check_variable = { ITA_oc_demitaly_war_support < 19 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 200
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 300
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 20 }
					check_variable = { ITA_oc_demitaly_war_support < 30 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 250
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 400
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 31 }
					check_variable = { ITA_oc_demitaly_war_support < 49 }
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 300
					producer = ITA
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_2
					amount = 500
					producer = ITA
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 50
						compare = greater_than_or_equals
					}
				}
				add_equipment_to_stockpile = {
					type = infantry_equipment_3
					amount = 500
					producer = ITA
				}
			}
		}
	}
}



ITA_equipment_APC_IFV_giving = {
	FROM = {
		if = {
			limit = {
				ITA = {
					check_variable = { ITA_oc_demitaly_war_tier = 2 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 10
						compare = less_than_or_equals
					}
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_2
						amount = 50
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_2
						amount = 200
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_2
						amount = 50
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_2
						amount = 200
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 11 }
					check_variable = { ITA_oc_demitaly_war_support < 19 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_2
						amount = 200
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_2
						amount = 300
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_2
						amount = 200
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_2
						amount = 300
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 20 }
					check_variable = { ITA_oc_demitaly_war_support < 30 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_2
						amount = 250
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_2
						amount = 400
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_2
						amount = 250
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_2
						amount = 400
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 31 }
					check_variable = { ITA_oc_demitaly_war_support < 49 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_2
						amount = 300
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_2
						amount = 500
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_2
						amount = 300
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_2
						amount = 500
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 50
						compare = greater_than_or_equals
					}
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 100
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 400
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 100
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 400
						producer = ITA
					}
				}
			}
		}
		if = {
			limit = {
				ITA = {
					check_variable = { ITA_oc_demitaly_war_tier = 3 }
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 10
						compare = less_than_or_equals
					}
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 100
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 200
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 100
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 200
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 11 }
					check_variable = { ITA_oc_demitaly_war_support < 19 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 200
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 300
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 200
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 300
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 20 }
					check_variable = { ITA_oc_demitaly_war_support < 30 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 250
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 350
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 250
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 350
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = { ITA_oc_demitaly_war_support > 31 }
					check_variable = { ITA_oc_demitaly_war_support < 49 }
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 275
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 400
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 275
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 400
						producer = ITA
					}
				}
			}
			if = {
				limit = {
					check_variable = {
						var = ITA_oc_demitaly_war_support
						value = 50
						compare = greater_than_or_equals
					}
				}
				if = { 
					limit = { 
						has_dlc = "No Step Back"
					}
					add_equipment_to_stockpile = {
						type = IFV_chassis_1
						amount = 350
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_chassis_1
						amount = 500
						producer = ITA
					}
				}
				else = {
					add_equipment_to_stockpile = {
						type = IFV_equipment_1
						amount = 350
						producer = ITA
					}
					add_equipment_to_stockpile = {
						type = APC_equipment_1
						amount = 500
						producer = ITA
					}
				}
			}
		}
	}
}

ITA_equipment_tanks_giving = {
	FROM = {
		if = {
			limit = {
				check_variable = {
					var = ITA_oc_demitaly_war_support
					value = 10
					compare = less_than_or_equals
				}
			}
			if = { 
				limit = { 
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = MBT_chassis_1
					amount = 40
					producer = ITA
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_equipment_1
					amount = 40
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				check_variable = { ITA_oc_demitaly_war_support > 11 }
				check_variable = { ITA_oc_demitaly_war_support < 19 }
			}
			if = { 
				limit = { 
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = MBT_chassis_1
					amount = 60
					producer = ITA
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_equipment_1
					amount = 60
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				check_variable = { ITA_oc_demitaly_war_support > 20 }
				check_variable = { ITA_oc_demitaly_war_support < 30 }
			}
			if = { 
				limit = { 
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = MBT_chassis_1
					amount = 80
					producer = ITA
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_equipment_1
					amount = 80
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				check_variable = { ITA_oc_demitaly_war_support > 31 }
				check_variable = { ITA_oc_demitaly_war_support < 49 }
			}
			if = { 
				limit = { 
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = MBT_chassis_1
					amount = 100
					producer = ITA
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_equipment_1
					amount = 100
					producer = ITA
				}
			}
		}
		if = {
			limit = {
				check_variable = {
					var = ITA_oc_demitaly_war_support
					value = 50
					compare = greater_than_or_equals
				}
			}
			if = { 
				limit = { 
					has_dlc = "No Step Back"
				}
				add_equipment_to_stockpile = {
					type = MBT_chassis_1
					amount = 125
					producer = ITA
				}
			}
			else = {
				add_equipment_to_stockpile = {
					type = MBT_equipment_1
					amount = 125
					producer = ITA
				}
			}
		}
	}
}

ITA_volunteer_divisions_giving = {
	FROM = {
		add_manpower = 7000
		ITA = {
			subtract_from_variable = { ITA_available_volunteer_manpower = 7000 }
		}
		capital_scope = {
			create_unit = {
				division = "name = \"Divisione Volontaria Italiana\" division_template = \"Divisione Volontaria\" start_experience_factor = 0.2"
				owner = PREV.PREV.PREV
			}
		}
	}
}
