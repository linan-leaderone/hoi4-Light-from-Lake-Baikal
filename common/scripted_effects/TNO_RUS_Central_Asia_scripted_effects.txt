Turkmenistan_Regime_Change_A2 = {
	TRK = {
		retire_country_leader = yes
		promote_character = TRK_Ziyauddin_Babakhan
		set_politics = {
			ruling_party = socialist
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			communist = 20
			socialist = 50
			progressivism = 30
		}
		remove_ideas = {
			TRK_Question_Of_Identity
			TRK_Fragmented_Tribes
		}
		remove_all_ministers = yes
		add_ideas = {
			TRK_Sobir_Rakhimovo_hog
			TRK_Batyr_Kurbanovich_Sarjaev_for
			TRK_Batyrkair_Kaskabasov_eco
			TRK_Shamsuddin_Babakhan_sec
		}
		set_cosmetic_tag = TRK_Islamic
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_NO
					}
				}
				TRK = { Turkmenistan_Regime_Change_A4 = yes }
			}
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_YES
					}
				}
				#nothing.
			}
		}
	}
}
Turkmenistan_Regime_Change_A1 = {
	TRK = {
		retire_country_leader = yes
		promote_character = TRK_Mirsaid_Sultangaliyev
		set_politics = {
			ruling_party = communist
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			socialist = 27
			communist = 33
			progressivism = 12
			liberalism = 0
			conservatism = 14
			paternalism = 14
			ultranationalism = 0
		}
		remove_ideas = {
			TRK_Question_Of_Identity
			TRK_Fragmented_Tribes
			TRK_Annamukhamed_Klychev_for
			TRK_Oraz_Orazmukhamedov_eco
			TRK_Anna_Kareyev_sec
		}
		add_ideas = {
			TRK_Guwanch_Myratlyev_sec
			TRK_Bajramov_Nurberdy_eco
			TRK_Mamazhan_Dadazhanov_for
		}
		set_cosmetic_tag = TRK_Basmachi
		
		random_list = {
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_NO
					}
				}
				TRK = { Turkmenistan_Regime_Change_A4 = yes }
			}
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_YES
					}
				}
				#nothing.
			}
		}
	}
}
Turkmenistan_Regime_Change_A3 = {
	TRK = {
		remove_ideas = {
			TRK_Question_Of_Identity
			TRK_Fragmented_Tribes
		}
		random_list = {
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_NO
					}
				}
				TRK = { Turkmenistan_Regime_Change_A4 = yes }
			}
			50 = {
				modifier = {
					factor = 0
					has_game_rule = {
						rule = TRK_OFN_COUP
						option = TRK_OFN_COUP_YES
					}
				}
				#nothing.
			}
		}
	}
}
Turkmenistan_Regime_Change_A4 = {
	TRK = {
		retire_country_leader = yes
		promote_character = TRK_Sarry_Karryev
		set_politics = {
			ruling_party = despotism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			socialist = 20
			progressivism = 10
			conservatism = 20
			paternalism = 30
			despotism = 20
		}
		set_party_name = {
			ideology = despotism
			long_name = TRK_Military_Coup_long
			name = TRK_Military_Coup
		}
		set_cosmetic_tag = TRK_Coup
		set_country_flag = TRK_Coup
		TRK = { econ_join_sphere_TUR = yes }
	}
}

Kyrgyzstan_Regime_Change_A1 = {
	KYR = {
		remove_ideas = KYR_Stabilization_Regime
		remove_all_ministers = yes
		add_ideas = {
			KYR_Abbas_Jumagulov_for
			KYR_Kalima_Amankulova_eco
			KYR_Abdukadyr_Urazbekov_sec
			KYR_Temirlan_Alibievich_Dzhangildin_hog
		}
		retire_country_leader = yes
		promote_character = KYR_Turdakun_Usulbaliev
		set_politics = {
			ruling_party = despotism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			communist = 33
			socialist = 0
			progressivism = 0
			liberalism = 0
			liberal_conservatism = 0
			conservatism = 0
			despotism = 67
			paternalism = 0
			fascism = 0
			national_socialism = 0
			ultranationalism = 0
		}
		econ_leave_sphere = yes
		set_cosmetic_tag = KYR_Talas
		
		if = {
			limit = { has_idea = KOM_socintern_associate }
			remove_ideas = KOM_socintern_associate
		}
		if = {
			limit = { has_idea = KOM_socintern_member }
			remove_ideas = KOM_socintern_member
		}
		clr_country_flag = SOCINTERN_MEMBER
	}
}

Kyrgyzstan_Regime_Change_A2 = {
	KYR = {
		remove_ideas = {
			KYR_Turdakun_Usulbaliev_hog
		}
		add_ideas = {
			KYR_Kaliynur_Usenbekov_hog
		}
	}
}

Tajikistan_Regime_Change_A3 = {
	TAJ = {
		retire_country_leader = yes
		set_politics = {
			ruling_party = conservatism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = yes
		}
		set_cosmetic_tag = TAJ_ConDem
		promote_character = TAJ_Buriniso_Berdieva
		if = {
			limit = {
				NOT = {
					KYR = {
						has_government = despotism
					}
				}
			}
			country_event = {
				id = central_asia.10
				days = 180
			}
		}
	}
}

Tajikistan_Regime_Change_A2 = {
	TAJ = {
		retire_country_leader = yes
		set_politics = {
			ruling_party = despotism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		add_country_leader_role = {
			character = TAJ_Nusratullo_Abdulkhakov
			promote_leader = yes
			country_leader = {
				desc = "POLITICS_NUSRATULLO_ABDULKHAKOV_DESC"
				ideology = despotism_military_junta_subtype
				expire = "1999.1.1"
				traits = { }
				id = -1
			}
		}
		if = {
			limit = {
				NOT = {
					KYR = {
						has_government = despotism
					}
				}
			}
			country_event = {
				id = central_asia.10
				days = 180
			}
		}
		set_cosmetic_tag = TAJ_Hardliner
	}
}

Tajikistan_Regime_Change_A1 = {
	TAJ = {
		retire_country_leader = yes
		set_politics = {
			ruling_party = ultranationalism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			communist = 10
			socialist = 0
			progressivism = 0
			liberalism = 0
			liberal_conservatism = 0
			conservatism = 10
			paternalism = 10
			despotism = 10
			fascism = 0
			national_socialism = 0
			ultranationalism = 60
		}
		promote_character = TAJ_Mawlawi_Hindustoni
		remove_ideas = TAJ_Jabbor_Rasulov_hog
		add_ideas = TAJ_Abdulkerim_Osmanoglu_hog
		set_cosmetic_tag = TAJ_Islam
	}
}

Karakalpak_Regime_Change_A1 = {
	KRK = {
		retire_country_leader = yes
		set_politics = {
			ruling_party = liberal_conservatism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		set_popularities = {
			communist = 20
			socialist = 20
			progressivism = 20
			liberalism = 0
			liberal_conservatism = 40
			conservatism = 0
			paternalism = 0
			despotism = 0
			fascism = 0
			national_socialism = 0
			ultranationalism = 0
		}
		set_cosmetic_tag = KRK_United_Democratic
	}
}

UTL_Regime_Change_A1 = {
	UTL = {
		effect_tooltip = { kill_country_leader = yes }
		set_politics = {
			ruling_party = fascism
		}
		promote_character = UTL_Baymirza_Hayit
		set_popularities = {
			communist = 0
			socialist = 0
			progressivism = 0
			liberalism = 0
			conservatism = 0
			paternalism = 0
			despotism = 20
			fascism = 60
			national_socialism = 20
			ultranationalism = 0
		}
		set_cosmetic_tag = UTL_Baymirza_Legion
	}
}

UTL_Regime_Change_A2 = {
	UTL = {
		effect_tooltip = { kill_country_leader = yes }
		set_politics = {
			ruling_party = despotism
		}
		add_country_leader_role = {
			character = UTL_Sher_Muhammad
			promote_leader = yes
			country_leader = {
				desc = "POLITICS_SHER_MUHAMMAD_DESC"
				ideology = despotism_personalistic_dictatorship_subtype
				expire = "1999.1.1"
				traits = { }
				id = -1
			}
		}
		set_popularities = {
			communist = 0
			socialist = 0
			progressivism = 0
			liberalism = 0
			conservatism = 0
			paternalism = 0
			despotism = 60
			fascism = 20
			national_socialism = 20
			ultranationalism = 0
		}
		set_cosmetic_tag = UTL_Korsimat
	}
}

Uzbekistan_Regime_Change_A1 = {
	UZB = {
		retire_country_leader = yes
		set_politics = {
			ruling_party = conservatism
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}
		swap_ideas = {
			remove_idea = UZB_Rise_of_Discontent
			add_idea = UZB_The_Oligarchy
		}

		promote_character = UZB_Islam_Karimov

		set_popularities = {
			communist = 8
			socialist = 3
			progressivism = 17
			liberalism = 16
			conservatism = 21
			paternalism = 23
			despotism = 0
			fascism = 7
			national_socialism = 5
			ultranationalism = 0
		}
		set_cosmetic_tag = UZB_Democratic
	}
}

Uzbekistan_Regime_Change_A2 = {
	UZB = {
		retire_country_leader = yes
		add_country_leader_role = {
			character = UZB_Azim_Rakhimov
			promote_leader = yes
			country_leader = {
				ideology = communist_national_communism_subtype
				expire = "1999.1.1"
				traits = { }
				id = -1
			}
		}
		set_politics = {
			ruling_party = communist
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}

		remove_ideas = {
			UZB_Rise_of_Discontent
			UZB_The_Oligarchy
		}

		set_popularities = {
			communist = 45
			socialist = 35
			progressivism = 0
			liberalism = 10
			conservatism = 10
			ultranationalism = 0
		}
		set_cosmetic_tag = UZB_VictoriousCommie
	}
}

Uzbekistan_Regime_Change_A3 = {
	UZB = {
		retire_country_leader = yes
		add_country_leader_role = {
			character = UZB_Vildan_Saidovich_Khabiev
			promote_leader = yes
			country_leader = {
				ideology = communist_bolshevism_subtype
				expire = "1999.1.1"
				traits = { }
				id = -1
			}
		}
		set_politics = {
			ruling_party = communist
			last_election = "1933.3.5"
			election_frequency = 48
			elections_allowed = no
		}

		remove_ideas = {
			UZB_Rise_of_Discontent
			UZB_The_Oligarchy
		}

		set_popularities = {
			communist = 45
			socialist = 35
			progressivism = 0
			liberalism = 10
			conservatism = 10
			ultranationalism = 0
		}
		set_cosmetic_tag = UZB_VictoriousCommie
	}
}


TNO_arrange_CA_conference_seats = {
	TRK = {
		clear_array = CA_Conference_seat_x
		clear_array = CA_Conference_seat_y

		set_temp_variable = { outer_x = 45 }
		set_temp_variable = { outer_y = 13 }

		set_temp_variable = { inner_x = 25 }
		set_temp_variable = { inner_y = 74 }

		for_loop_effect = {
			start = 0
			end = 41
			value = j

			if = {
				limit = {
					NOT = {
						AND = {
							check_variable = { j > 14 }
							check_variable = { j < 17 }
						}
						AND = {
							check_variable = { j > 24 }
							check_variable = { j < 27 }
						}
					}
				}

				set_temp_variable = { last_outer_x = outer_x }

				if = {
					limit = { check_variable = { j < 31 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -4 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 32 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -4 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 33 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 34 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -6 }
				add_to_temp_variable = { outer_y = 10 }

				if = {
					limit = { check_variable = { j < 36 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 38 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 39 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -2 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 40 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = -2 }
				add_to_temp_variable = { outer_y = 5 }
				add_to_array = { CA_Conference_seat_x = outer_x }
				add_to_array = { CA_Conference_seat_y = outer_y }
				add_to_temp_variable = { outer_x = -2 }
				add_to_temp_variable = { outer_y = 5 }
				add_to_array = { CA_Conference_seat_x = outer_x }
				add_to_array = { CA_Conference_seat_y = outer_y }
				add_to_temp_variable = { outer_y = 67 }
			}

			if = {
				limit = {
					NOT = {
						check_variable = { j < 2 }
						AND = {
							check_variable = { j > 16 }
							check_variable = { j < 19 }
						}
						AND = {
							check_variable = { j > 28 }
							check_variable = { j < 31 }
						}
					}

				}

				set_temp_variable = { last_inner_x = inner_x }

				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_x = -1 }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_x = -1 }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_x = 1 }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }
				add_to_temp_variable = { inner_x = 1 }
				add_to_temp_variable = { inner_y = 5 }
				add_to_array = { CA_Conference_seat_x = inner_x }
				add_to_array = { CA_Conference_seat_y = inner_y }

				set_temp_variable = { inner_y = 74 }
				set_temp_variable = { inner_x = last_inner_x }
				add_to_temp_variable = { inner_x = 6 }
			}

			if = {
				limit = {
					NOT = {
						AND = {
							check_variable = { j > 14 }
							check_variable = { j < 17 }
						}
						AND = {
							check_variable = { j > 24 }
							check_variable = { j < 27 }
						}
					}
				}

				add_to_array = { CA_Conference_seat_x = outer_x }
				add_to_array = { CA_Conference_seat_y = outer_y }
				add_to_temp_variable = { outer_x = 2 }
				add_to_temp_variable = { outer_y = 5 }
				add_to_array = { CA_Conference_seat_x = outer_x }
				add_to_array = { CA_Conference_seat_y = outer_y }
				add_to_temp_variable = { outer_x = 2 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 40 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 2 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 39 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 38 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 36 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 6 }
				add_to_temp_variable = { outer_y = 10 }

				if = {
					limit = { check_variable = { j < 34 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 3 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 33 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 4 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 32 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}
				add_to_temp_variable = { outer_x = 4 }
				add_to_temp_variable = { outer_y = 5 }
				if = {
					limit = { check_variable = { j < 31 } }
					add_to_array = { CA_Conference_seat_x = outer_x }
					add_to_array = { CA_Conference_seat_y = outer_y }
				}

				set_temp_variable = { outer_y = 13 }
				set_temp_variable = { outer_x = last_outer_x }
				add_to_temp_variable = { outer_x = 6 }
			}

			if = {
				limit = { check_variable = { j = 6 } }
				add_to_temp_variable = { outer_x = 10 }
				add_to_temp_variable = { inner_x = 10 }
			}
			if = {
				limit = { check_variable = { j = 16 } }
				add_to_temp_variable = { outer_x = 10 }
				add_to_temp_variable = { inner_x = 10 }
			}
			if = {
				limit = { check_variable = { j = 26 } }
				add_to_temp_variable = { outer_x = 10 }
			}
			if = {
				limit = { check_variable = { j = 30 } }
				add_to_temp_variable = { inner_x = 10 }
			}
		}

		clear_array = CA_Conference_indices
		for_loop_effect = {
			start = 0
			end = 1000
			value = j

			add_to_array = { CA_Conference_indices = j }
		}

		for_loop_effect = {
			start = 0
			end = 1000
			value = j

			set_temp_variable = { k = 1 }
			multiply_temp_variable = { k = 1000 }
			round_temp_variable = k

			set_temp_variable = { tmp_CA = CA_Conference_indices^k }
			set_variable = { CA_Conference_indices^k = CA_Conference_indices^j }
			set_variable = { CA_Conference_indices^j = tmp_CA }
		}

	}
}

TNO_setup_CA_Conference = {
	# Add to Ongoing Conflicts
	GER = {
		set_temp_variable = { Victory_ID = 22 }
		Cold_War_GUI_AddVictory = yes
	}
	JAP = {
		set_temp_variable = { Victory_ID = 22 }
		Cold_War_GUI_AddVictory = yes
	}
	USA = {
		#TNO_fopo_add_ca_conference_tab = yes
		#activate_mission = TK_USA_tick
		#country_event = {
		#	id = CA_TK_Events.11
		#}
		random_list = {
			33 = {
				set_country_flag = SUPPORTED_PODA
			}
			33 = {
				set_country_flag = SUPPORTED_BABAKHAN
			}
			33 = {
				set_country_flag = SUPPORTED_GALIYEV
			}
		}
	}
	JAP = {
		TNO_fopo_add_ca_conference_tab = yes
		activate_mission = JAP_blow_it_up
		activate_mission = TK_Japan_tick
		country_event = {
			id = CA_TK_Events.13
		}
	}
	GER = {
		TNO_fopo_add_ca_conference_tab = yes
		activate_mission = TK_Germany_tick
		country_event = {
			id = CA_TK_Events.12
		}
	}
	TRK = {
		set_country_flag = TRK_DC_Happening
		set_global_flag = TNO_TURKES_KENES_DUMMY_TICK
		clear_array = TK_delegates
		clear_array = TK_delegates
		add_to_array = { TK_delegates = 0 }
		resize_array = { TK_delegates = 3 }
		set_variable = { TK_delegates^0 = 600 }
		set_variable = { TK_delegates^1 = 300 }
		set_variable = { TK_delegates^2 = 100 }
		set_variable = { CA_Conference_tension = 0 }
		set_variable = { CA_Conference_suspicion = 0 }
		if = {
			limit = { has_country_flag = TRK_Coup }
			subtract_from_variable = { TK_delegates^0 = 150 }
			add_to_variable = { TK_delegates^1 = 150 }
			add_to_variable = { CA_Conference_tension = 20 }
		}
		if = {
			limit = {
				NOT = {
					has_game_rule = {
						rule = CA_CONFERENCE
						option = DEFAULT
					}
				}
			}
			set_variable = { CCP_JAP_delay_the_conference_counter = 0 }
			set_variable = { CCP_JAP_delay_the_conference = 0 }
		}

		# add_to_variable = { CA_Conference_tension = CA_Conference_tension_extra }
		# This variable isn't set yet? @Fetti
		
		TNO_arrange_CA_conference_seats = yes
		TNO_update_CA_conference_display = yes

		set_variable = { CA_Conference_days_left = 365 }

		country_event = {
			id = central_asia.200
			days = 1
		}
		# country_event = {
		#	id = CA_TK_skeleton.18
		# 	days = 180
		# }
	}
	TAJ = {
		if = {
			limit = {
				NOT = {
					has_country_leader = {
						character = TAJ_Mawlawi_Hindustoni
						ruling_only = yes
					}
				}
			}
			country_event = {
				id = CA_TK_skeleton.2
				days = 20
			}
		}
		if = {
			limit = {
				is_in_faction_with = KYR
			}
			KYR = {
				country_event = {
					id = CA_TK_skeleton.3
					days = 40
				}
			}
		}
		else = {
			KYR = {
				country_event = {
					id = CA_TK_skeleton.4
					days = 90
				}
			}
		}
	}
	KYR = {
		country_event = {
			id = CA_TK_skeleton.5
			days = 120
		}
		transfer_state = 1467
		add_state_core = 1467
	}
	1467 = {
		set_demilitarized_zone = no
	}
}
TNO_Turkes_kenes_results = {
	if = {
		limit = { has_global_flag = TNO_TURKES_KENES_OVER_USA_WINS }
		GER = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 2 }
			set_temp_variable = { Victory_Points = -50 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		JAP = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 2 }
			set_temp_variable = { Victory_Points = -25 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		if = {
			limit = {
				AND = {
					check_variable = { TRK.TK_delegates^1 > 599 }
				}
			}
			if = {
				limit = {
					country_exists = KRK
				}
				TRK = {
					annex_country = {
						target = KRK
						transfer_troops = yes
					}
				}
			}
			else = {
				TRK = {
					add_state_core = 750
					transfer_state = 750
				}
			}
		}
		if = {
			limit = {
				AND = {
					check_variable = { TRK.TK_delegates^1 > 699 }
				}
			}
			if = {
				limit = {
					country_exists = UZB
				}
				TRK = {
					annex_country = {
						target = UZB
						transfer_troops = yes
					}
				}
			}
			else = {
				TRK = {
					add_state_core = 585
					transfer_state = 585
					add_state_core = 405
					transfer_state = 405
					add_state_core = 1467
					transfer_state = 1467
				}
			}
		}
		if = {
			limit = {
				AND = {
					check_variable = { TRK.TK_delegates^1 > 749 }
				}
			}
			if = {
				limit = {
					country_exists = TAJ
				}
				TRK = {
					annex_country = {
						target = TAJ
						transfer_troops = yes
					}
				}
			}
			else = {
				TRK = {
					add_state_core = 742
					transfer_state = 742
				}
			}
		}
		if = {
			limit = {
				AND = {
					check_variable = { TRK.TK_delegates^1 > 849 }
				}
			}
			if = {
				limit = {
					country_exists = KYR
				}
				TRK = {
					annex_country = {
						target = KYR
						transfer_troops = yes
					}
				}
			}
			else = {
				TRK = {
					add_state_core = 732
					transfer_state = 732
					add_state_core = 586
					transfer_state = 586
					add_state_core = 1466
					transfer_state = 1466
				}
			}
		}
		TRK = {
			set_cosmetic_tag = TRK_united
			country_event = {
				id = CA_TK_skeleton.32
				days = 10
			}
		}
		every_country = {
			news_event = { id = WORLD.30050 }
		}
	}
	else_if = {
		limit = { has_global_flag = TNO_TURKES_KENES_OVER_GER_WINS }
		GER = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 4 }
			set_temp_variable = { Victory_Points = 50 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		JAP = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 2 }
			set_temp_variable = { Victory_Points = -25 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		every_country = {
			news_event = { id = WORLD.30051 }
		}
		KYR = {
			if = {
				limit = {
					is_faction_leader = yes
				}
				dismantle_faction = yes
			}
		}
		TRK = {
			if = {
				limit = {
					is_faction_leader = yes
				}
				dismantle_faction = yes
			}
		}
		UTL = {
			load_oob = "UTL_1962"
			load_oob = "UTL_1962"
			add_manpower = 200000
			apply_war_buff_with_5_divisions = yes
		}
		every_country = {
			limit = {
				AND = {
					has_country_flag = IS_CA_NATION
					NOT = { tag = UTL }
				}
			}
			add_ideas = CA_Turkes_Kenes_Infighting
			UTL = {
				declare_war_on = {
					target = PREV
					type = annex_everything
				}
			}
		}
	}
	else_if = {
		limit = { has_global_flag = TNO_TURKES_KENES_OVER_NEUTRALITY }
		GER = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 2 }
			set_temp_variable = { Victory_Points = -25 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		JAP = {
			set_temp_variable = { Victory_ID = 22 }
			set_temp_variable = { Victory_Outcome = 4 }
			set_temp_variable = { Victory_Points = 25 }
			Cold_War_GUI_ManipulateVictory = yes
		}
		every_country = {
			news_event = { id = WORLD.30053 }
		}
		TAJ = {
			load_oob = "TAJ_1962"
			load_oob = "TAJ_1962"
		}
		KYR = {
			load_oob = "KYR_1962"
			load_oob = "KYR_1962"
		}
		every_country = {
			limit = {
				AND = {
					has_country_flag = IS_CA_NATION
					NOT = { is_in_faction_with = KYR }
				}
			}
			add_ideas = CA_Turkes_Kenes_Apathy
		}
		UTL = {
			declare_war_on = {
				target = KYR
				type = annex_everything
			}
		}
	}
	set_global_flag = TNO_TURKES_KENES_OVER_OVER
}

TNO_update_CA_conference_display = {
	TRK = {
		clear_array = CA_Conference_alignment
		resize_array = { array = CA_Conference_alignment value = 1 size = TK_delegates^1 }
		set_temp_variable = { total = TK_delegates^1 }
		add_to_temp_variable = { total = TK_delegates^0 }
		#add_to_temp_variable = { total = TK_delegates^2 }
		resize_array = { array = CA_Conference_alignment value = 2 size = total }
		resize_array = { array = CA_Conference_alignment value = 3 size = 1000 }
	}
}

TNO_CA_change_TK_days = {
	hidden_effect = {
		USA = {
			add_days_mission_timeout = {
				mission = TK_USA_tick
				days = CA_Conference_days_change_temp
			}
		}
		GER = {
			add_days_mission_timeout = {
				mission = TK_Germany_tick
				days = CA_Conference_days_change_temp
			}
		}
		JAP = {
			add_days_mission_timeout = {
				mission = TK_Japan_tick
				days = CA_Conference_days_change_temp
			}
		}
	}
	TRK = {
		add_to_variable = { CA_Conference_days_left = CA_Conference_days_change_temp }
	}
	custom_effect_tooltip = TNO_CA_change_TK_days_tt
}

TNO_CA_change_TK_suspicion = {
	add_to_variable = { TRK.CA_Conference_suspicion = CA_Conference_suspicion_temp }
	clamp_variable = { var = TRK.CA_Conference_suspicion min = 0 max = 100 }
	custom_effect_tooltip = TK_change_suspicion_tt
}

TNO_CA_change_TK_tension = {
	add_to_variable = { TRK.CA_Conference_tension = CA_Conference_tension_temp }
	clamp_variable = { var = TRK.CA_Conference_tension min = 0 max = 100 }
	custom_effect_tooltip = TK_change_tension_tt
}

TNO_CA_Conference_daily_tick = {
	subtract_from_variable = { CA_Conference_days_left = 1 }
	if = {
		limit = {
			has_game_rule = {
				rule = CA_CONFERENCE
				option = CA_CONFERENCE_USA
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				NOT = {
					check_variable = {
						TK_delegates^1 > 849
					}
				}
			}
			set_variable = {
				TK_delegates^1 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^2 > 850
				}
				check_variable = {
					CA_Conference_tension > 70
				}
			}
			set_variable = {
				TK_delegates^2 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^0 > 850
				}
			}
			set_variable = {
				TK_delegates^0 = 850
			}
		}
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = CA_CONFERENCE
				option = CA_CONFERENCE_GER
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				check_variable = {
					TK_delegates^1 > 599
				}
			}
			set_variable = {
				TK_delegates^1 = 599
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				NOT = {
					check_variable = {
						TK_delegates^2 > 499
					}
				}
			}
			set_variable = {
				TK_delegates^2 = 500
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				NOT = {
					check_variable = {
						CA_Conference_tension > 70
					}
				}
			}
			set_variable = {
				CA_Conference_tension = 71
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^1 > 850
				}
			}
			set_variable = {
				TK_delegates^1 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^0 > 850
				}
			}
			set_variable = {
				TK_delegates^0 = 850
			}
		}
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = CA_CONFERENCE
				option = CA_CONFERENCE_JAP
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^0 > 850
				}
			}
			set_variable = {
				TK_delegates^0 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^1 > 850
				}
			}
			set_variable = {
				TK_delegates^1 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^2 > 850
				}
				check_variable = {
					CA_Conference_tension > 70
				}
			}
			set_variable = {
				TK_delegates^2 = 850
			}
		}
		if = {
			limit = {
				check_variable = { CA_Conference_suspicion > 95 }
				check_variable = { CA_Conference_days_left > 0 }
				JAP = { has_country_flag = TNO_CA_WARNING_2 }
			}
			set_variable = {
				CA_Conference_suspicion = 95
			}
		}
		add_to_variable = {
			CCP_JAP_delay_the_conference = 1
		}
		if = {
			limit = {
				check_variable = {
					CCP_JAP_delay_the_conference = 50
				}
				NOT = {
					check_variable = {
						CCP_JAP_delay_the_conference_counter > 5
					}
				}
			}
			set_temp_variable = { CA_Conference_days_change_temp = 30 }
			TNO_CA_change_TK_days = yes
			set_temp_variable = { CA_Conference_suspicion_temp = 10 }
			TNO_CA_change_TK_suspicion = yes
			JAP = {
				add_political_power = -30
			}
			set_variable = {
				CCP_JAP_delay_the_conference = 0
			}
			add_to_variable = {
				CCP_JAP_delay_the_conference_counter = 1
			}
		}
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = CA_CONFERENCE
				option = CA_CONFERENCE_AFG
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				check_variable = {
					TK_delegates^1 > 599
				}
			}
			set_variable = {
				TK_delegates^1 = 599
			}
		}
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				check_variable = {
					TK_delegates^2 > 499
				}
				check_variable = {
					CA_Conference_tension > 70
				}
			}
			set_variable = {
				TK_delegates^2 = 499
			}
		}		
		if = {
			limit = {
				check_variable = {
					CA_Conference_days_left = 0
				}
				NOT = {
					check_variable = {
						TK_delegates^0 > 599
					}
				}
			}
			set_variable = {
				TK_delegates^0 = 600
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^1 > 850
				}
			}
			set_variable = {
				TK_delegates^1 = 850
			}
		}
		if = {
			limit = {
				check_variable = {
					TK_delegates^2 > 850
				}
				check_variable = {
					CA_Conference_tension > 70
				}
			}
			set_variable = {
				TK_delegates^2 = 850
			}
		}
		if = {
			limit = {
				check_variable = { CA_Conference_suspicion > 95 }
				check_variable = { CA_Conference_days_left > 0 }
				JAP = { has_country_flag = TNO_CA_WARNING_2 }
			}
			set_variable = {
				CA_Conference_suspicion = 95
			}
		}
	}
	# Big line of checks, wish there was a more efficient way.
	if = {
		limit = {
			OR = {
				check_variable = { TK_delegates^1 > 850 }
				AND = {
					check_variable = { CA_Conference_days_left = 0 }
					check_variable = { TK_delegates^1 > 599 }
				}
			}
		}
		set_global_flag = TNO_TURKES_KENES_OVER_USA_WINS
		GER = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		JAP = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		TNO_Turkes_kenes_results = yes
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { TK_delegates^2 > 850 }
				AND = {
					check_variable = { CA_Conference_days_left = 0 }
					check_variable = { TK_delegates^2 > 499 }
				}
			}
			check_variable = { CA_Conference_tension > 70 }
		}
		set_global_flag = TNO_TURKES_KENES_OVER_GER_WINS
		GER = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		JAP = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		TNO_Turkes_kenes_results = yes
	}
	else_if = {
		limit = {
			OR = {
				check_variable = { TK_delegates^0 > 850 }
				check_variable = { CA_Conference_days_left = 0 }
			}
		}
		set_global_flag = TNO_TURKES_KENES_OVER_NEUTRALITY
		GER = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		JAP = {
			TNO_fopo_remove_ca_conference_tab = yes
		}
		TNO_Turkes_kenes_results = yes
	}
	else = {
		# Set the random value
		randomize_temp_variable = {
			var = throwaway_temp_value
			distribution = uniform
			min = 0
			max = 10
		}
		# Slap on daily delegation variation


		set_variable = { TRK_daily_delegation_variation = throwaway_temp_value }

		## Tension removes delegates willing to budge from their position
		set_temp_variable = { temp_tension_variable = CA_Conference_tension }
		divide_temp_variable = { temp_tension_variable = 10 }
		subtract_from_variable = { TRK_daily_delegation_variation = temp_tension_variable }
		#subtract_from_variable = { CA_Conference_tension = 0.1 }
		#clamp_variable = { var = CA_Conference_tension min = 0 max = 100 }
		clamp_variable = {
			var = TRK_daily_delegation_variation
			min = 0
			max = 10
		}

		## Suspicion increases delegates willing to budge from their position
		set_temp_variable = { temp_suspicion_variable = CA_Conference_suspicion }
		divide_temp_variable = { temp_suspicion_variable = 10 }
		add_to_variable = { TRK_daily_delegation_variation = temp_suspicion_variable }
		clamp_variable = {
			var = TRK_daily_delegation_variation
			min = 0
			max = 10
		}
		if = { # Japan gets yeeted
			limit = { check_variable = { CA_Conference_days_left > 15 } }
			if = {
				limit = {
					AND = {
						check_variable = { CA_Conference_suspicion > 70 }
						check_variable = { CA_Conference_days_left > 0 }
						NOT = {
							JAP = { has_country_flag = TNO_CA_WARNING_1 }
							JAP = { has_country_flag = TNO_CA_WARNING_2 }
						}
					}
				}
				JAP = {
					country_event = {
						id = CA_TK_Events.1
					}
					set_country_flag = TNO_CA_WARNING_1
				}
				#USA = {
				#	country_event = {
				#		id = CA_TK_Events.2
				#	}
				#}
				GER = {
					country_event = {
						id = CA_TK_Events.3
					}
				}
			}
			else_if = {
				limit = {
					AND = {
						check_variable = { CA_Conference_suspicion > 85 }
						check_variable = { CA_Conference_days_left > 0 }
						JAP = { has_country_flag = TNO_CA_WARNING_1 }
						NOT = {
							JAP = { has_country_flag = TNO_CA_WARNING_2 }
						}
					}
				}
				JAP = {
					country_event = {
						id = CA_TK_Events.4
					}
					set_country_flag = TNO_CA_WARNING_2
				}
				#USA = {
				#	country_event = {
				#		id = CA_TK_Events.5
				#	}
				#}
				GER = {
					country_event = {
						id = CA_TK_Events.6
					}
				}
			}
			else_if = { #Japan yeeted
				limit = {
					AND = {
						check_variable = { CA_Conference_suspicion > 95 }
						check_variable = { CA_Conference_days_left > 0 }
						JAP = { has_country_flag = TNO_CA_WARNING_2 }
					}
				}
				#USA = {
				#	country_event = {
				#		id = CA_TK_Events.7
				#	}
				#}
				GER = {
					country_event = {
						id = CA_TK_Events.7
					}
				}
				KYR = {
					dismantle_faction = yes
					country_event = {
						id = CA_TK_skeleton.20
						days = 30
					}
				}
				TAJ = {
					country_event = {
						id = CA_TK_skeleton.21
						days = 60
					}
				}
			}
		}

		round_variable = TRK_daily_delegation_variation

		random_list = {
			40 = { # OFN Bonus
				TRK_balance_to_1000_OFN = yes
			}
			25 = { # GER Bonus
				TRK_balance_to_1000_GER = yes
			}
			25 = { # CPS Bonus
				TRK_balance_to_1000_CPS = yes
			}
			10 = {
				# nobody wins
			}
		}
	}
	TNO_arrange_CA_conference_seats = yes
	TNO_update_CA_conference_display = yes
}

TRK_balance_to_1000_OFN = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^1 }
	set_temp_variable = { BalanceFactor = TK_delegates^1 }
	add_to_temp_variable = { BalanceFactor = TRK_daily_delegation_variation }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^0 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^0 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^2 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^2 = BalanceVar }
	add_to_variable = { TK_delegates^1 = TRK_daily_delegation_variation }
	TK_tuning_1000 = yes
}

TRK_balance_to_1000_GER = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^2 }
	set_temp_variable = { BalanceFactor = TK_delegates^2 }
	add_to_temp_variable = { BalanceFactor = TRK_daily_delegation_variation }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^0 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^0 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^1 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^1 = BalanceVar }
	add_to_variable = { TK_delegates^2 = TRK_daily_delegation_variation }
	TK_tuning_1000 = yes
}

TRK_balance_to_1000_CPS = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^0 }
	set_temp_variable = { BalanceFactor = TK_delegates^0 }
	add_to_temp_variable = { BalanceFactor = TRK_daily_delegation_variation }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { TRK_daily_delegation_variation = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^1 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^1 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^2 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = TRK_daily_delegation_variation }
	subtract_from_variable = { TK_delegates^2 = BalanceVar }
	add_to_variable = { TK_delegates^0 = TRK_daily_delegation_variation }
	TK_tuning_1000 = yes
}

TRK_balance_to_1000_OFN_event = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^1 }
	set_temp_variable = { BalanceFactor = TK_delegates^1 }
	add_to_temp_variable = { BalanceFactor = aligned_delegates_temp }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^0 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^0 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^2 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^2 = BalanceVar }
	add_to_variable = { TK_delegates^1 = aligned_delegates_temp }
	TK_tuning_1000 = yes
}

TRK_balance_to_1000_GER_event = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^2 }
	set_temp_variable = { BalanceFactor = TK_delegates^2 }
	add_to_temp_variable = { BalanceFactor = aligned_delegates_temp }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^0 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^0 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^1 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^1 = BalanceVar }
	add_to_variable = { TK_delegates^2 = aligned_delegates_temp }
	TK_tuning_1000 = yes
}

TRK_balance_to_1000_CPS_event = {
	#Add to Loyalties
	set_temp_variable = { BalanceSum = 1000 }
	subtract_from_temp_variable = { BalanceSum = TK_delegates^0 }
	set_temp_variable = { BalanceFactor = TK_delegates^0 }
	add_to_temp_variable = { BalanceFactor = aligned_delegates_temp }
	if = {
		limit = { check_variable = { BalanceFactor > 1000 } }
		subtract_from_temp_variable = { BalanceFactor = 1000 }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	else_if = {
		limit = { check_variable = { BalanceFactor < 0 } }
		subtract_from_temp_variable = { aligned_delegates_temp = BalanceFactor }
	}
	set_temp_variable = { BalanceVar = TK_delegates^1 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^1 = BalanceVar }
	set_temp_variable = { BalanceVar = TK_delegates^2 }
	divide_temp_variable = { BalanceVar = BalanceSum }
	multiply_temp_variable = { BalanceVar = aligned_delegates_temp }
	subtract_from_variable = { TK_delegates^2 = BalanceVar }
	add_to_variable = { TK_delegates^0 = aligned_delegates_temp }
	TK_tuning_1000 = yes
}

TK_tuning_1000 = {
	clamp_variable = { var = TK_delegates^0 min = 0 max = 1000 }
	clamp_variable = { var = TK_delegates^1 min = 0 max = 1000 }
	clamp_variable = { var = TK_delegates^2 min = 0 max = 1000 }
	round_variable = TK_delegates^0
	round_variable = TK_delegates^1
	round_variable = TK_delegates^2
	set_temp_variable = { TKtuning = TK_delegates^0 }
	add_to_temp_variable = { TKtuning = TK_delegates^1 }
	add_to_temp_variable = { TKtuning = TK_delegates^2 }
	if = {
		limit = {
			check_variable = { TKtuning > 1000 }
		}
		random_list = {
			1 = {
				modifier = {
					factor = 0
					NOT = {
						check_variable = { TK_delegates^0 > 0 }
					}
				}
				subtract_from_variable = { TK_delegates^0 = 1 }
			}
			1 = {
				modifier = {
					factor = 0
					NOT = {
						check_variable = { TK_delegates^1 > 0 }
					}
				}
				subtract_from_variable = { TK_delegates^1 = 1 }
			}
			1 = {
				modifier = {
					factor = 0
					NOT = {
						check_variable = { TK_delegates^2 > 0 }
					}
				}
				subtract_from_variable = { TK_delegates^2 = 1 }
			}
		}
	}
	else_if = {
		limit = {
			check_variable = { TKtuning < 1000 }
		}
		random_list = {
			1 = {
				modifier = {
					factor = 0
					check_variable = { TK_delegates^0 < 1000 }
				}
				add_to_variable = { TK_delegates^0 = 1 }
			}
			1 = {
				modifier = {
					factor = 0
					check_variable = { TK_delegates^1 < 1000 }
				}
				add_to_variable = { TK_delegates^1 = 1 }
			}
			1 = {
				modifier = {
					factor = 0
					check_variable = { TK_delegates^2 < 1000 }
				}
				add_to_variable = { TK_delegates^2 = 1 }
			}
		}
	}
}

KRK_TNO_election_scripted_effect = {
	random_list = {
		1 = {
			set_politics = {
				ruling_party = conservatism
				last_election = "1933.3.5"
				election_frequency = 48
				elections_allowed = no
			}
		}
		1 = {
			set_politics = {
				ruling_party = socialist
				last_election = "1933.3.5"
				election_frequency = 48
				elections_allowed = no
			}
		}
	}
}

UZB_TNO_Coup_scripted_effect = {
	random_list = {
		1 = {
			set_politics = {
				ruling_party = communist
				last_election = "1933.3.5"
				election_frequency = 48
				elections_allowed = no
			}
		}
		1 = {
			set_politics = {
				ruling_party = liberalism
				last_election = "1933.3.5"
				election_frequency = 48
				elections_allowed = no
			}
		}
	}
}
UTL_TNO_Coup_scripted_effect = {
	retire_country_leader = yes
	UTL_Baymirza_Hayit = {
		add_country_leader_role = {
			country_leader = {
				desc = "POLITICS_BAYMIRZA_HAYIT_DESC"
				ideology = national_socialism_idiosyncratic_nazism_subtype
				expire = "1999.1.1"
				traits = { }
				id = -1
			}
		}
	}
}

UZB_KRK_TNO_UNIFICATION_scripted_effect = {
	if = {
		limit = {
			UZB = {
				has_government = conservatism
			}
			KRK = {
				has_government = liberal_conservatism
			}
		}
		UZB = {
			annex_country = {
				target = KRK
				transfer_troops = yes
			}
			set_country_flag = UZB_Path_Election_Underway
		}
	}
	else_if = {
		limit = {
			UZB = {
				has_government = communist
			}
			KRK = {
				has_government = socialist
			}
		}
		UZB = {
			annex_country = {
				target = KRK
				transfer_troops = yes
			}
			set_country_flag = UZB_Path_Election_Underway
		}
	}
	else = {
		start_border_war = {
			change_state_after_war = no
			attacker = {
				state = 750
				num_provinces = 3
				on_win = central_asia.12
				on_lose = central_asia.13
			}
			defender = {
				state = 585
				num_provinces = 4
				on_win = central_asia.13
				on_lose = central_asia.12
			}
		}
		KYR = { transfer_state = 1467 }
		country_event = {
			id = central_asia.7
		}
	}
}

US_ELECTION_CA_INTERVERENCE_CALCULATOR = {
	if = {
		limit = {
			has_game_rule = {
				rule = TRK_PATH
				option = TRK_PATH_BABAKHAN
			}
		}
		Turkmenistan_Regime_Change_A2 = yes
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = TRK_PATH
				option = TRK_PATH_GALIYEV
			}
		}
		Turkmenistan_Regime_Change_A1 = yes
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = TRK_PATH
				option = TRK_PATH_POGA
			}
		}
		Turkmenistan_Regime_Change_A3 = yes
	}
	else = {
		if = {
			limit = {
				USA = { has_country_flag = SUPPORTED_PODA }
			}
			randomize_temp_variable = {
				var = throwaway_temp_value
				distribution = uniform
				min = 1
				max = 5
			}
			round_temp_variable = throwaway_temp_value
			if = {
				limit = {
					check_variable = { throwaway_temp_value = 1 } ###Babakhan Won
				}
				Turkmenistan_Regime_Change_A2 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value = 2 } ###Galiyev Won
				}
				Turkmenistan_Regime_Change_A1 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value > 2 } ###Elections Rigged, Poga Won
				}
				Turkmenistan_Regime_Change_A3 = yes
			}
		}
		else_if = {
			limit = {
				USA = { has_country_flag = SUPPORTED_BABAKHAN }
			}
			randomize_temp_variable = {
				var = throwaway_temp_value
				distribution = uniform
				min = 1
				max = 5
			}
			round_temp_variable = throwaway_temp_value
			if = {
				limit = {
					check_variable = { throwaway_temp_value = 1 } ###Galiyev Won
				}
				Turkmenistan_Regime_Change_A1 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value = 2 } ###Elections Rigged, Poga Won
				}
				Turkmenistan_Regime_Change_A3 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value > 2 } ###Babakhan Won
				}
				Turkmenistan_Regime_Change_A2 = yes
			}
		}
		else_if = {
			limit = {
				USA = { has_country_flag = SUPPORTED_GALIYEV }
			}
			randomize_temp_variable = {
				var = throwaway_temp_value
				distribution = uniform
				min = 1
				max = 5
			}
			round_temp_variable = throwaway_temp_value
			if = {
				limit = {
					check_variable = { throwaway_temp_value = 1 } ###Elections Rigged, Poga Won
				}
				Turkmenistan_Regime_Change_A3 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value = 2 } ###Babakhan Won
				}
				Turkmenistan_Regime_Change_A2 = yes
			}
			else_if = {
				limit = {
					check_variable = { throwaway_temp_value > 2 } ###Galiyev Won
				}
				Turkmenistan_Regime_Change_A1 = yes
			}
		}
		else = {
			random_list = {
				1 = {
					Turkmenistan_Regime_Change_A1 = yes
				}
				1 = {
					Turkmenistan_Regime_Change_A2 = yes
				}
				1 = {
					Turkmenistan_Regime_Change_A3 = yes
				}
			}
		}
	}
}

US_COUP_PODA_HURR_DURR = {
	if = {
		limit = {
			has_country_leader = {
				character = USA_George_Wallace
				ruling_only = yes
			}
		}
		country_event = {
			id = CA_US.7
			days = 5
		}
	}
	else_if = {
		limit = {
			has_country_leader = {
				character = USA_Curtis_LeMay
				ruling_only = yes
			}
		}
		country_event = {
			id = CA_US.8
			days = 5
		}
	}
	else_if = {
		limit = {
			has_country_leader = {
				character = USA_Barry_Goldwater
				ruling_only = yes
			}
		}
		country_event = {
			id = CA_US.9
			days = 5
		}
	}
	else_if = {
		limit = {
			has_country_leader = {
				character = USA_Margaret_Chase_Smith
				ruling_only = yes
			}
		}
		country_event = {
			id = CA_US.10
			days = 5
		}
	}
}

TK_test_tension = {
	set_temp_variable = { CA_Conference_tension_temp = 15 }
	TNO_CA_change_TK_tension = yes
}