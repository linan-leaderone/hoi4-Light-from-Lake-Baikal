# Election stuff. New Version. Mango certified fresh 2022

USA_extremist_drain = { # haha
	hidden_effect = {

		set_temp_variable = { split_weeks = USA_political_weekly_tick }
		divide_temp_variable = { split_weeks = 2 }
		if = {
			limit = {
				check_variable = { ROOT.party_popularity@communist > 0.04 }
			}

			subtract_from_variable = { black_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { hispanic_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { minority_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { nativist_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { urban_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { rural_com_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { union_com_affiliation = USA_political_weekly_tick }
			clamp_variable = {
				var = black_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = hispanic_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = minority_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = nativist_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = urban_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = rural_com_affiliation
				min = 0
			}
			clamp_variable = {
				var = union_com_affiliation
				min = 0
			}

			if = { # progs and dems split.....
				limit = {
					NOT = {
						has_country_flag = USA_hart_drains_this_lmao
					}
				}
				add_to_variable = { black_pro_affiliation = split_weeks }
				add_to_variable = { hispanic_pro_affiliation = split_weeks }
				add_to_variable = { minority_pro_affiliation = split_weeks }
				add_to_variable = { nativist_pro_affiliation = split_weeks }
				add_to_variable = { urban_pro_affiliation = split_weeks }
				add_to_variable = { rural_pro_affiliation = split_weeks }
				add_to_variable = { union_pro_affiliation = split_weeks }

				add_to_variable = { black_dem_affiliation = split_weeks }
				add_to_variable = { hispanic_dem_affiliation = split_weeks }
				add_to_variable = { minority_dem_affiliation = split_weeks }
				add_to_variable = { nativist_dem_affiliation = split_weeks }
				add_to_variable = { urban_dem_affiliation = split_weeks }
				add_to_variable = { rural_dem_affiliation = split_weeks }
				add_to_variable = { union_dem_affiliation = split_weeks }
			}
			else_if = { # dems take it ALL lol...
				limit = {
					has_country_flag = USA_hart_drains_this_lmao
				}
				add_to_variable = { black_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { hispanic_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { minority_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { nativist_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { urban_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { rural_dem_affiliation = USA_political_weekly_tick }
				add_to_variable = { union_dem_affiliation = USA_political_weekly_tick }
			}


			clamp_variable = {
				var = USA_week_change_black_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_hispanic_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_minority_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_nativists_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_urban_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_rural_pro
				max = 1
			}
			clamp_variable = {
				var = USA_week_change_union_pro
				max = 1
			}

			clamp_variable = {
				var = black_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = hispanic_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = minority_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = nativist_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = urban_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = rural_dem_affiliation
				max = 1
			}
			clamp_variable = {
				var = union_dem_affiliation
				max = 1
			}

		}
		if = {
			limit = {
				check_variable = { ROOT.party_popularity@national_socialism > 0.04 }
			}
			subtract_from_variable = { black_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { hispanic_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { minority_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { nativist_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { urban_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { rural_anv_affiliation = USA_political_weekly_tick }
			subtract_from_variable = { union_anv_affiliation = USA_political_weekly_tick }
			clamp_variable = {
				var = black_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = hispanic_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = minority_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = nativist_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = urban_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = rural_anv_affiliation
				min = 0
			}
			clamp_variable = {
				var = union_anv_affiliation
				min = 0
			}

			add_to_variable = { black_rep_affiliation = split_weeks }
			add_to_variable = { hispanic_rep_affiliation = split_weeks }
			add_to_variable = { minority_rep_affiliation = split_weeks }
			add_to_variable = { nativist_rep_affiliation = split_weeks }
			add_to_variable = { urban_rep_affiliation = split_weeks }
			add_to_variable = { rural_rep_affiliation = split_weeks }
			add_to_variable = { union_rep_affiliation = split_weeks }

			add_to_variable = { black_nat_affiliation = split_weeks }
			add_to_variable = { hispanic_nat_affiliation = split_weeks }
			add_to_variable = { minority_nat_affiliation = split_weeks }
			add_to_variable = { nativist_nat_affiliation = split_weeks }
			add_to_variable = { urban_nat_affiliation = split_weeks }
			add_to_variable = { rural_nat_affiliation = split_weeks }
			add_to_variable = { union_nat_affiliation = split_weeks }

			clamp_variable = {
				var = black_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = hispanic_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = minority_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = nativist_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = urban_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = rural_rep_affiliation
				max = 1
			}
			clamp_variable = {
				var = union_rep_affiliation
				max = 1
			}

			clamp_variable = {
				var = black_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = hispanic_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = minority_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = nativist_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = urban_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = rural_nat_affiliation
				max = 1
			}
			clamp_variable = {
				var = union_nat_affiliation
				max = 1
			}
		}
	}
}

## dumb stupid fuck pie chart, i hate the npp and extremist candidtaes. why cant america lore be normal

USA_pie_chart_math = {
	set_variable = { rep_total_supporters = 0 }
	set_variable = { dem_total_supporters = 0 }
	set_variable = { com_total_supporters = 0 }
	set_variable = { pro_total_supporters = 0 }
	set_variable = { nat_total_supporters = 0 }
	set_variable = { anv_total_supporters = 0 }

	367 = { #
		USA_calc_pie_chart_piece = yes
	}
	463 = { #
		USA_calc_pie_chart_piece = yes
	}
	377 = { #
		USA_calc_pie_chart_piece = yes
	}
	372 = { #
		USA_calc_pie_chart_piece = yes
	}
	378 = { #
		USA_calc_pie_chart_piece = yes
	}
	382 = { #
		USA_calc_pie_chart_piece = yes
	}
	357 = { #
		USA_calc_pie_chart_piece = yes
	}
	954 = { #
		USA_calc_pie_chart_piece = yes
	}
	366 = { #
		USA_calc_pie_chart_piece = yes
	}
	365 = { #
		USA_calc_pie_chart_piece = yes
	}
	387 = { #
		USA_calc_pie_chart_piece = yes
	}
	395 = { #
		USA_calc_pie_chart_piece = yes
	}
	396 = { #
		USA_calc_pie_chart_piece = yes
	}
	392 = { #
		USA_calc_pie_chart_piece = yes
	}
	383 = { #
		USA_calc_pie_chart_piece = yes
	}
	369 = { #
		USA_calc_pie_chart_piece = yes
	}
	371 = { #
		USA_calc_pie_chart_piece = yes
	}
	952 = { #
		USA_calc_pie_chart_piece = yes
	}
	361 = { #
		USA_calc_pie_chart_piece = yes
	}
	949 = { #
		USA_calc_pie_chart_piece = yes
	}
	393 = { #
		USA_calc_pie_chart_piece = yes
	}
	391 = { #
		USA_calc_pie_chart_piece = yes
	}
	370 = { #
		USA_calc_pie_chart_piece = yes
	}
	373 = { #
		USA_calc_pie_chart_piece = yes
	}
	388 = { #
		USA_calc_pie_chart_piece = yes
	}
	384 = { #
		USA_calc_pie_chart_piece = yes
	}
	379 = { #
		USA_calc_pie_chart_piece = yes
	}
	951 = { #
		USA_calc_pie_chart_piece = yes
	}
	359 = { #
		USA_calc_pie_chart_piece = yes
	}
	376 = { #
		USA_calc_pie_chart_piece = yes
	}
	358 = { #
		USA_calc_pie_chart_piece = yes
	}
	363 = { #
		USA_calc_pie_chart_piece = yes
	}
	389 = { #
		USA_calc_pie_chart_piece = yes
	}
	261 = { #
		USA_calc_pie_chart_piece = yes
	}
	374 = { #
		USA_calc_pie_chart_piece = yes
	}
	385 = { #
		USA_calc_pie_chart_piece = yes
	}
	360 = { #
		USA_calc_pie_chart_piece = yes
	}
	948 = { #
		USA_calc_pie_chart_piece = yes
	}
	364 = { #
		USA_calc_pie_chart_piece = yes
	}
	390 = { #
		USA_calc_pie_chart_piece = yes
	}
	368 = { #
		USA_calc_pie_chart_piece = yes
	}
	375 = { #
		USA_calc_pie_chart_piece = yes
	}
	380 = { #
		USA_calc_pie_chart_piece = yes
	}
	950 = { #
		USA_calc_pie_chart_piece = yes
	}
	362 = { #
		USA_calc_pie_chart_piece = yes
	}
	386 = { #
		USA_calc_pie_chart_piece = yes
	}
	953 = { #
		USA_calc_pie_chart_piece = yes
	}
	394 = { #
		USA_calc_pie_chart_piece = yes
	}
	381 = { #
		USA_calc_pie_chart_piece = yes
	}
	set_variable = { states_total = 50 }
	if = { # MAKE THIS HAWAII
		limit = {
			USA = { owns_state = 629 }
		}
		629 = {
			USA_calc_pie_chart_piece = yes
		}
		add_to_variable = { states_total = 1 }
	}

	set_variable = { USA_People = rep_total_supporters }
	add_to_variable = { USA_People = dem_total_supporters }
	add_to_variable = { USA_People = com_total_supporters }
	add_to_variable = { USA_People = pro_total_supporters }
	add_to_variable = { USA_People = nat_total_supporters }
	add_to_variable = { USA_People = anv_total_supporters }

	set_variable = { checking_1 = rep_total_supporters }
	set_variable = { checking_2 = dem_total_supporters }
	set_variable = { checking_3 = com_total_supporters }
	set_variable = { checking_4 = pro_total_supporters }
	set_variable = { checking_5 = nat_total_supporters }
	set_variable = { checking_6 = anv_total_supporters }

	divide_variable = { rep_total_supporters = states_total }
	divide_variable = { dem_total_supporters = states_total }
	divide_variable = { com_total_supporters = states_total }
	divide_variable = { pro_total_supporters = states_total }
	divide_variable = { nat_total_supporters = states_total }
	divide_variable = { anv_total_supporters = states_total }

	multiply_variable = { rep_total_supporters = 1000 }
	multiply_variable = { dem_total_supporters = 1000 }
	multiply_variable = { com_total_supporters = 1000 }
	multiply_variable = { pro_total_supporters = 1000 }
	multiply_variable = { nat_total_supporters = 1000 }
	multiply_variable = { anv_total_supporters = 1000 }

	round_variable = rep_total_supporters
	round_variable = dem_total_supporters
	round_variable = com_total_supporters
	round_variable = pro_total_supporters
	round_variable = nat_total_supporters
	round_variable = anv_total_supporters

	multiply_variable = { rep_total_supporters = .1 }
	multiply_variable = { dem_total_supporters = .1 }
	multiply_variable = { com_total_supporters = .1 }
	multiply_variable = { pro_total_supporters = .1 }
	multiply_variable = { nat_total_supporters = .1 }
	multiply_variable = { anv_total_supporters = .1 }

	set_temp_variable = { round_er = rep_total_supporters }
	add_to_temp_variable = { round_er = dem_total_supporters }
	add_to_temp_variable = { round_er = com_total_supporters }
	add_to_temp_variable = { round_er = pro_total_supporters }
	add_to_temp_variable = { round_er = nat_total_supporters }
	add_to_temp_variable = { round_er = anv_total_supporters }

	add_to_temp_variable = { round_er = -100 }
	multiply_temp_variable = { round_er = -1 }

	add_to_variable = { pro_total_supporters = round_er }

	set_variable = { checking = round_er }

	set_popularities = {
		liberalism = dem_total_supporters
		conservatism = rep_total_supporters
		paternalism = nat_total_supporters
		progressivism = pro_total_supporters
		communist = com_total_supporters
		national_socialism = anv_total_supporters
	}

}

USA_calc_pie_chart_piece = {
	set_variable = { rep_overall_pct = rep_results_pct }
	set_variable = { dem_overall_pct = dem_results_pct }
	set_variable = { com_overall_pct = com_results_pct }
	set_variable = { pro_overall_pct = pro_results_pct }
	set_variable = { nat_overall_pct = nat_results_pct }
	set_variable = { anv_overall_pct = anv_results_pct }

	multiply_variable = { rep_overall_pct = RDC_popularity_unrounded }
	multiply_variable = { dem_overall_pct = RDC_popularity_unrounded }
	multiply_variable = { com_overall_pct = NPP_popularity_unrounded }
	multiply_variable = { pro_overall_pct = NPP_popularity_unrounded }
	multiply_variable = { nat_overall_pct = NPP_popularity_unrounded }
	multiply_variable = { anv_overall_pct = NPP_popularity_unrounded }

	divide_variable = { rep_overall_pct = 10000 }
	divide_variable = { dem_overall_pct = 10000 }
	divide_variable = { com_overall_pct = 10000 }
	divide_variable = { pro_overall_pct = 10000 }
	divide_variable = { nat_overall_pct = 10000 }
	divide_variable = { anv_overall_pct = 10000 }

	set_variable = { rep_state_total_supporters = state_population_k }
	set_variable = { dem_state_total_supporters = state_population_k }
	set_variable = { com_state_total_supporters = state_population_k }
	set_variable = { pro_state_total_supporters = state_population_k }
	set_variable = { nat_state_total_supporters = state_population_k }
	set_variable = { anv_state_total_supporters = state_population_k }

	multiply_variable = { rep_state_total_supporters = rep_overall_pct }
	multiply_variable = { dem_state_total_supporters = dem_overall_pct }
	multiply_variable = { com_state_total_supporters = com_overall_pct }
	multiply_variable = { pro_state_total_supporters = pro_overall_pct }
	multiply_variable = { nat_state_total_supporters = nat_overall_pct }
	multiply_variable = { anv_state_total_supporters = anv_overall_pct }

	add_to_variable = { USA.rep_total_supporters = rep_overall_pct }
	add_to_variable = { USA.dem_total_supporters = dem_overall_pct }
	add_to_variable = { USA.com_total_supporters = com_overall_pct }
	add_to_variable = { USA.pro_total_supporters = pro_overall_pct }
	add_to_variable = { USA.nat_total_supporters = nat_overall_pct }
	add_to_variable = { USA.anv_total_supporters = anv_overall_pct }
}

TNO_USA_Senate_Election_Code = {
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_black }
	add_to_temp_variable = { dem_raw_votes = dem_black }
	add_to_temp_variable = { pro_raw_votes = pro_black }
	add_to_temp_variable = { nat_raw_votes = nat_black }
	add_to_temp_variable = { com_raw_votes = com_black }
	add_to_temp_variable = { anv_raw_votes = anv_black }

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }
	USA_ELECTION_CODE_hispanic_turnout_adjust = yes
	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes = nat_hispanic }
	add_to_temp_variable = { com_raw_votes = com_hispanic }
	add_to_temp_variable = { anv_raw_votes = anv_hispanic }

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }
	USA_ELECTION_CODE_minority_turnout_adjust = yes
	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_minority }
	add_to_temp_variable = { dem_raw_votes = dem_minority }
	add_to_temp_variable = { pro_raw_votes = pro_minority }
	add_to_temp_variable = { nat_raw_votes = nat_minority }
	add_to_temp_variable = { com_raw_votes = com_minority }
	add_to_temp_variable = { anv_raw_votes = anv_minority }

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_nativists }
	add_to_temp_variable = { dem_raw_votes = dem_nativists }
	add_to_temp_variable = { pro_raw_votes = pro_nativists }
	add_to_temp_variable = { nat_raw_votes = nat_nativists }
	add_to_temp_variable = { com_raw_votes = com_nativists }
	add_to_temp_variable = { anv_raw_votes = anv_nativists }

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }
	USA_ELECTION_CODE_urban_turnout_adjust = yes
	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_urban }
	add_to_temp_variable = { dem_raw_votes = dem_urban }
	add_to_temp_variable = { pro_raw_votes = pro_urban }
	add_to_temp_variable = { nat_raw_votes = nat_urban }
	add_to_temp_variable = { com_raw_votes = com_urban }
	add_to_temp_variable = { anv_raw_votes = anv_urban }

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }
	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_rural }
	add_to_temp_variable = { dem_raw_votes = dem_rural }
	add_to_temp_variable = { pro_raw_votes = pro_rural }
	add_to_temp_variable = { nat_raw_votes = nat_rural }
	add_to_temp_variable = { com_raw_votes = com_rural }
	add_to_temp_variable = { anv_raw_votes = anv_rural }

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }
	USA_ELECTION_CODE_union_turnout_adjust = yes
	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_union }
	add_to_temp_variable = { dem_raw_votes = dem_union }
	add_to_temp_variable = { pro_raw_votes = pro_union }
	add_to_temp_variable = { nat_raw_votes = nat_union }
	add_to_temp_variable = { com_raw_votes = com_union }
	add_to_temp_variable = { anv_raw_votes = anv_union }

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = -0.2 } # nerfing measure
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { rdc_cohesion = 0.85 }
	multiply_temp_variable = { npp_cohesion = 0.92 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.5 }

	add_to_temp_variable = { rdc_cohesion = 0.20 }
	add_to_temp_variable = { npp_cohesion = 0.20 }
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}
	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	# tally num 1
	if = {
		limit = {
			has_state_flag = rep_can
		}
		add_to_variable = { rdc_votes_sen = rep_raw_votes }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes }
		subtract_from_temp_variable = { dem_raw_votes = rdc_cohesion }

		add_to_variable = { rdc_votes_sen = dem_raw_votes }
		add_to_temp_variable = { tossed_votes = rdc_cohesion }
	}
	else_if = {
		limit = {
			has_state_flag = dem_can
		}
		add_to_variable = { rdc_votes_sen = dem_raw_votes }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes }
		subtract_from_temp_variable = { rep_raw_votes = rdc_cohesion }

		add_to_variable = { rdc_votes_sen = rep_raw_votes }
		add_to_temp_variable = { tossed_votes = rdc_cohesion }
	}

	if = {
		limit = {
			has_state_flag = pro_can
		}
		add_to_variable = { npp_votes_sen = pro_raw_votes }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion }

		add_to_variable = { npp_votes_sen = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			has_state_flag = nat_can
		}
		add_to_variable = { npp_votes_sen = nat_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion }

		add_to_variable = { npp_votes_sen = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			has_state_flag = com_can
		}
		add_to_variable = { npp_votes_sen = com_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can
		}
		add_to_variable = { npp_votes_sen = anv_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 2.5 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }


	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	set_variable = { voters = rdc_votes_sen }
	add_to_variable = { voters = npp_votes_sen }
	set_variable = { NPP_popularity = npp_votes_sen }
	set_variable = { RDC_popularity = rdc_votes_sen }
	divide_variable = { NPP_popularity = voters }
	divide_variable = { RDC_popularity = voters }
	multiply_variable = { NPP_popularity = 100 }
	multiply_variable = { RDC_popularity = 100 }
	round_variable = NPP_popularity
	round_variable = RDC_popularity

	if = {
		limit = {
			check_variable = {
				var = rdc_votes_sen
				value = npp_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = rdc_win
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_votes_sen
				value = rdc_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = npp_win
	}
}

USA_hold_presidential_election_in_every_state = {
	every_owned_state = {
	limit = { has_state_flag = US_election_state }
		clr_state_flag = npp_win_pres
		clr_state_flag = rdc_win_pres
		set_variable = { rdc_votes = 0 }
		set_variable = { npp_votes = 0 }
		US_hold_presidential_election_in_state_new = yes
	}
	USA_determine_final_vote_values_pres = yes
}

USA_hold_mock_presidential_election_in_every_state_polling = {
	every_owned_state = {
	limit = { has_state_flag = US_election_state }
		clr_state_flag = npp_win_pres
		clr_state_flag = rdc_win_pres
		set_variable = { rdc_votes = 0 }
		set_variable = { npp_votes = 0 }
		US_hold_presidential_election_in_state_new_polling = yes
	}
}

USA_increase_black_turnout = {
	add_to_variable = { USA.black_turnout = 0.07 }
	custom_effect_tooltip = USA_black_voters_header_tt
	custom_effect_tooltip = USA_black_turnout_boost
	clamp_variable = {
		var = USA.black_turnout
		min = 0
		max = 1
	}
}
USA_decrease_black_turnout = {
	add_to_variable = { USA.black_turnout = -0.07 }
	custom_effect_tooltip = USA_black_voters_header_tt
	custom_effect_tooltip = USA_black_turnout_fall
	clamp_variable = {
		var = USA.black_turnout
		min = 0
		max = 1
	}
}

USA_increase_hispanic_turnout = {
	add_to_variable = { USA.hispanic_turnout = 0.07 }
	custom_effect_tooltip = USA_hispanic_voters_header_tt
	custom_effect_tooltip = USA_hispanic_turnout_boost
	clamp_variable = {
		var = USA.hispanic_turnout
		min = 0
		max = 1
	}
}
USA_decrease_hispanic_turnout = {
	add_to_variable = { USA.hispanic_turnout = -0.07 }
	custom_effect_tooltip = USA_hispanic_voters_header_tt
	custom_effect_tooltip = USA_hispanic_turnout_fall
	clamp_variable = {
		var = USA.hispanic_turnout
		min = 0
		max = 1
	}
}

USA_increase_minority_turnout = {
	add_to_variable = { USA.minority_turnout = 0.07 }
	custom_effect_tooltip = USA_minority_voters_header_tt
	custom_effect_tooltip = USA_minority_turnout_boost
	clamp_variable = {
		var = USA.minority_turnout
		min = 0
		max = 1
	}
}
USA_decrease_minority_turnout = {
	add_to_variable = { USA.minority_turnout = -0.07 }
	custom_effect_tooltip = USA_minority_voters_header_tt
	custom_effect_tooltip = USA_minority_turnout_fall
	clamp_variable = {
		var = USA.minority_turnout
		min = 0
		max = 1
	}
}

USA_increase_nativists_turnout = {
	add_to_variable = { USA.nativists_turnout = 0.07 }
	custom_effect_tooltip = USA_nativists_voters_header_tt
	custom_effect_tooltip = USA_nativists_turnout_boost
	clamp_variable = {
		var = USA.nativists_turnout
		min = 0
		max = 1
	}
}
USA_decrease_nativists_turnout = {
	add_to_variable = { USA.nativists_turnout = -0.07 }
	custom_effect_tooltip = USA_nativists_voters_header_tt
	custom_effect_tooltip = USA_nativists_turnout_fall
	clamp_variable = {
		var = USA.nativists_turnout
		min = 0
		max = 1
	}
}

USA_increase_urban_turnout = {
	add_to_variable = { USA.urban_turnout = 0.07 }
	custom_effect_tooltip = USA_urban_voters_header_tt
	custom_effect_tooltip = USA_urban_turnout_boost
	clamp_variable = {
		var = USA.urban_turnout
		min = 0
		max = 1
	}
}
USA_decrease_urban_turnout = {
	add_to_variable = { USA.urban_turnout = -0.07 }
	custom_effect_tooltip = USA_urban_voters_header_tt
	custom_effect_tooltip = USA_urban_turnout_fall
	clamp_variable = {
		var = USA.urban_turnout
		min = 0
		max = 1
	}
}

USA_increase_rural_turnout = {
	add_to_variable = { USA.rural_turnout = 0.07 }
	custom_effect_tooltip = USA_rural_voters_header_tt
	custom_effect_tooltip = USA_rural_turnout_boost
	clamp_variable = {
		var = USA.rural_turnout
		min = 0
		max = 1
	}
}
USA_decrease_rural_turnout = {
	add_to_variable = { USA.rural_turnout = -0.07 }
	custom_effect_tooltip = USA_rural_voters_header_tt
	custom_effect_tooltip = USA_rural_turnout_fall
	clamp_variable = {
		var = USA.rural_turnout
		min = 0
		max = 1
	}
}

USA_increase_union_turnout = {
	add_to_variable = { USA.union_turnout = 0.07 }
	custom_effect_tooltip = USA_union_voters_header_tt
	custom_effect_tooltip = USA_union_turnout_boost
	clamp_variable = {
		var = USA.union_turnout
		min = 0
		max = 1
	}
}
USA_decrease_union_turnout = {
	add_to_variable = { USA.union_turnout = -0.07 }
	custom_effect_tooltip = USA_union_voters_header_tt
	custom_effect_tooltip = USA_union_turnout_fall
	clamp_variable = {
		var = USA.union_turnout
		min = 0
		max = 1
	}
}

US_hold_presidential_election = {
	add_to_temp_variable = { state_number_count = 1 }
	set_variable = { full_deal = state_number_count }

	set_variable = { rdc_votes = 0 }
	set_variable = { npp_votes = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_black }
	add_to_temp_variable = { dem_raw_votes = dem_black }
	add_to_temp_variable = { pro_raw_votes = pro_black }
	add_to_temp_variable = { nat_raw_votes = nat_black }
	add_to_temp_variable = { com_raw_votes = com_black }
	add_to_temp_variable = { anv_raw_votes = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes = nat_hispanic }
	add_to_temp_variable = { com_raw_votes = com_hispanic }
	add_to_temp_variable = { anv_raw_votes = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_minority }
	add_to_temp_variable = { dem_raw_votes = dem_minority }
	add_to_temp_variable = { pro_raw_votes = pro_minority }
	add_to_temp_variable = { nat_raw_votes = nat_minority }
	add_to_temp_variable = { com_raw_votes = com_minority }
	add_to_temp_variable = { anv_raw_votes = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_nativists }
	add_to_temp_variable = { dem_raw_votes = dem_nativists }
	add_to_temp_variable = { pro_raw_votes = pro_nativists }
	add_to_temp_variable = { nat_raw_votes = nat_nativists }
	add_to_temp_variable = { com_raw_votes = com_nativists }
	add_to_temp_variable = { anv_raw_votes = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_urban }
	add_to_temp_variable = { dem_raw_votes = dem_urban }
	add_to_temp_variable = { pro_raw_votes = pro_urban }
	add_to_temp_variable = { nat_raw_votes = nat_urban }
	add_to_temp_variable = { com_raw_votes = com_urban }
	add_to_temp_variable = { anv_raw_votes = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_rural }
	add_to_temp_variable = { dem_raw_votes = dem_rural }
	add_to_temp_variable = { pro_raw_votes = pro_rural }
	add_to_temp_variable = { nat_raw_votes = nat_rural }
	add_to_temp_variable = { com_raw_votes = com_rural }
	add_to_temp_variable = { anv_raw_votes = anv_rural }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_union }
	add_to_temp_variable = { dem_raw_votes = dem_union }
	add_to_temp_variable = { pro_raw_votes = pro_union }
	add_to_temp_variable = { nat_raw_votes = nat_union }
	add_to_temp_variable = { com_raw_votes = com_union }
	add_to_temp_variable = { anv_raw_votes = anv_union }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { rdc_cohesion = 0.85 }
	multiply_temp_variable = { npp_cohesion = 0.92 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.5 }

	add_to_temp_variable = { rdc_cohesion = 0.20 }
	add_to_temp_variable = { npp_cohesion = 0.20 }
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}
	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	USA_ELECTION_CODE_state_party_pref_balance = yes

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes = 2 }
	#divide_variable = { dem_raw_votes = 2 }
	#divide_variable = { pro_raw_votes = 2 }
	#divide_variable = { nat_raw_votes = 2 }
	#divide_variable = { com_raw_votes = 2 }
	#divide_variable = { anv_raw_votes = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs = rep_raw_votes }
	#add_to_temp_variable = { voter_combs = dem_raw_votes }
	#add_to_temp_variable = { voter_combs = pro_raw_votes }
	#add_to_temp_variable = { voter_combs = nat_raw_votes }
	#add_to_temp_variable = { voter_combs = com_raw_votes }
	#add_to_temp_variable = { voter_combs = anv_raw_votes }

	# tally num 1
	if = {
		limit = {
			USA = { has_country_flag = rep_can_pres }
		}
		add_to_variable = { rdc_votes = rep_raw_votes }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes }
		subtract_from_temp_variable = { dem_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = pro_can_pres }
			}
			divide_temp_variable = { dem_raw_votes = 5 }
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			USA = { has_country_flag = dem_can_pres }
		}
		add_to_variable = { rdc_votes = dem_raw_votes }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes }
		subtract_from_temp_variable = { rep_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = nat_can_pres }
			}
			divide_temp_variable = { rep_raw_votes = 5 }
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			USA = { has_country_flag = pro_can_pres }
		}
		add_to_variable = { npp_votes = pro_raw_votes }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = rep_can_pres }
			}
			divide_temp_variable = { nat_raw_votes = 5 }
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			USA = { has_country_flag = nat_can_pres }
		}
		add_to_variable = { npp_votes = nat_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = dem_can_pres }
			}
			divide_temp_variable = { pro_raw_votes = 5 }
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			USA = { has_country_flag = com_can_pres }
		}
		add_to_variable = { npp_votes = com_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = anv_can_pres }
		}
		add_to_variable = { npp_votes = anv_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes = rdc_policy_alignment }
	add_to_variable = { npp_votes = npp_policy_alignment }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	if = {
		limit = {
			USA = {
				is_ai = no
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_RD
				}
			}
			multiply_variable = { rdc_votes = 1.02 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_NPP
				}
			}
			multiply_variable = { npp_votes = 1.02 }
		}
	}

	multiply_variable = { rdc_votes = USA.USA_state_pres_cheat_value_rdc } #only changeable in console for debug purpose
	multiply_variable = { npp_votes = USA.USA_state_pres_cheat_value_npp } #If not tampered with, both should be 1 all game long

	# determine

	if = {
		limit = {
			check_variable = {
				var = rdc_votes
				value = npp_votes
				compare = greater_than_or_equals
			}
		}
		set_state_flag = rdc_win_pres
		set_variable = { US_map_colour_post_election = 1 }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_votes
				value = rdc_votes
				compare = greater_than_or_equals
			}
		}
		set_state_flag = npp_win_pres
		set_variable = { US_map_colour_post_election = 2 }
	}
}

USA_determine_policy_voter_afilliation_NEW = {

	set_temp_variable = { part_a = policy_voters }
	set_temp_variable = { part_b = policy_voters }
	divide_temp_variable = { part_a = 2 }
	divide_temp_variable = { part_b = 2 }

	divide_temp_variable = { RDC_policy_score = 10 }
	divide_temp_variable = { NPP_policy_score = 10 }
	set_variable = { checkalignment = NPP_policy_score }
	multiply_temp_variable = { RDC_policy_score = part_a }
	multiply_temp_variable = { NPP_policy_score = part_b }

	subtract_from_temp_variable = { policy_voters = RDC_policy_score }
	subtract_from_temp_variable = { policy_voters = NPP_policy_score }
	if = {
		limit = {
			USA = { has_country_flag = rep_can_pres }
		}
		add_to_temp_variable = { rep_raw_votes = RDC_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = dem_can_pres }
		}
		add_to_temp_variable = { dem_raw_votes = RDC_policy_score }
	}

	if = {
		limit = {
			USA = { has_country_flag = pro_can_pres }
		}
		add_to_temp_variable = { pro_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = nat_can_pres }
		}
		add_to_temp_variable = { nat_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = com_can_pres }
		}
		add_to_temp_variable = { com_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = anv_can_pres }
		}
		add_to_temp_variable = { anv_raw_votes = NPP_policy_score }
	}

	set_temp_variable = { part_a = policy_voters }
	set_temp_variable = { part_b = policy_voters }
	divide_temp_variable = { part_a = 2 }
	divide_temp_variable = { part_b = 2 }

	set_temp_variable = { RDC_policy_score = RDC_policy_score_origin }
	set_temp_variable = { NPP_policy_score = NPP_policy_score_origin }

	divide_temp_variable = { RDC_policy_score = 10 }
	divide_temp_variable = { NPP_policy_score = 10 }
	set_variable = { checkalignment = NPP_policy_score2 }
	multiply_temp_variable = { RDC_policy_score = part_a }
	multiply_temp_variable = { NPP_policy_score = part_b }
	subtract_from_temp_variable = { policy_voters = RDC_policy_score }
	subtract_from_temp_variable = { policy_voters = NPP_policy_score }
	if = {
		limit = {
			USA = { has_country_flag = rep_can_pres }
		}
		add_to_temp_variable = { rep_raw_votes = RDC_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = dem_can_pres }
		}
		add_to_temp_variable = { dem_raw_votes = RDC_policy_score }
	}

	if = {
		limit = {
			USA = { has_country_flag = pro_can_pres }
		}
		add_to_temp_variable = { pro_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = nat_can_pres }
		}
		add_to_temp_variable = { nat_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = com_can_pres }
		}
		add_to_temp_variable = { com_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = anv_can_pres }
		}
		add_to_temp_variable = { anv_raw_votes = NPP_policy_score }
	}

	add_to_temp_variable = { tossed_votes = policy_voters }
}

USA_clear_presidential_election_values = {
	clr_country_flag = USA_presidential_conclusion
	clr_country_flag = USA_presidential_elections
	clr_country_flag = currently_campaigning
	set_temp_variable = { alert_id = token:Alert_US_Election }
	remove_TNO_alert = yes

	set_variable = { USA.RDC_popularvote = 0 }
	set_variable = { USA.NPP_popularvote = 0 }
	set_variable = { RD_electoral_votes = 0 }
	set_variable = { NPP_electoral_vostes = 0 }
	every_owned_state = {
	limit = { has_state_flag = US_election_state }
		clr_state_flag = npp_win_pres
		clr_state_flag = rdc_win_pres
		set_variable = { rdc_votes = 0 }
		set_variable = { npp_votes = 0 }
		US_hold_presidential_election = yes
	}

	clr_country_flag = rep_can_pres
	clr_country_flag = dem_can_pres
	clr_country_flag = pro_can_pres
	clr_country_flag = nat_can_pres
	clr_country_flag = com_can_pres
	clr_country_flag = anv_can_pres
	clr_country_flag = USA_democrat_running
	clr_country_flag = USA_republican_running
	clr_country_flag = USA_progressive_running
	clr_country_flag = USA_nationalist_running
	clr_country_flag = USA_communist_running
	clr_country_flag = USA_anv_running
	#
	clr_country_flag = USA_johnson_nominated # texas
	clr_country_flag = USA_bennet_nominated # utah
	clr_country_flag = USA_kennedy_nominated # mass
	clr_country_flag = USA_wallace_nominated # alabama
	clr_country_flag = USA_hart_nominated # michigan
	clr_country_flag = USA_goldwater_nominated # arizona
	clr_country_flag = USA_harrington_nominated # missouri
	clr_country_flag = USA_smith_nominated # maine
	clr_country_flag = USA_kirkpatrick_nominated # maryland
	clr_country_flag = USA_romney_nominated # michigan
	clr_country_flag = USA_scoop_nominated # washington
	clr_country_flag = USA_schlafly_nominated # missouri
	clr_country_flag = USA_hall_nominated # minnesota
	clr_country_flag = USA_yockey_nominated # illinois

	if = {
		limit = {
			check_variable = { USA_GUI_selected_tab_sub = 3 }
		}
		set_variable = { USA_GUI_selected_tab_sub = 4 }
		set_variable = { USA_GUI_selected_prev_year = USA_GUI_saving_years^USA_GUI_no_of_senate_elections }
		USA_voting_GUI_work_out_previous_presidential_results = yes
		US_calculate_numbers_blocker_offset = yes
		USA_GUI_determine_previous_election_map = yes
	}
	clear_variable = USA_current_election_rd_candidate
	clear_variable = USA_current_election_npp_candidate

	clear_variable = US_voting_campaign_region:US_voting_campaign_timer
	clear_variable = US_voting_campaign_region
	clear_variable = US_voting_region_cooldown:US_voting_campaign_countdown
	clear_variable = US_voting_region_cooldown
}
USA_determine_final_vote_values_pres = {
	every_owned_state = {
		limit = { has_state_flag = US_election_state }

		set_variable = { USA_state_votes_for_pres = rdc_votes }
		add_to_variable = { USA_state_votes_for_pres = npp_votes }
		set_variable = { USA_state_pct_pres_rdc = rdc_votes }
		set_variable = { USA_state_pct_pres_npp = npp_votes }
		divide_variable = { USA_state_pct_pres_rdc = USA_state_votes_for_pres }
		divide_variable = { USA_state_pct_pres_npp = USA_state_votes_for_pres }
		multiply_variable = { USA_state_pct_pres_rdc = 100 }
		multiply_variable = { USA_state_pct_pres_npp = 100 }
		add_to_variable = { USA_state_pct_pres_rdc = 1000 }
		add_to_variable = { USA_state_pct_pres_npp = 1000 }
	}
}

USA_presidential_election_conclusion = {
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_rdc > US_current_total_pres_votes_npp }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_bennet_nominated
						has_country_flag = USA_goldwater_nominated
						has_country_flag = USA_romney_nominated
					}
				}
				AND = {
					is_ai = yes
					OR = {
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1964
								option = USA_LEADER_ROUTE_1964_RDC
							}
							date < 1967.01.01
							has_country_flag = USA_bennet_nominated
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1968
								option = USA_LEADER_ROUTE_1968_RDC
							}
							date > 1967.01.01
							date < 1969.6.1
							OR = {
								has_country_flag = USA_goldwater_nominated
								has_country_flag = USA_bennet_nominated
							}
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1972
								option = USA_LEADER_ROUTE_1972_RDC
							}
							date > 1971.01.01
							date < 1973.6.1
							OR = {
								has_country_flag = USA_goldwater_nominated
								has_country_flag = USA_romney_nominated
							}
						}
					}
				}
			}
		}
		set_variable = { US_election_winner = 2 }
	}
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_rdc > US_current_total_pres_votes_npp }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_johnson_nominated
						has_country_flag = USA_hart_nominated
						has_country_flag = USA_kirkpatrick_nominated
					}
				}
				AND = {
					is_ai = yes
					OR = {
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1964
								option = USA_LEADER_ROUTE_1964_RDC
							}
							date < 1967.01.01
							has_country_flag = USA_johnson_nominated
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1968
								option = USA_LEADER_ROUTE_1968_RDC
							}
							date > 1967.01.01
							date < 1969.6.1
							OR = {
								has_country_flag = USA_johnson_nominated
								has_country_flag = USA_hart_nominated
							}
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1972
								option = USA_LEADER_ROUTE_1972_RDC
							}
							date > 1971.01.01
							date < 1973.6.1
							OR = {
								has_country_flag = USA_hart_nominated
								has_country_flag = USA_kirkpatrick_nominated
							}
						}
					}
				}
			}
		}
		set_variable = { US_election_winner = 1 }
	}
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_npp > US_current_total_pres_votes_rdc }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_kennedy_nominated
						has_country_flag = USA_harrington_nominated
						has_country_flag = USA_scoop_nominated
					}
				}
				AND = {
					is_ai = yes
					OR = {
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1964
								option = USA_LEADER_ROUTE_1964_NPP
							}
							date < 1967.01.01
							has_country_flag = USA_kennedy_nominated
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1968
								option = USA_LEADER_ROUTE_1968_NPP
							}
							date > 1967.01.01
							date < 1969.6.1
							OR = {
								has_country_flag = USA_kennedy_nominated
								has_country_flag = USA_harrington_nominated
							}
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1972
								option = USA_LEADER_ROUTE_1972_NPP
							}
							date > 1971.01.01
							date < 1973.6.1
							OR = {
								has_country_flag = USA_harrington_nominated
								has_country_flag = USA_scoop_nominated
							}
						}
					}
				}
			}
		}
		set_variable = { US_election_winner = 4 }
	}
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_npp > US_current_total_pres_votes_rdc }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_wallace_nominated
						has_country_flag = USA_smith_nominated
						has_country_flag = USA_schlafly_nominated
					}
				}
				AND = {
					is_ai = yes
					OR = {
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1964
								option = USA_LEADER_ROUTE_1964_NPP
							}
							date < 1967.01.01
							has_country_flag = USA_wallace_nominated
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1968
								option = USA_LEADER_ROUTE_1968_NPP
							}
							date > 1967.01.01
							date < 1969.6.1
							OR = {
								has_country_flag = USA_wallace_nominated
								has_country_flag = USA_smith_nominated
							}
						}
						AND = {
							has_game_rule = {
								rule = USA_LEADER_ROUTE_1972
								option = USA_LEADER_ROUTE_1972_NPP
							}
							date > 1971.01.01
							date < 1973.6.1
							OR = {
								has_country_flag = USA_smith_nominated
								has_country_flag = USA_schlafly_nominated
							}
						}
					}
				}
			}
		}
		set_variable = { US_election_winner = 6 }
	}
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_npp > US_current_total_pres_votes_rdc }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_hall_nominated
					}
				}
				AND = {
					is_ai = yes
					has_game_rule = {
						rule = USA_LEADER_ROUTE_1972
						option = USA_LEADER_ROUTE_1972_NPP
					}
					date > 1971.01.01
					date < 1973.6.1
					OR = {
						has_country_flag = USA_hall_nominated
					}
				}
			}
		}
		set_variable = { US_election_winner = 3 }
	}
	if = {
		limit = {
			OR = {
				AND = {
					check_variable = { US_current_total_pres_votes_npp > US_current_total_pres_votes_rdc }
					if = {
						limit = { is_ai = yes }
						OR = {
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1964
									option = DEFAULT
								}
								date < 1967.01.01
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1968
									option = DEFAULT
								}
								date > 1967.01.01
								date < 1969.6.1
							}
							AND = {
								has_game_rule = {
									rule = USA_LEADER_ROUTE_1972
									option = DEFAULT
								}
								date > 1971.01.01
								date < 1973.6.1
							}
						}
					}
					OR = {
						has_country_flag = USA_yockey_nominated
					}
				}
				AND = {
					is_ai = yes
					has_game_rule = {
						rule = USA_LEADER_ROUTE_1972
						option = USA_LEADER_ROUTE_1972_NPP
					}
					date > 1971.01.01
					date < 1973.6.1
					OR = {
						has_country_flag = USA_yockey_nominated
					}
				}
			}
		}
		set_variable = { US_election_winner = 5 }
	}
	set_country_flag = USA_presidential_conclusion
}

USA_determine_policy_voter_afilliation = { # RETIRED CODE, CHECK NEW


	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { RDC_policy_score = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { NPP_policy_score = -1 }
	}
	subtract_from_temp_variable = { RDC_policy_score = 1 }
	subtract_from_temp_variable = { NPP_policy_score = 1 }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { RDC_policy_score = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { NPP_policy_score = -1 }
	}
	#divide_temp_variable = { RDC_policy_score = 20 }
	#divide_temp_variable = { NPP_policy_score = 20 }
	set_temp_variable = { part_a = RDC_policy_score }
	add_to_temp_variable = { part_a = NPP_policy_score }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = NPP_policy_score
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { RDC_policy_score = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = RDC_policy_score
				compare = greater_than
			}
		}
		add_to_temp_variable = { NPP_policy_score = part_b }
	}

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { RDC_policy_score = policy_voters }
	multiply_temp_variable = { NPP_policy_score = policy_voters }
	set_variable = { checkpoint_policy_voters = RDC_policy_score }
	if = {
		limit = {
			USA = { has_country_flag = USA_republican_running }
		}
		add_to_temp_variable = { rep_raw_votes = RDC_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = USA_democrat_running }
		}
		add_to_temp_variable = { dem_raw_votes = RDC_policy_score }
	}

	if = {
		limit = {
			USA = { has_country_flag = USA_progressive_running }
		}
		add_to_temp_variable = { pro_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = USA_nationalist_running }
		}
		add_to_temp_variable = { nat_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = USA_communist_running }
		}
		add_to_temp_variable = { com_raw_votes = NPP_policy_score }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = USA_anv_running }
		}
		add_to_temp_variable = { anv_raw_votes = NPP_policy_score }
	}
}

## UNITY

USA_assess_DC_health = {
	set_variable = { USA_DC_Senate_Seats = 0 }
	365 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	364 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	363 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	362 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	368 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	370 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	367 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	371 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	372 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
	366 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_DC_Senate_Seats = 1 } }
		}
	}
}

USA_assess_HR_health = {
	set_variable = { USA_HR_Senate_Seats = 0 }
	374 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	365 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	364 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	363 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	362 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	368 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	370 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	367 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	371 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	372 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	366 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	#

	375 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	383 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	384 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	390 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	389 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	376 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	382 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	381 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	388 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	377 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	380 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	387 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	379 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	386 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	385 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	378 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
	463 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_HR_Senate_Seats = 1 } }
		}
	}
}

USA_assess_RR_health = {
	set_variable = { USA_RR_Senate_Seats = 0 }
	629 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	373 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	392 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	391 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	394 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	395 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	369 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	396 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	393 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	261 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	953 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	361 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	954 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	360 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	359 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	358 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	357 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	948 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	949 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	950 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	951 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
	952 = {
		if = {
			limit = {
				check_variable = { senator_1 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 1 }
			}
			USA = { add_to_variable = { USA_RR_Senate_Seats = 1 } }
		}
	}
}


USA_assess_LD_health = {
	set_variable = { USA_LD_Senate_Seats = 0 }
	629 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	374 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	375 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	383 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	384 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	390 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	389 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	376 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	382 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	381 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	388 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	377 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	380 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	387 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	379 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	386 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	385 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	378 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	463 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}

	373 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	392 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	391 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	394 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	395 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	369 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	396 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	393 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	261 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	953 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	361 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	954 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	360 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	359 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	358 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	357 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	948 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	949 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	950 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	951 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
	952 = {
		if = {
			limit = {
				check_variable = { senator_1 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
		if = {
			limit = {
				check_variable = { senator_2 = 2 }
			}
			USA = { add_to_variable = { USA_LD_Senate_Seats = 1 } }
		}
	}
}


USA_assess_RDC_health_and_unity = {
	USA_assess_HR_health = yes
	USA_assess_RR_health = yes
	USA_assess_LD_health = yes
	USA_assess_DC_health = yes

	set_temp_variable = { RDC_derp = 0 }
	add_to_temp_variable = { RDC_derp = USA_HR_Senate_Seats }
	add_to_temp_variable = { RDC_derp = USA_RR_Senate_Seats }
	add_to_temp_variable = { RDC_derp = USA_LD_Senate_Seats }
	add_to_temp_variable = { RDC_derp = USA_DC_Senate_Seats }
	set_variable = { USA_RDC_Senate_Seats = RDC_derp }

	set_temp_variable = { temp_HR = USA_HR_Senate_Seats }
	set_temp_variable = { temp_RR = USA_RR_Senate_Seats }
	set_temp_variable = { temp_LD = USA_LD_Senate_Seats }
	set_temp_variable = { temp_DC = USA_DC_Senate_Seats }
		set_temp_variable = { temp_republican_seats = temp_HR }
		add_to_temp_variable = { temp_republican_seats = temp_RR }
			set_variable = { USA_Republican_Seats = temp_republican_seats }
	divide_temp_variable = { temp_HR = USA_RDC_Senate_Seats }
	divide_temp_variable = { temp_RR = USA_RDC_Senate_Seats }
		set_temp_variable = { temp_democrat_seats = temp_LD }
		add_to_temp_variable = { temp_democrat_seats = temp_DC }
			set_variable = { USA_Democrat_Seats = temp_democrat_seats }
	divide_temp_variable = { temp_LD = USA_RDC_Senate_Seats }
	divide_temp_variable = { temp_DC = USA_RDC_Senate_Seats }

	USA_get_rep_RDC_sup = yes
	USA_get_dem_RDC_sup = yes

	multiply_temp_variable = { temp_HR = USA_HR_Coalition_Sup }
	multiply_temp_variable = { temp_RR = USA_RR_Coalition_Sup }
	multiply_temp_variable = { temp_LD = USA_LD_Coalition_Sup }
	multiply_temp_variable = { temp_DC = USA_DC_Coalition_Sup }
	set_variable = { USA_RDC_Coalition_Sup = 0 }
	add_to_variable = { USA_RDC_Coalition_Sup = temp_HR }
	add_to_variable = { USA_RDC_Coalition_Sup = temp_RR }
	add_to_variable = { USA_RDC_Coalition_Sup = temp_LD }
	add_to_variable = { USA_RDC_Coalition_Sup = temp_DC }

	add_to_variable = { USA_RDC_Coalition_Sup = USA_controversy_value } # temporary hamper

	set_variable = { rdc_unity = USA_RDC_Coalition_Sup }
}

USA_get_rep_RDC_sup = {
	set_temp_variable = { USA_rep_temp_var_1 = USA_HR_Senate_Seats }
	set_temp_variable = { USA_rep_temp_var_2 = USA_RR_Senate_Seats }
	set_variable = { Republican_RDC_support = 0 }

	multiply_temp_variable = { USA_rep_temp_var_1 = USA_HR_Coalition_Sup }
	multiply_temp_variable = { USA_rep_temp_var_2 = USA_RR_Coalition_Sup }

	divide_temp_variable = { USA_rep_temp_var_1 = USA_Republican_Seats }
	divide_temp_variable = { USA_rep_temp_var_2 = USA_Republican_Seats }

	add_to_variable = { Republican_RDC_support = USA_rep_temp_var_1 }
	add_to_variable = { Republican_RDC_support = USA_rep_temp_var_2 }
}

USA_get_dem_RDC_sup = {
	set_temp_variable = { USA_dem_temp_var_1 = USA_LD_Senate_Seats }
	set_temp_variable = { USA_dem_temp_var_2 = USA_DC_Senate_Seats }
	set_variable = { Democrat_RDC_support = 0 }

	multiply_temp_variable = { USA_dem_temp_var_1 = USA_LD_Coalition_Sup }
	multiply_temp_variable = { USA_dem_temp_var_2 = USA_DC_Coalition_Sup }

	divide_temp_variable = { USA_dem_temp_var_1 = USA_Democrat_Seats }
	divide_temp_variable = { USA_dem_temp_var_2 = USA_Democrat_Seats }

	set_variable = { USA_dixiecrat_pct = USA_DC_Senate_Seats }
	divide_variable = { USA_dixiecrat_pct = USA_Democrat_Seats }

	add_to_variable = { Democrat_RDC_support = USA_dem_temp_var_1 }
	add_to_variable = { Democrat_RDC_support = USA_dem_temp_var_2 }
}

USA_add_5_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = 0.05 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_add_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_10_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = 0.10 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_add_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_15_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = 0.15 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_add_15_change
	USA_assess_RDC_health_and_unity = yes
}

USA_remove_5_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = -0.05 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_down_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_10_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = -0.10 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_down_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_15_HR_RDC_approval = {
	add_to_variable = { USA_HR_Coalition_Sup = -0.15 }
	clamp_variable = {
		var = USA_HR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = HR_approval_down_15_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_5_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = 0.05 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_add_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_10_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = 0.10 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_add_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_15_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = 0.15 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_add_15_change
	USA_assess_RDC_health_and_unity = yes
}

USA_remove_5_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = -0.05 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_down_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_10_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = -0.10 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_down_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_15_RR_RDC_approval = {
	add_to_variable = { USA_RR_Coalition_Sup = -0.15 }
	clamp_variable = {
		var = USA_RR_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = RR_approval_down_15_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_5_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = 0.05 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_add_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_10_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = 0.10 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_add_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_15_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = 0.15 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_add_15_change
	USA_assess_RDC_health_and_unity = yes
}

USA_remove_5_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = -0.05 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_down_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_10_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = -0.10 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_down_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_15_LD_RDC_approval = {
	add_to_variable = { USA_LD_Coalition_Sup = -0.15 }
	clamp_variable = {
		var = USA_LD_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = LD_approval_down_15_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_5_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = 0.05 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_add_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_10_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = 0.10 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_add_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_add_15_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = 0.15 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_add_15_change
	USA_assess_RDC_health_and_unity = yes
}

USA_remove_5_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = -0.05 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_down_5_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_10_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = -0.10 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_down_10_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_15_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = -0.15 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_down_15_change
	USA_assess_RDC_health_and_unity = yes
}
USA_remove_30_DC_RDC_approval = {
	add_to_variable = { USA_DC_Coalition_Sup = -0.30 }
	clamp_variable = {
		var = USA_DC_Coalition_Sup
		min = 0
		max = 1
	}
	custom_effect_tooltip = DC_approval_down_30_change
	USA_assess_RDC_health_and_unity = yes
}

# Coalition Support Change Effects

USA_change_hardline_r_coalition_support = {
	set_temp_variable = { tempSupport_tt = tempSupport }
	if = {
		limit = { check_variable = { tempSupport_tt > 0 } }
		custom_effect_tooltip = USA_increase_hardline_r_coalition_support_tt
	}
	else = {
		multiply_temp_variable = { tempSupport_tt = -1 }
		custom_effect_tooltip = USA_decrease_hardline_r_coalition_support_tt
	}
	add_to_variable = { USA_HR_Coalition_Sup = tempSupport }
	clamp_variable = { var = USA_HR_Coalition_Sup min = 0 max = 1 }
	USA_assess_RDC_health_and_unity = yes
}

USA_change_responsible_r_coalition_support = {
	set_temp_variable = { tempSupport_tt = tempSupport }
	if = {
		limit = { check_variable = { tempSupport_tt > 0 } }
		custom_effect_tooltip = USA_increase_responsible_r_coalition_support_tt
	}
	else = {
		multiply_temp_variable = { tempSupport_tt = -1 }
		custom_effect_tooltip = USA_decrease_responsible_r_coalition_support_tt
	}
	add_to_variable = { USA_RR_Coalition_Sup = tempSupport }
	clamp_variable = { var = USA_RR_Coalition_Sup min = 0 max = 1 }
	USA_assess_RDC_health_and_unity = yes
}

USA_change_labor_d_coalition_support = {
	set_temp_variable = { tempSupport_tt = tempSupport }
	if = {
		limit = { check_variable = { tempSupport_tt > 0 } }
		custom_effect_tooltip = USA_increase_labor_d_coalition_support_tt
	}
	else = {
		multiply_temp_variable = { tempSupport_tt = -1 }
		custom_effect_tooltip = USA_decrease_labor_d_coalition_support_tt
	}
	add_to_variable = { USA_LD_Coalition_Sup = tempSupport }
	clamp_variable = { var = USA_LD_Coalition_Sup min = 0 max = 1 }
	USA_assess_RDC_health_and_unity = yes
}

USA_change_dixiecrat_coalition_support = {
	set_temp_variable = { tempSupport_tt = tempSupport }
	if = {
		limit = { check_variable = { tempSupport_tt > 0 } }
		custom_effect_tooltip = USA_increase_dixiecrat_coalition_support_tt
	}
	else = {
		multiply_temp_variable = { tempSupport_tt = -1 }
		custom_effect_tooltip = USA_decrease_dixiecrat_coalition_support_tt
	}
	add_to_variable = { USA_DC_Coalition_Sup = tempSupport }
	clamp_variable = { var = USA_DC_Coalition_Sup min = 0 max = 1 }
	USA_assess_RDC_health_and_unity = yes
}

USA_assess_NPP_unity = {
	set_variable = { USA_NPP_Caucus_Num = 2 }
	set_variable = { USA_NPP_Wider_Approval = 0 }
	# Progressives
	if = {
		limit = { # Vito Marcantonio
			check_variable = { NPP_P_LEADER = 0 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.80 }
	}
	else_if = {
		limit = { # Elmer Austin Benson
			check_variable = { NPP_P_LEADER = 1 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.80 }
	}
	else_if = {
		limit = { # Benjamin Spock
			check_variable = { NPP_P_LEADER = 2 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.95 }
	}
	else_if = {
		limit = { # Philip Berrigan
			check_variable = { NPP_P_LEADER = 3 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.50 }
	}
	else_if = {
		limit = { # Ralph Nader
			check_variable = { NPP_P_LEADER = 4 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.70 }
	}
	# Nationalists
	if = {
		limit = { # James Fulbright
			check_variable = { NPP_N_LEADER = 0 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.70 }
	}
	else_if = {
		limit = { # Marvin Griffin
			check_variable = { NPP_N_LEADER = 1 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.50 }
	}
	else_if = {
		limit = { # Ezra Taft Benson
			check_variable = { NPP_N_LEADER = 2 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.80 }
	}
	else_if = {
		limit = { # Philip Berrigan
			check_variable = { NPP_N_LEADER = 3 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.70 }
	}
	else_if = {
		limit = { # Ralph Nader
			check_variable = { NPP_N_LEADER = 4 }
		}
		add_to_variable = { USA_NPP_Wider_Approval = 0.70 }
	}
	# Marxists
	if = {
		limit = {
			has_country_flag = USA_Marxist_Caucus_Active
		}
		add_to_variable = { USA_NPP_Caucus_Num = 1 }
		if = {
			limit = { # Samuel H. Friedman
				check_variable = { NPP_M_LEADER = 0 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.60 }
		}
		else_if = {
			limit = { # John Gates
				check_variable = { NPP_M_LEADER = 1 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.75 }
		}
		else_if = {
			limit = { # Herbert Aptheker
				check_variable = { NPP_M_LEADER = 2 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.45 }
		}
	}
	# Sovereigntists
	if = {
		limit = {
			has_country_flag = USA_Sovereigntist_Caucus_Active
		}
		add_to_variable = { USA_NPP_Caucus_Num = 1 }
		if = {
			limit = { # Kurt Saxon
				check_variable = { NPP_S_LEADER = 0 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.50 }
		}
		else_if = {
			limit = { # Frank Collin
				check_variable = { NPP_S_LEADER = 1 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.70 }
		}
		else_if = {
			limit = { # Gary Lauck
				check_variable = { NPP_SLEADER = 2 }
			}
			add_to_variable = { USA_NPP_Wider_Approval = 0.40 }
		}
	}

	divide_variable = { USA_NPP_Wider_Approval = USA_NPP_Caucus_Num }
	clamp_variable = {
		var = USA_NPP_Wider_Approval
		min = 0
		max = 1
	}
	set_variable = { npp_unity = USA_NPP_Wider_Approval }
}
## CONTROVERSY

USA_Controversy_Weekly_Tick = { # Controversy o impact unity
	if = {
		limit = {
			check_variable = { Controversy_Weeks > 0 }
		}

		if = {
			limit = {
				NOT = {
					check_variable = { USA_RDC_controvery = 0 }
				}
			}
			USA_assess_RDC_health_and_unity = yes
			add_to_variable = {
				var = rdc_unity
				value = USA_RDC_controvery
			}
			clamp_variable = {
				var = rdc_unity
				min = 0
				max = 1
			}
		}

		if = {
			limit = {
				NOT = {
					check_variable = { USA_NPP_controvery = 0 }
				}
			}
			USA_assess_NPP_unity = yes
			add_to_variable = {
				var = npp_unity
				value = USA_NPP_controvery
			}
			clamp_variable = {
				var = npp_unity
				min = 0
				max = 1
			}
		}
		add_to_variable = { Controversy_Weeks = -1 }
		if = {
			limit = {
				check_variable = {
					var = Controversy_Weeks
					value = 0
					compare = less_than_or_equals
				}
			}
			set_variable = { Controversy_Weeks = 0 }
			set_variable = { USA_RDC_controvery = 0 }
			set_variable = { USA_NPP_controvery = 0 }
		}
	}
}

USA_RDC_controversy = {
	add_to_variable = {
		var = USA_RDC_controvery
		value = temp_USA_RDC_controversy
	}
	add_to_variable = {
		var = Controversy_Weeks
		value = temp_USA_controversy_weeks
	}
	custom_effect_tooltip = USA_RDC_controversy_tt
}

USA_NPP_controversy = {
	add_to_variable = {
		var = USA_NPP_controvery
		value = temp_USA_NPP_controversy
	}
	add_to_variable = {
		var = Controversy_Weeks
		value = temp_USA_controversy_weeks
	}
	custom_effect_tooltip = USA_NPP_controversy_tt
}

#######################
## NPP Party Support ##
#######################

USA_NPP_Party_Leader_Support_Updates = {
	# Progressives
	add_to_variable = { NPP_P_Leadership_Approval = NPP_P_Leadership_Approval_Trend }
	clamp_variable = {
		var = NPP_P_Leadership_Approval
		min = 0
		max = 1
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_P_Leadership_Approval
				value = .20
				compare = less_than_or_equals
			}
			NOT = { has_country_flag = USA_active_NPP_leadership_play }
		}
		hidden_effect = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_P_LEADER = 0 }
					}
					set_temp_variable = { tempNPPleaderChange = 0 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_P_LEADER = 1 }
					}
					set_temp_variable = { tempNPPleaderChange = 1 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_P_LEADER = 2 }
					}
					set_temp_variable = { tempNPPleaderChange = 2 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_P_LEADER = 3 }
					}
					set_temp_variable = { tempNPPleaderChange = 3 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_P_LEADER = 4 }
					}
					set_temp_variable = { tempNPPleaderChange = 4 }
				}
			}
			set_country_flag = USA_AI_activated_NPP_leadership_play
			USA_start_p_caucus_leadership_play = yes
			country_event = { id = USA.NPP_leadership.1 }
		}
	}


	# Nationalists
	add_to_variable = { NPP_N_Leadership_Approval = NPP_N_Leadership_Approval_Trend }
	clamp_variable = {
		var = NPP_N_Leadership_Approval
		min = 0
		max = 1
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_N_Leadership_Approval
				value = .20
				compare = less_than_or_equals
			}
			NOT = { has_country_flag = USA_active_NPP_leadership_play }
		}
		hidden_effect = {
			random_list = {
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_N_LEADER = 0 }
					}
					set_temp_variable = { tempNPPleaderChange = 0 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_N_LEADER = 1 }
					}
					set_temp_variable = { tempNPPleaderChange = 1 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_N_LEADER = 2 }
					}
					set_temp_variable = { tempNPPleaderChange = 2 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_N_LEADER = 3 }
					}
					set_temp_variable = { tempNPPleaderChange = 3 }
				}
				1 = {
					modifier = {
						factor = 0
						check_variable = { NPP_N_LEADER = 4 }
					}
					set_temp_variable = { tempNPPleaderChange = 4 }
				}
			}
			set_country_flag = USA_AI_activated_NPP_leadership_play
			USA_start_n_caucus_leadership_play = yes
			country_event = { id = USA.NPP_leadership.2 }
		}
	}

	if = {
		limit = {
			has_country_flag = USA_Marxist_Caucus_Active
		}
		# Marxists
		add_to_variable = { NPP_M_Leadership_Approval = NPP_M_Leadership_Approval_Trend }
		clamp_variable = {
			var = NPP_M_Leadership_Approval
			min = 0
			max = 1
		}
		if = {
			limit = {
				check_variable = {
					var = NPP_M_Leadership_Approval
					value = .20
					compare = less_than_or_equals
				}
				NOT = { has_country_flag = USA_active_NPP_leadership_play }
			}
			hidden_effect = {
				random_list = {
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_M_LEADER = 0 }
						}
						set_temp_variable = { tempNPPleaderChange = 0 }
					}
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_M_LEADER = 1 }
						}
						set_temp_variable = { tempNPPleaderChange = 1 }
					}
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_M_LEADER = 2 }
						}
						set_temp_variable = { tempNPPleaderChange = 2 }
					}
				}
				set_country_flag = USA_AI_activated_NPP_leadership_play]
				USA_start_m_caucus_leadership_play = yes
				country_event = { id = USA.NPP_leadership.3 }
			}
		}
	}

	if = {
		limit = {
			has_country_flag = USA_Sovereigntist_Caucus_Active
		}
		# Sovereigntist
		add_to_variable = { NPP_S_Leadership_Approval = NPP_S_Leadership_Approval_Trend }
		clamp_variable = {
			var = NPP_S_Leadership_Approval
			min = 0
			max = 1
		}
		if = {
			limit = {
				check_variable = {
					var = NPP_S_Leadership_Approval
					value = .20
					compare = less_than_or_equals
				}
				NOT = { has_country_flag = USA_active_NPP_leadership_play }
			}
			hidden_effect = {
				random_list = {
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_S_LEADER = 0 }
						}
						set_temp_variable = { tempNPPleaderChange = 0 }
					}
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_S_LEADER = 1 }
						}
						set_temp_variable = { tempNPPleaderChange = 1 }
					}
					1 = {
						modifier = {
							factor = 0
							check_variable = { NPP_S_LEADER = 2 }
						}
						set_temp_variable = { tempNPPleaderChange = 2 }
					}
				}
				set_country_flag = USA_AI_activated_NPP_leadership_play
				USA_start_s_caucus_leadership_play = yes
				country_event = { id = USA.NPP_leadership.4 }
			}
		}
	}
}

# NPP caucus start leadership plays
USA_start_p_caucus_leadership_play = {
	set_variable = { USA_NPP_leadership_play_candidate = tempNPPleaderChange }
	effect_tooltip = {
		custom_effect_tooltip = USA_NPP_p_caucus_start_leadership_play_tt
		USA_leadership_play_p_success_effect = yes

		custom_effect_tooltip = USA_NPP_leadership_play_fail_tt
		USA_leadership_play_p_fail_effect = yes
	}
	clr_country_flag = USA_show_leadership_plays
	set_country_flag = USA_active_NPP_leadership_play

	hidden_effect = {
		activate_mission = USA_ongoing_leadership_play_p_mission
	}
	set_variable = { USA_previous_leadership_approval = NPP_P_Leadership_Approval }
}

USA_start_n_caucus_leadership_play = {
	set_variable = { USA_NPP_leadership_play_candidate = tempNPPleaderChange }
	effect_tooltip = {
		custom_effect_tooltip = USA_NPP_n_caucus_start_leadership_play_tt
		USA_leadership_play_n_success_effect = yes

		custom_effect_tooltip = USA_NPP_leadership_play_fail_tt
		USA_leadership_play_n_fail_effect = yes
	}
	clr_country_flag = USA_show_leadership_plays
	set_country_flag = USA_active_NPP_leadership_play

	hidden_effect = {
		activate_mission = USA_ongoing_leadership_play_n_mission
	}
	set_variable = { USA_previous_leadership_approval = NPP_N_Leadership_Approval }
}

USA_start_m_caucus_leadership_play = {
	set_variable = { USA_NPP_leadership_play_candidate = tempNPPleaderChange }
	effect_tooltip = {
		custom_effect_tooltip = USA_NPP_m_caucus_start_leadership_play_tt
		USA_leadership_play_m_success_effect = yes

		custom_effect_tooltip = USA_NPP_leadership_play_fail_tt
		USA_leadership_play_m_fail_effect = yes
	}
	clr_country_flag = USA_show_leadership_plays
	set_country_flag = USA_active_NPP_leadership_play

	hidden_effect = {
		activate_mission = USA_ongoing_leadership_play_m_mission
	}
	set_variable = { USA_previous_leadership_approval = NPP_M_Leadership_Approval }
}

USA_start_s_caucus_leadership_play = {
	set_variable = { USA_NPP_leadership_play_candidate = tempNPPleaderChange }
	effect_tooltip = {
		custom_effect_tooltip = USA_NPP_s_caucus_start_leadership_play_tt
		USA_leadership_play_s_success_effect = yes

		custom_effect_tooltip = USA_NPP_leadership_play_fail_tt
		USA_leadership_play_s_fail_effect = yes
	}
	clr_country_flag = USA_show_leadership_plays
	set_country_flag = USA_active_NPP_leadership_play

	hidden_effect = {
		activate_mission = USA_ongoing_leadership_play_s_mission
	}
	set_variable = { USA_previous_leadership_approval = NPP_S_Leadership_Approval }
}

# NPP caucus leader changes
USA_leadership_play_p_success_effect = {
	if = { # tooltip change after leadship play has started
		limit = { has_country_flag = USA_active_NPP_leadership_play }
		set_temp_variable = { tempNPPleaderChange = USA_NPP_leadership_play_candidate }
	}
	set_variable = { NPP_P_LEADER = USA_NPP_leadership_play_candidate }
	custom_effect_tooltip = USA_NPP_p_caucus_leader_change_tt
	if = { # AI has couped you
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		add_political_power = -100
	}
	set_temp_variable = { tempApproval = 0.6 }
	subtract_from_temp_variable = { tempApproval = NPP_P_Leadership_Approval }
	clamp_temp_variable = { var = tempApproval min = 0.25 } # lowest value you can successfully coup with so people know they will be recompensated
	USA_change_NPP_p_leadership_approval = yes
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_n_success_effect = {
	if = { # tooltip change after leadship play has started
		limit = { has_country_flag = USA_active_NPP_leadership_play }
		set_temp_variable = { tempNPPleaderChange = USA_NPP_leadership_play_candidate }
	}
	set_variable = { NPP_N_LEADER = USA_NPP_leadership_play_candidate }
	custom_effect_tooltip = USA_NPP_n_caucus_leader_change_tt
	if = { # AI has couped you
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		add_political_power = -100
	}
	set_temp_variable = { tempApproval = 0.6 }
	subtract_from_temp_variable = { tempApproval = NPP_N_Leadership_Approval }
	clamp_temp_variable = { var = tempApproval min = 0.25 } # lowest value you can successfully coup with so people know they will be recompensated
	USA_change_NPP_n_leadership_approval = yes
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_m_success_effect = {
	if = { # tooltip change after leadship play has started
		limit = { has_country_flag = USA_active_NPP_leadership_play }
		set_temp_variable = { tempNPPleaderChange = USA_NPP_leadership_play_candidate }
	}
	set_variable = { NPP_M_LEADER = USA_NPP_leadership_play_candidate }
	clamp_variable = {
		var = NPP_M_LEADER
		min = 0
		max = 2
	}
	custom_effect_tooltip = USA_NPP_m_caucus_leader_change_tt
	if = { # AI has couped you
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		add_political_power = -100
	}
	set_temp_variable = { tempApproval = 0.6 }
	subtract_from_temp_variable = { tempApproval = NPP_M_Leadership_Approval }
	clamp_temp_variable = { var = tempApproval min = 0.25 } # lowest value you can successfully coup with so people know they will be recompensated
	USA_change_NPP_m_leadership_approval = yes
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_s_success_effect = {
	if = { # tooltip change after leadship play has started
		limit = { has_country_flag = USA_active_NPP_leadership_play }
		set_temp_variable = { tempNPPleaderChange = USA_NPP_leadership_play_candidate }
	}
	set_variable = { NPP_S_LEADER = USA_NPP_leadership_play_candidate }
	clamp_variable = {
		var = NPP_S_LEADER
		min = 0
		max = 2
	}
	custom_effect_tooltip = USA_NPP_s_caucus_leader_change_tt
	if = { # AI has couped you
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		add_political_power = -100
	}
	set_temp_variable = { tempApproval = 0.6 }
	subtract_from_temp_variable = { tempApproval = NPP_S_Leadership_Approval }
	clamp_temp_variable = { var = tempApproval min = 0.25 } # lowest value you can successfully coup with so people know they will be recompensated
	USA_change_NPP_s_leadership_approval = yes
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_p_fail_effect = {
	if = { # You defended against an AI coup
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		custom_effect_tooltip = USA_NPP_leadership_play_thwarted_tt
		add_political_power = 25
	}
	else = { # You failed a coup you launched
		custom_effect_tooltip = USA_NPP_leadership_play_failed_tt
		add_political_power = -100
		multiply_variable = { USA_previous_leadership_approval = 0.85 } # rebounds to 85% of previous value
		set_variable = { NPP_P_Leadership_Approval = USA_previous_leadership_approval }
		custom_effect_tooltip = USA_NPP_leadership_p_approval_rebound_tt
	}
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_n_fail_effect = {
	if = { # You defended against an AI coup
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		custom_effect_tooltip = USA_NPP_leadership_play_thwarted_tt
		add_political_power = 25
	}
	else = { # You failed a coup you launched
		custom_effect_tooltip = USA_NPP_leadership_play_failed_tt
		add_political_power = -100
		multiply_variable = { USA_previous_leadership_approval = 0.85 } # rebounds to 85% of previous value
		set_variable = { NPP_N_Leadership_Approval = USA_previous_leadership_approval }
		custom_effect_tooltip = USA_NPP_leadership_n_approval_rebound_tt
	}
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_m_fail_effect = {
	if = { # You defended against an AI coup
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		custom_effect_tooltip = USA_NPP_leadership_play_thwarted_tt
		add_political_power = 25
	}
	else = { # You failed a coup you launched
		custom_effect_tooltip = USA_NPP_leadership_play_failed_tt
		add_political_power = -100
		multiply_variable = { USA_previous_leadership_approval = 0.85 } # rebounds to 85% of previous value
		set_variable = { NPP_M_Leadership_Approval = USA_previous_leadership_approval }
		custom_effect_tooltip = USA_NPP_leadership_m_approval_rebound_tt
	}
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_s_fail_effect = {
	if = { # You defended against an AI coup
		limit = { has_country_flag = USA_AI_activated_NPP_leadership_play }
		custom_effect_tooltip = USA_NPP_leadership_play_thwarted_tt
		add_political_power = 25
	}
	else = { # You failed a coup you launched
		custom_effect_tooltip = USA_NPP_leadership_play_failed_tt
		add_political_power = -100
		multiply_variable = { USA_previous_leadership_approval = 0.85 } # rebounds to 85% of previous value
		set_variable = { NPP_S_Leadership_Approval = USA_previous_leadership_approval }
		custom_effect_tooltip = USA_NPP_leadership_s_approval_rebound_tt
	}
	USA_leadership_play_clear = yes
	USA_assess_NPP_unity = yes
}

USA_leadership_play_clear = {
	hidden_effect = {
		clr_country_flag = USA_active_NPP_leadership_play
		clr_country_Flag = USA_AI_activated_NPP_leadership_play
		clear_variable = USA_previous_leadership_approval
		remove_mission = USA_ongoing_leadership_play_p_mission
		remove_mission = USA_ongoing_leadership_play_n_mission
		remove_mission = USA_ongoing_leadership_play_m_mission
		remove_mission = USA_ongoing_leadership_play_s_mission
	}
}

# NPP approval changes

USA_change_NPP_p_leadership_approval = {
	set_temp_variable = { tempApproval_tt = tempApproval }
	if = {
		limit = { check_variable = { tempApproval_tt > 0 } }
		custom_effect_tooltip = USA_increase_NPP_p_leadership_approval_tt
	}
	else = {
		multiply_temp_variable = { tempApproval_tt = -1 }
		custom_effect_tooltip = USA_decrease_NPP_p_leadership_approval_tt
	}
	add_to_variable = { NPP_P_Leadership_Approval = tempApproval }
	clamp_variable = { var = NPP_P_Leadership_Approval min = 0 max = 1 }
}

USA_change_NPP_n_leadership_approval = {
	set_temp_variable = { tempApproval_tt = tempApproval }
	if = {
		limit = { check_variable = { tempApproval_tt > 0 } }
		custom_effect_tooltip = USA_increase_NPP_n_leadership_approval_tt
	}
	else = {
		multiply_temp_variable = { tempApproval_tt = -1 }
		custom_effect_tooltip = USA_decrease_NPP_n_leadership_approval_tt
	}
	add_to_variable = { NPP_N_Leadership_Approval = tempApproval }
	clamp_variable = { var = NPP_N_Leadership_Approval min = 0 max = 1 }
}

USA_change_NPP_m_leadership_approval = {
	set_temp_variable = { tempApproval_tt = tempApproval }
	if = {
		limit = { check_variable = { tempApproval_tt > 0 } }
		custom_effect_tooltip = USA_increase_NPP_m_leadership_approval_tt
	}
	else = {
		multiply_temp_variable = { tempApproval_tt = -1 }
		custom_effect_tooltip = USA_decrease_NPP_m_leadership_approval_tt
	}
	add_to_variable = { NPP_M_Leadership_Approval = tempApproval }
	clamp_variable = { var = NPP_M_Leadership_Approval min = 0 max = 1 }
}

USA_change_NPP_s_leadership_approval = {
	set_temp_variable = { tempApproval_tt = tempApproval }
	if = {
		limit = { check_variable = { tempApproval_tt > 0 } }
		custom_effect_tooltip = USA_increase_NPP_s_leadership_approval_tt
	}
	else = {
		multiply_temp_variable = { tempApproval_tt = -1 }
		custom_effect_tooltip = USA_decrease_NPP_s_leadership_approval_tt
	}
	add_to_variable = { NPP_S_Leadership_Approval = tempApproval }
	clamp_variable = { var = NPP_S_Leadership_Approval min = 0 max = 1 }
}



# Demographic Shifts
USA_Demographic_Shift_black_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_rep_val = 0 } }
			}
			add_to_variable = { black_rep_affiliation = USA_BONUS_black_rep_val }
			clear_variable = USA_BONUS_black_rep_val
		}
		add_to_variable = { black_rep_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_black_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_dem_val = 0 } }
			}
			add_to_variable = { black_dem_affiliation = USA_BONUS_black_dem_val }
			clear_variable = USA_BONUS_black_dem_val
		}
		add_to_variable = { black_dem_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_black_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_pro_val = 0 } }
			}
			add_to_variable = { black_pro_affiliation = USA_BONUS_black_pro_val }
			clear_variable = USA_BONUS_black_pro_val
		}
		add_to_variable = { black_pro_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_black_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_nat_val = 0 } }
			}
			add_to_variable = { black_nat_affiliation = USA_BONUS_black_nat_val }
			clear_variable = USA_BONUS_black_nat_val
		}
		add_to_variable = { black_nat_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_black_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_com_val = 0 } }
			}
			add_to_variable = { black_com_affiliation = USA_BONUS_black_com_val }
			clear_variable = USA_BONUS_black_com_val
		}
		add_to_variable = { black_com_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_black_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_black_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_black_anv_val = 0 } }
			}
			add_to_variable = { black_anv_affiliation = USA_BONUS_black_anv_val }
			clear_variable = USA_BONUS_black_anv_val
		}
		add_to_variable = { black_anv_affiliation = USA_political_weekly_tick }
		USA_set_black_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_black_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_black_anv_Weeks
			min = 0
		}
	}
}

USA_set_black_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_black_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_com_affiliation }
	add_to_temp_variable = { temp_USA_national_black_affiliation = black_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_black_affiliation }
	multiply_variable = { black_rep_affiliation = adjust_val }
	multiply_variable = { black_dem_affiliation = adjust_val }
	multiply_variable = { black_pro_affiliation = adjust_val }
	multiply_variable = { black_nat_affiliation = adjust_val }
	multiply_variable = { black_com_affiliation = adjust_val }
	multiply_variable = { black_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_hispanic_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_rep_val = 0 } }
			}
			add_to_variable = { hispanic_rep_affiliation = USA_BONUS_hispanic_rep_val }
			clear_variable = USA_BONUS_hispanic_rep_val
		}
		add_to_variable = { hispanic_rep_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_hispanic_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_dem_val = 0 } }
			}
			add_to_variable = { hispanic_dem_affiliation = USA_BONUS_hispanic_dem_val }
			clear_variable = USA_BONUS_hispanic_dem_val
		}
		add_to_variable = { hispanic_dem_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_hispanic_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_pro_val = 0 } }
			}
			add_to_variable = { hispanic_pro_affiliation = USA_BONUS_hispanic_pro_val }
			clear_variable = USA_BONUS_hispanic_pro_val
		}
		add_to_variable = { hispanic_pro_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_hispanic_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_nat_val = 0 } }
			}
			add_to_variable = { hispanic_nat_affiliation = USA_BONUS_hispanic_nat_val }
			clear_variable = USA_BONUS_hispanic_nat_val
		}
		add_to_variable = { hispanic_nat_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_hispanic_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_com_val = 0 } }
			}
			add_to_variable = { hispanic_com_affiliation = USA_BONUS_hispanic_com_val }
			clear_variable = USA_BONUS_hispanic_com_val
		}
		add_to_variable = { hispanic_com_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_hispanic_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_hispanic_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_hispanic_anv_val = 0 } }
			}
			add_to_variable = { hispanic_anv_affiliation = USA_BONUS_hispanic_anv_val }
			clear_variable = USA_BONUS_hispanic_anv_val
		}
		add_to_variable = { hispanic_anv_affiliation = USA_political_weekly_tick }
		USA_set_hispanic_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_hispanic_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_hispanic_anv_Weeks
			min = 0
		}
	}
}

USA_set_hispanic_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_hispanic_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_com_affiliation }
	add_to_temp_variable = { temp_USA_national_hispanic_affiliation = hispanic_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_hispanic_affiliation }
	multiply_variable = { hispanic_rep_affiliation = adjust_val }
	multiply_variable = { hispanic_dem_affiliation = adjust_val }
	multiply_variable = { hispanic_pro_affiliation = adjust_val }
	multiply_variable = { hispanic_nat_affiliation = adjust_val }
	multiply_variable = { hispanic_com_affiliation = adjust_val }
	multiply_variable = { hispanic_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_minority_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_rep_val = 0 } }
			}
			add_to_variable = { minority_rep_affiliation = USA_BONUS_minority_rep_val }
			clear_variable = USA_BONUS_minority_rep_val
		}
		add_to_variable = { minority_rep_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_minority_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_dem_val = 0 } }
			}
			add_to_variable = { minority_dem_affiliation = USA_BONUS_minority_dem_val }
			clear_variable = USA_BONUS_minority_dem_val
		}
		add_to_variable = { minority_dem_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_minority_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_pro_val = 0 } }
			}
			add_to_variable = { minority_pro_affiliation = USA_BONUS_minority_pro_val }
			clear_variable = USA_BONUS_minority_pro_val
		}
		add_to_variable = { minority_pro_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_minority_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_nat_val = 0 } }
			}
			add_to_variable = { minority_nat_affiliation = USA_BONUS_minority_nat_val }
			clear_variable = USA_BONUS_minority_nat_val
		}
		add_to_variable = { minority_nat_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_minority_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_com_val = 0 } }
			}
			add_to_variable = { minority_com_affiliation = USA_BONUS_minority_com_val }
			clear_variable = USA_BONUS_minority_com_val
		}
		add_to_variable = { minority_com_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_minority_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_minority_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_minority_anv_val = 0 } }
			}
			add_to_variable = { minority_anv_affiliation = USA_BONUS_minority_anv_val }
			clear_variable = USA_BONUS_minority_anv_val
		}
		add_to_variable = { minority_anv_affiliation = USA_political_weekly_tick }
		USA_set_minority_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_minority_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_minority_anv_Weeks
			min = 0
		}
	}
}

USA_set_minority_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_minority_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_com_affiliation }
	add_to_temp_variable = { temp_USA_national_minority_affiliation = minority_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_minority_affiliation }
	multiply_variable = { minority_rep_affiliation = adjust_val }
	multiply_variable = { minority_dem_affiliation = adjust_val }
	multiply_variable = { minority_pro_affiliation = adjust_val }
	multiply_variable = { minority_nat_affiliation = adjust_val }
	multiply_variable = { minority_com_affiliation = adjust_val }
	multiply_variable = { minority_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_nativists_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_rep_val = 0 } }
			}
			add_to_variable = { nativists_rep_affiliation = USA_BONUS_nativists_rep_val }
			clear_variable = USA_BONUS_nativists_rep_val
		}
		add_to_variable = { nativists_rep_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_nativists_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_dem_val = 0 } }
			}
			add_to_variable = { nativists_dem_affiliation = USA_BONUS_nativists_dem_val }
			clear_variable = USA_BONUS_nativists_dem_val
		}
		add_to_variable = { nativists_dem_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_nativists_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_pro_val = 0 } }
			}
			add_to_variable = { nativists_pro_affiliation = USA_BONUS_nativists_pro_val }
			clear_variable = USA_BONUS_nativists_pro_val
		}
		add_to_variable = { nativists_pro_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_nativists_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_nat_val = 0 } }
			}
			add_to_variable = { nativists_nat_affiliation = USA_BONUS_nativists_nat_val }
			clear_variable = USA_BONUS_nativists_nat_val
		}
		add_to_variable = { nativists_nat_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_nativists_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_com_val = 0 } }
			}
			add_to_variable = { nativists_com_affiliation = USA_BONUS_nativists_com_val }
			clear_variable = USA_BONUS_nativists_com_val
		}
		add_to_variable = { nativists_com_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_nativists_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_nativists_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_nativists_anv_val = 0 } }
			}
			add_to_variable = { nativists_anv_affiliation = USA_BONUS_nativists_anv_val }
			clear_variable = USA_BONUS_nativists_anv_val
		}
		add_to_variable = { nativists_anv_affiliation = USA_political_weekly_tick }
		USA_set_nativists_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_nativists_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_nativists_anv_Weeks
			min = 0
		}
	}
}

USA_set_nativists_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_nativists_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_com_affiliation }
	add_to_temp_variable = { temp_USA_national_nativists_affiliation = nativists_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_nativists_affiliation }
	multiply_variable = { nativists_rep_affiliation = adjust_val }
	multiply_variable = { nativists_dem_affiliation = adjust_val }
	multiply_variable = { nativists_pro_affiliation = adjust_val }
	multiply_variable = { nativists_nat_affiliation = adjust_val }
	multiply_variable = { nativists_com_affiliation = adjust_val }
	multiply_variable = { nativists_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_urban_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_rep_val = 0 } }
			}
			add_to_variable = { urban_rep_affiliation = USA_BONUS_urban_rep_val }
			clear_variable = USA_BONUS_urban_rep_val
		}
		add_to_variable = { urban_rep_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_urban_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_dem_val = 0 } }
			}
			add_to_variable = { urban_dem_affiliation = USA_BONUS_urban_dem_val }
			clear_variable = USA_BONUS_urban_dem_val
		}
		add_to_variable = { urban_dem_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_urban_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_pro_val = 0 } }
			}
			add_to_variable = { urban_pro_affiliation = USA_BONUS_urban_pro_val }
			clear_variable = USA_BONUS_urban_pro_val
		}
		add_to_variable = { urban_pro_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_urban_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_nat_val = 0 } }
			}
			add_to_variable = { urban_nat_affiliation = USA_BONUS_urban_nat_val }
			clear_variable = USA_BONUS_urban_nat_val
		}
		add_to_variable = { urban_nat_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_urban_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_com_val = 0 } }
			}
			add_to_variable = { urban_com_affiliation = USA_BONUS_urban_com_val }
			clear_variable = USA_BONUS_urban_com_val
		}
		add_to_variable = { urban_com_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_urban_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_urban_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_urban_anv_val = 0 } }
			}
			add_to_variable = { urban_anv_affiliation = USA_BONUS_urban_anv_val }
			clear_variable = USA_BONUS_urban_anv_val
		}
		add_to_variable = { urban_anv_affiliation = USA_political_weekly_tick }
		USA_set_urban_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_urban_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_urban_anv_Weeks
			min = 0
		}
	}
}

USA_set_urban_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_urban_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_com_affiliation }
	add_to_temp_variable = { temp_USA_national_urban_affiliation = urban_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_urban_affiliation }
	multiply_variable = { urban_rep_affiliation = adjust_val }
	multiply_variable = { urban_dem_affiliation = adjust_val }
	multiply_variable = { urban_pro_affiliation = adjust_val }
	multiply_variable = { urban_nat_affiliation = adjust_val }
	multiply_variable = { urban_com_affiliation = adjust_val }
	multiply_variable = { urban_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_rural_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_rep_val = 0 } }
			}
			add_to_variable = { rural_rep_affiliation = USA_BONUS_rural_rep_val }
			clear_variable = USA_BONUS_rural_rep_val
		}
		add_to_variable = { rural_rep_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_rural_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_dem_val = 0 } }
			}
			add_to_variable = { rural_dem_affiliation = USA_BONUS_rural_dem_val }
			clear_variable = USA_BONUS_rural_dem_val
		}
		add_to_variable = { rural_dem_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_rural_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_pro_val = 0 } }
			}
			add_to_variable = { rural_pro_affiliation = USA_BONUS_rural_pro_val }
			clear_variable = USA_BONUS_rural_pro_val
		}
		add_to_variable = { rural_pro_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_rural_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_nat_val = 0 } }
			}
			add_to_variable = { rural_nat_affiliation = USA_BONUS_rural_nat_val }
			clear_variable = USA_BONUS_rural_nat_val
		}
		add_to_variable = { rural_nat_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_rural_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_com_val = 0 } }
			}
			add_to_variable = { rural_com_affiliation = USA_BONUS_rural_com_val }
			clear_variable = USA_BONUS_rural_com_val
		}
		add_to_variable = { rural_com_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_rural_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_rural_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_rural_anv_val = 0 } }
			}
			add_to_variable = { rural_anv_affiliation = USA_BONUS_rural_anv_val }
			clear_variable = USA_BONUS_rural_anv_val
		}
		add_to_variable = { rural_anv_affiliation = USA_political_weekly_tick }
		USA_set_rural_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_rural_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_rural_anv_Weeks
			min = 0
		}
	}
}

USA_set_rural_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_rural_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_com_affiliation }
	add_to_temp_variable = { temp_USA_national_rural_affiliation = rural_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_rural_affiliation }
	multiply_variable = { rural_rep_affiliation = adjust_val }
	multiply_variable = { rural_dem_affiliation = adjust_val }
	multiply_variable = { rural_pro_affiliation = adjust_val }
	multiply_variable = { rural_nat_affiliation = adjust_val }
	multiply_variable = { rural_com_affiliation = adjust_val }
	multiply_variable = { rural_anv_affiliation = adjust_val }
}

USA_Demographic_Shift_union_rep = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_rep_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_rep_val = 0 } }
			}
			add_to_variable = { union_rep_affiliation = USA_BONUS_union_rep_val }
			clear_variable = USA_BONUS_union_rep_val
		}
		add_to_variable = { union_rep_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_rep_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_rep_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_union_dem = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_dem_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_dem_val = 0 } }
			}
			add_to_variable = { union_dem_affiliation = USA_BONUS_union_dem_val }
			clear_variable = USA_BONUS_union_dem_val
		}
		add_to_variable = { union_dem_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_dem_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_dem_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_union_pro = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_pro_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_pro_val = 0 } }
			}
			add_to_variable = { union_pro_affiliation = USA_BONUS_union_pro_val }
			clear_variable = USA_BONUS_union_pro_val
		}
		add_to_variable = { union_pro_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_pro_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_pro_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_union_nat = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_nat_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_nat_val = 0 } }
			}
			add_to_variable = { union_nat_affiliation = USA_BONUS_union_nat_val }
			clear_variable = USA_BONUS_union_nat_val
		}
		add_to_variable = { union_nat_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_nat_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_nat_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_union_com = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_com_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_com_val = 0 } }
			}
			add_to_variable = { union_com_affiliation = USA_BONUS_union_com_val }
			clear_variable = USA_BONUS_union_com_val
		}
		add_to_variable = { union_com_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_com_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_com_Weeks
			min = 0
		}
	}
}

USA_Demographic_Shift_union_anv = {
	if = {
		limit = {
			check_variable = { Demographic_Shift_union_anv_Weeks > 0 }
		}
		if = {
			limit = {
				NOT = { check_variable = { USA_BONUS_union_anv_val = 0 } }
			}
			add_to_variable = { union_anv_affiliation = USA_BONUS_union_anv_val }
			clear_variable = USA_BONUS_union_anv_val
		}
		add_to_variable = { union_anv_affiliation = USA_political_weekly_tick }
		USA_set_union_affiliation_to_100 = yes
		add_to_variable = { Demographic_Shift_union_anv_Weeks = -1 }
		clamp_variable = {
			var = Demographic_Shift_union_anv_Weeks
			min = 0
		}
	}
}

USA_set_union_affiliation_to_100 = {
	set_temp_variable = { temp_USA_national_union_affiliation = 0 }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_rep_affiliation }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_dem_affiliation }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_pro_affiliation }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_nat_affiliation }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_com_affiliation }
	add_to_temp_variable = { temp_USA_national_union_affiliation = union_anv_affiliation }
	set_temp_variable = { adjust_val = 1 }
	divide_temp_variable = { adjust_val = temp_USA_national_union_affiliation }
	multiply_variable = { union_rep_affiliation = adjust_val }
	multiply_variable = { union_dem_affiliation = adjust_val }
	multiply_variable = { union_pro_affiliation = adjust_val }
	multiply_variable = { union_nat_affiliation = adjust_val }
	multiply_variable = { union_com_affiliation = adjust_val }
	multiply_variable = { union_anv_affiliation = adjust_val }
}

USA_all_demographic_shifts = {

	if = {
		limit = {
			has_country_flag = USA_hart_presidency
		}
		USA_extremist_drain = yes
	}

	USA_Demographic_Shift_black_rep = yes
	USA_Demographic_Shift_black_dem = yes
	USA_Demographic_Shift_black_pro = yes
	USA_Demographic_Shift_black_nat = yes
	USA_Demographic_Shift_black_com = yes
	USA_Demographic_Shift_black_anv = yes

	USA_Demographic_Shift_hispanic_rep = yes
	USA_Demographic_Shift_hispanic_dem = yes
	USA_Demographic_Shift_hispanic_pro = yes
	USA_Demographic_Shift_hispanic_nat = yes
	USA_Demographic_Shift_hispanic_com = yes
	USA_Demographic_Shift_hispanic_anv = yes

	USA_Demographic_Shift_minority_rep = yes
	USA_Demographic_Shift_minority_dem = yes
	USA_Demographic_Shift_minority_pro = yes
	USA_Demographic_Shift_minority_nat = yes
	USA_Demographic_Shift_minority_com = yes
	USA_Demographic_Shift_minority_anv = yes

	USA_Demographic_Shift_nativists_rep = yes
	USA_Demographic_Shift_nativists_dem = yes
	USA_Demographic_Shift_nativists_pro = yes
	USA_Demographic_Shift_nativists_nat = yes
	USA_Demographic_Shift_nativists_com = yes
	USA_Demographic_Shift_nativists_anv = yes

	USA_Demographic_Shift_urban_rep = yes
	USA_Demographic_Shift_urban_dem = yes
	USA_Demographic_Shift_urban_pro = yes
	USA_Demographic_Shift_urban_nat = yes
	USA_Demographic_Shift_urban_com = yes
	USA_Demographic_Shift_urban_anv = yes

	USA_Demographic_Shift_rural_rep = yes
	USA_Demographic_Shift_rural_dem = yes
	USA_Demographic_Shift_rural_pro = yes
	USA_Demographic_Shift_rural_nat = yes
	USA_Demographic_Shift_rural_com = yes
	USA_Demographic_Shift_rural_anv = yes

	USA_Demographic_Shift_union_rep = yes
	USA_Demographic_Shift_union_dem = yes
	USA_Demographic_Shift_union_pro = yes
	USA_Demographic_Shift_union_nat = yes
	USA_Demographic_Shift_union_com = yes
	USA_Demographic_Shift_union_anv = yes

	USA_Policy_Shift_black_civil_rights_lib = yes
	USA_Policy_Shift_black_civil_rights_con = yes
	USA_Policy_Shift_black_domestic_policy_lib = yes
	USA_Policy_Shift_black_domestic_policy_con = yes
	USA_Policy_Shift_black_economic_policy_lib = yes
	USA_Policy_Shift_black_economic_policy_con = yes
	USA_Policy_Shift_black_foreign_policy_lib = yes
	USA_Policy_Shift_black_foreign_policy_con = yes

	USA_Policy_Shift_hispanic_civil_rights_lib = yes
	USA_Policy_Shift_hispanic_civil_rights_con = yes
	USA_Policy_Shift_hispanic_domestic_policy_lib = yes
	USA_Policy_Shift_hispanic_domestic_policy_con = yes
	USA_Policy_Shift_hispanic_economic_policy_lib = yes
	USA_Policy_Shift_hispanic_economic_policy_con = yes
	USA_Policy_Shift_hispanic_foreign_policy_lib = yes
	USA_Policy_Shift_hispanic_foreign_policy_con = yes

	USA_Policy_Shift_minority_civil_rights_lib = yes
	USA_Policy_Shift_minority_civil_rights_con = yes
	USA_Policy_Shift_minority_domestic_policy_lib = yes
	USA_Policy_Shift_minority_domestic_policy_con = yes
	USA_Policy_Shift_minority_economic_policy_lib = yes
	USA_Policy_Shift_minority_economic_policy_con = yes
	USA_Policy_Shift_minority_foreign_policy_lib = yes
	USA_Policy_Shift_minority_foreign_policy_con = yes

	USA_Policy_Shift_nativists_civil_rights_lib = yes
	USA_Policy_Shift_nativists_civil_rights_con = yes
	USA_Policy_Shift_nativists_domestic_policy_lib = yes
	USA_Policy_Shift_nativists_domestic_policy_con = yes
	USA_Policy_Shift_nativists_economic_policy_lib = yes
	USA_Policy_Shift_nativists_economic_policy_con = yes
	USA_Policy_Shift_nativists_foreign_policy_lib = yes
	USA_Policy_Shift_nativists_foreign_policy_con = yes

	USA_Policy_Shift_urban_civil_rights_lib = yes
	USA_Policy_Shift_urban_civil_rights_con = yes
	USA_Policy_Shift_urban_domestic_policy_lib = yes
	USA_Policy_Shift_urban_domestic_policy_con = yes
	USA_Policy_Shift_urban_economic_policy_lib = yes
	USA_Policy_Shift_urban_economic_policy_con = yes
	USA_Policy_Shift_urban_foreign_policy_lib = yes
	USA_Policy_Shift_urban_foreign_policy_con = yes

	USA_Policy_Shift_rural_civil_rights_lib = yes
	USA_Policy_Shift_rural_civil_rights_con = yes
	USA_Policy_Shift_rural_domestic_policy_lib = yes
	USA_Policy_Shift_rural_domestic_policy_con = yes
	USA_Policy_Shift_rural_economic_policy_lib = yes
	USA_Policy_Shift_rural_economic_policy_con = yes
	USA_Policy_Shift_rural_foreign_policy_lib = yes
	USA_Policy_Shift_rural_foreign_policy_con = yes

	USA_Policy_Shift_union_civil_rights_lib = yes
	USA_Policy_Shift_union_civil_rights_con = yes
	USA_Policy_Shift_union_domestic_policy_lib = yes
	USA_Policy_Shift_union_domestic_policy_con = yes
	USA_Policy_Shift_union_economic_policy_lib = yes
	USA_Policy_Shift_union_economic_policy_con = yes
	USA_Policy_Shift_union_foreign_policy_lib = yes
	USA_Policy_Shift_union_foreign_policy_con = yes

	USA_update_policy_opinions = yes
	USA_pie_chart_math = yes
	USA_pie_chart_math = yes # needs to be run trwice
}

# Demographic Shifts
USA_Policy_Shift_black_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { black_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = black_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { black_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = black_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { black_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = black_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { black_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = black_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { black_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = black_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { black_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = black_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { black_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = black_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_black_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_black_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { black_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = black_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_black_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_black_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_hispanic_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { hispanic_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = hispanic_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { hispanic_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = hispanic_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { hispanic_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = hispanic_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { hispanic_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = hispanic_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { hispanic_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = hispanic_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { hispanic_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = hispanic_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { hispanic_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = hispanic_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_hispanic_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_hispanic_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { hispanic_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = hispanic_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_hispanic_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_hispanic_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_minority_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { minority_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = minority_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { minority_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = minority_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { minority_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = minority_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { minority_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = minority_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { minority_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = minority_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { minority_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = minority_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { minority_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = minority_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_minority_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_minority_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { minority_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = minority_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_minority_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_minority_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_nativists_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { nativists_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = nativists_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { nativists_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = nativists_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { nativists_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = nativists_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { nativists_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = nativists_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { nativists_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = nativists_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { nativists_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = nativists_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { nativists_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = nativists_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_nativists_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_nativists_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { nativists_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = nativists_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_nativists_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_nativists_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_urban_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { urban_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = urban_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { urban_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = urban_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { urban_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = urban_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { urban_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = urban_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { urban_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = urban_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { urban_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = urban_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { urban_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = urban_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_urban_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_urban_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { urban_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = urban_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_urban_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_urban_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_rural_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { rural_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = rural_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { rural_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = rural_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { rural_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = rural_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { rural_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = rural_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { rural_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = rural_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { rural_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = rural_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { rural_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = rural_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_rural_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_rural_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { rural_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = rural_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_rural_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_rural_foreign_policy_con_Weeks
			min = 0
		}
	}
}
USA_Policy_Shift_union_civil_rights_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_civil_rights_lib_Weeks > 0 }
		}
		add_to_variable = { union_civil_rights_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = union_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_civil_rights_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_civil_rights_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_civil_rights_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_civil_rights_con_Weeks > 0 }
		}
		subtract_from_variable = { union_civil_rights_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = union_civil_rights_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_civil_rights_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_civil_rights_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_domestic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_domestic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { union_domestic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = union_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_domestic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_domestic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_domestic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_domestic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { union_domestic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = union_domestic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_domestic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_domestic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_economic_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_economic_policy_lib_Weeks > 0 }
		}
		add_to_variable = { union_economic_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = union_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_economic_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_economic_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_economic_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_economic_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { union_economic_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = union_economic_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_economic_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_economic_policy_con_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_foreign_policy_lib = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_foreign_policy_lib_Weeks > 0 }
		}
		add_to_variable = { union_foreign_policy_opinion = USA_political_weekly_tick } # up a full point omg !!

		clamp_variable = {
			var = union_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_foreign_policy_lib_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_foreign_policy_lib_Weeks
			min = 0
		}
	}
}

USA_Policy_Shift_union_foreign_policy_con = { USA_weekly_tick_unity_adjust = yes
	if = {
		limit = {
			check_variable = { Policy_Shift_union_foreign_policy_con_Weeks > 0 }
		}
		subtract_from_variable = { union_foreign_policy_opinion = USA_political_weekly_tick } # down a full point omg !!

		clamp_variable = {
			var = union_foreign_policy_opinion
			min = 1
			max = 10
		}

		add_to_variable = { Policy_Shift_union_foreign_policy_con_Weeks = -1 }
		clamp_variable = {
			var = Policy_Shift_union_foreign_policy_con_Weeks
			min = 0
		}
	}
}

USA_weekly_tick_unity_adjust = {

	set_temp_variable = { USA_temp_division = USA_unity }
	clamp_variable = {
		var = USA_temp_division
		min = 1
		max = 20
	}
	multiply_temp_variable = { USA_temp_division = -1 }
	add_to_temp_variable = { USA_temp_division = 20 }
	multiply_temp_variable = { USA_temp_division = .0049 }
	divide_temp_variable = { USA_temp_division = 100 }
	set_variable = { USA_political_weekly_tick = USA_temp_division }
	set_variable = { varcheck = 0.048 }
}

USA_update_policy_opinions = {
	set_variable = { national_civil_rights_policy = 0 }
	add_to_variable = { national_civil_rights_policy = black_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = hispanic_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = minority_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = nativists_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = urban_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = rural_civil_rights_opinion }
	add_to_variable = { national_civil_rights_policy = union_civil_rights_opinion }
	divide_variable = { national_civil_rights_policy = 7 }


	set_variable = { national_domestic_policy = 0 }
	add_to_variable = { national_domestic_policy = black_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = hispanic_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = minority_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = nativists_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = urban_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = rural_domestic_policy_opinion }
	add_to_variable = { national_domestic_policy = union_domestic_policy_opinion }
	divide_variable = { national_domestic_policy = 7 }

	set_variable = { national_economic_policy = 0 }
	add_to_variable = { national_economic_policy = black_economic_policy_opinion }
	add_to_variable = { national_economic_policy = hispanic_economic_policy_opinion }
	add_to_variable = { national_economic_policy = minority_economic_policy_opinion }
	add_to_variable = { national_economic_policy = nativists_economic_policy_opinion }
	add_to_variable = { national_economic_policy = urban_economic_policy_opinion }
	add_to_variable = { national_economic_policy = rural_economic_policy_opinion }
	add_to_variable = { national_economic_policy = union_economic_policy_opinion }
	divide_variable = { national_economic_policy = 7 }


	set_variable = { national_foreign_policy = 0 }
	add_to_variable = { national_foreign_policy = black_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = hispanic_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = minority_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = nativists_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = urban_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = rural_foreign_policy_opinion }
	add_to_variable = { national_foreign_policy = union_foreign_policy_opinion }
	divide_variable = { national_foreign_policy = 7 }
}

USA_ELECTION_CODE_black_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_black_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_hispanic_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_hispanic_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_hispanic_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_hispanic_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_hispanic_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_hispanic_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_minority_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_minority_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_minority_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_minority_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_minority_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
			USA = {
				NOT = {
					has_idea = USA_jim_crow
					has_idea = USA_bloody_jim_crow
					has_idea = USA_civil_rights_1
					has_idea = USA_civil_rights_2
					has_idea = USA_civil_rights_3
				}
			}
		}
		set_temp_variable = { state_minority_turnout = .03 }
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_nativists_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.7
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.4
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.4
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.4
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		clamp_temp_variable = {
			var = state_nativists_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_urban_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_rural_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.6
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.6
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.5
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		clamp_temp_variable = {
			var = state_rural_turnout
			min = 0.3
			max = 1
		}
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_union_turnout_adjust = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_h1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_j1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_k1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_l1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_o1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_p1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_q1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_r1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_s1
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		# effect
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		# effect
	}
}

USA_ELECTION_CODE_state_party_pref_balance = {
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 0.8 }

		multiply_temp_variable = { nat_raw_votes = 0.8 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }
		if = {
			limit = {
				USA = { has_country_flag = USA_scoop_nominated }
			}
			multiply_temp_variable = { pro_raw_votes = 1.2 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.2 }
			multiply_temp_variable = { pro_raw_votes = 0.9 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		multiply_temp_variable = { dem_raw_votes = 0.8 }
		multiply_temp_variable = { rep_raw_votes = 1.0 }

		multiply_temp_variable = { nat_raw_votes = 0.9 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }
		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.8 }
		}

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		multiply_temp_variable = { dem_raw_votes = 1.0 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 0.8 }
		multiply_temp_variable = { pro_raw_votes = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
		}
		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		multiply_temp_variable = { dem_raw_votes = 0.7 }
		multiply_temp_variable = { rep_raw_votes = 1.3 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.6 }
		if = {
			limit = {
				USA = { has_country_flag = USA_bennet_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 1.6 }
			multiply_temp_variable = { nat_raw_votes = 0.7 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_romney_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 1.3 }
			multiply_temp_variable = { nat_raw_votes = 0.7 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.8 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 1.1 }

		multiply_temp_variable = { nat_raw_votes = 1.1 }
		multiply_temp_variable = { pro_raw_votes = 0.8 }
		if = {
			limit = {
				USA = { has_country_flag = USA_goldwater_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 1.3 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.2 }
			multiply_temp_variable = { pro_raw_votes = 0.8 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		multiply_temp_variable = { dem_raw_votes = 1.2 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 0.9 }
		multiply_temp_variable = { pro_raw_votes = 1.0 }
		if = {
			limit = {
				USA = { has_country_flag = USA_hall_nominated }
			}
			multiply_temp_variable = { com_raw_votes = 1.2 } # no way theres THAT MANY to break things
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		multiply_temp_variable = { dem_raw_votes = 1.0 }
		multiply_temp_variable = { rep_raw_votes = 1.2 }

		multiply_temp_variable = { nat_raw_votes = 1.1 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }

		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_h
		}
		multiply_temp_variable = { dem_raw_votes = 1.1 }

		multiply_temp_variable = { nat_raw_votes = 1.15 }
		multiply_temp_variable = { pro_raw_votes = 1.0 }
		multiply_temp_variable = { com_raw_votes = 0.5 }
		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.6 }
			multiply_temp_variable = { nat_raw_votes = 0.7 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		multiply_temp_variable = { dem_raw_votes = 1.1 }
		multiply_temp_variable = { rep_raw_votes = 1.0 }

		multiply_temp_variable = { nat_raw_votes = 1.2 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_j
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.2 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }
		if = {
			limit = {
				USA = { has_country_flag = USA_harrington_nominated }
			}
			multiply_temp_variable = { pro_raw_votes = 1.6 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_schlafly_nominated }
			}
			multiply_temp_variable = { nat_raw_votes = 1.2 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_k
		}
		multiply_temp_variable = { dem_raw_votes = 0.85 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.7 }
		multiply_temp_variable = { com_raw_votes = 0.2 }
		if = {
			limit = {
				USA = { has_country_flag = USA_wallace_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 0.7 }
			multiply_temp_variable = { dem_raw_votes = 0.8 }
			multiply_temp_variable = { nat_raw_votes = 1.2 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_l
		}
		multiply_temp_variable = { dem_raw_votes = 0.8 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.6 }
		multiply_temp_variable = { com_raw_votes = 0.2 }
		if = {
			limit = {
				USA = { has_country_flag = USA_hart_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 } # big name chep
			multiply_temp_variable = { nat_raw_votes = 0.8 } #fuck da longs
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		multiply_temp_variable = { dem_raw_votes = 1.1 }
		multiply_temp_variable = { rep_raw_votes = 1.0 }

		multiply_temp_variable = { nat_raw_votes = 0.9 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }
		if = {
			limit = {
				USA = { has_country_flag = USA_yockey_nominated }
			}
			multiply_temp_variable = { anv_raw_votes = 2.0 } # no way theres THAT MANY to break things
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { pro_raw_votes = 1.2 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_schlafly_nominated }
			}
			multiply_temp_variable = { nat_raw_votes = 1.2 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_wallace_nominated }
			}
			multiply_temp_variable = { nat_raw_votes = 1.2 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		multiply_temp_variable = { dem_raw_votes = 1.2 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.1 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }
		if = {
			limit = {
				USA = { has_country_flag = USA_hart_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_romney_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 1.5 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_wallace_nominated }
			}
			multiply_temp_variable = { nat_raw_votes = 1.2 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_o
		}
		multiply_temp_variable = { dem_raw_votes = 0.85 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.6 }
		multiply_temp_variable = { com_raw_votes = 0.2 }

		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_p
		}
		multiply_temp_variable = { dem_raw_votes = 0.8 }
		multiply_temp_variable = { rep_raw_votes = 0.8 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.8 }
		multiply_temp_variable = { com_raw_votes = 0.2 }

		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
			multiply_temp_variable = { pro_raw_votes = 0.9 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_q
		}
		multiply_temp_variable = { dem_raw_votes = 1.0 }
		multiply_temp_variable = { rep_raw_votes = 0.7 }

		multiply_temp_variable = { nat_raw_votes = 1.1 }
		multiply_temp_variable = { pro_raw_votes = 0.6 }
		multiply_temp_variable = { com_raw_votes = 0.2 }

		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.3 }
			multiply_temp_variable = { pro_raw_votes = 0.7 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_r
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.2 }
		multiply_temp_variable = { pro_raw_votes = 0.8 }
		multiply_temp_variable = { com_raw_votes = 0.2 }

		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
			multiply_temp_variable = { pro_raw_votes = 0.9 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_s
		}
		multiply_temp_variable = { dem_raw_votes = 1.1 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.1 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }
		if = {
			limit = {
				USA = { has_country_flag = USA_kirkpatrick_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.4 }
		}
		if = {
			limit = {
				USA = { has_country_flag = USA_johnson_nominated }
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
			multiply_temp_variable = { pro_raw_votes = 0.9 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		multiply_temp_variable = { dem_raw_votes = 1.1 }
		multiply_temp_variable = { rep_raw_votes = 1.3 }

		multiply_temp_variable = { nat_raw_votes = 0.9 }
		multiply_temp_variable = { pro_raw_votes = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		multiply_temp_variable = { dem_raw_votes = 1.0 }
		multiply_temp_variable = { rep_raw_votes = 1.1 }

		multiply_temp_variable = { nat_raw_votes = 0.8 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 1.2 }

		multiply_temp_variable = { nat_raw_votes = 0.8 }
		multiply_temp_variable = { pro_raw_votes = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		multiply_temp_variable = { dem_raw_votes = 0.7 }
		multiply_temp_variable = { rep_raw_votes = 1.3 }

		multiply_temp_variable = { nat_raw_votes = 0.9 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 1.2 }

		multiply_temp_variable = { nat_raw_votes = 1.0 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }
		if = {
			limit = {
				USA = { has_country_flag = USA_kennedy_nominated }
			}
			multiply_temp_variable = { rep_raw_votes = 0.7 }
			multiply_temp_variable = { dem_raw_votes = 0.9 }
			multiply_temp_variable = { pro_raw_votes = 1.2 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		multiply_temp_variable = { dem_raw_votes = 0.8 }
		multiply_temp_variable = { rep_raw_votes = 1.2 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 0.9 }
		if = {
			limit = {
				USA = { has_country_flag = USA_smith_nominated }
			}
			multiply_temp_variable = { nat_raw_votes = 1.1 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.3 }
		multiply_temp_variable = { pro_raw_votes = 1.3 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		multiply_temp_variable = { dem_raw_votes = 0.9 }
		multiply_temp_variable = { rep_raw_votes = 0.9 }

		multiply_temp_variable = { nat_raw_votes = 1.2 }
		multiply_temp_variable = { pro_raw_votes = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
}
USA_rubber_band_effect_major_party = {
	if = {
		limit = {
			check_variable = { senate_state_nom_rdc = 1 }
		}
		if = {
			limit = {
				check_variable = { USA.RD_R_Senators > 30 }
			}
			set_temp_variable = { rep_senate_nat_rubber_band_penalty = USA.RD_R_Senators }
			subtract_from_temp_variable = { rep_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { rep_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { rep_senate_nat_rubber_band_penalty = rep_raw_votes_sen }
			set_variable = { REP_TEST_NOM_PRE_RB_NAT = rep_raw_votes_sen }

			subtract_from_variable = { rep_raw_votes_sen = rep_senate_nat_rubber_band_penalty }
			set_variable = { REP_TEST_NOM_POST_RB_NAT = rep_raw_votes_sen }
			set_variable = { REP_TEST_NOM_NAT = rep_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				check_variable = { USA.RD_R_Senators < 15 }
			}
			set_temp_variable = { rep_senate_nat_rubber_band_penalty = 15 }
			subtract_from_temp_variable = { rep_senate_nat_rubber_band_penalty = USA.RD_R_Senators }
			divide_temp_variable = { rep_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { rep_senate_nat_rubber_band_penalty = rep_raw_votes_sen }
			set_variable = { REP_TEST_NOM_PRE_RB_NAT = rep_raw_votes_sen }

			add_to_variable = { rep_raw_votes_sen = rep_senate_nat_rubber_band_penalty }
			set_variable = { REP_TEST_NOM_POST_RB_NAT = rep_raw_votes_sen }
			set_variable = { REP_TEST_NOM_NAT = rep_senate_nat_rubber_band_penalty }
		}
	}
	if = {
		limit = {
			check_variable = { senate_state_nom_rdc = 2 }
		}
		if = {
			limit = {
				check_variable = { USA.RD_D_Senators > 30 }
			}
			set_temp_variable = { dem_senate_nat_rubber_band_penalty = USA.RD_D_Senators }
			subtract_from_temp_variable = { dem_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { dem_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { dem_senate_nat_rubber_band_penalty = dem_raw_votes_sen }
			set_variable = { DEM_TEST_NOM_PRE_RB_NAT = dem_raw_votes_sen }

			subtract_from_variable = { dem_raw_votes_sen = dem_senate_nat_rubber_band_penalty }
			set_variable = { DEM_TEST_NOM_POST_RB_NAT = dem_raw_votes_sen }
			set_variable = { DEM_TEST_NOM_NAT = dem_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				check_variable = { USA.RD_D_Senators < 15 }
			}
			set_temp_variable = { dem_senate_nat_rubber_band_penalty = 15 }
			subtract_from_temp_variable = { dem_senate_nat_rubber_band_penalty = USA.RD_D_Senators }
			divide_temp_variable = { dem_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { dem_senate_nat_rubber_band_penalty = dem_raw_votes_sen }
			set_variable = { DEM_TEST_NOM_PRE_RB_NAT = dem_raw_votes_sen }

			add_to_variable = { dem_raw_votes_sen = dem_senate_nat_rubber_band_penalty }
			set_variable = { DEM_TEST_NOM_POST_RB_NAT = dem_raw_votes_sen }
			set_variable = { DEM_TEST_NOM_NAT = dem_senate_nat_rubber_band_penalty }
		}
	}
	if = {
		limit = {
			check_variable = { senate_state_nom_npp = 4 }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_C_Senators > 30 }
			}
			set_temp_variable = { pro_senate_nat_rubber_band_penalty = USA.NPP_C_Senators }
			subtract_from_temp_variable = { pro_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { pro_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { pro_senate_nat_rubber_band_penalty = pro_raw_votes_sen }
			set_variable = { PRO_TEST_NOM_PRE_RB_NAT = pro_raw_votes_sen }

			subtract_from_variable = { pro_raw_votes_sen = pro_senate_nat_rubber_band_penalty }
			set_variable = { PRO_TEST_NOM_POST_RB_NAT = pro_raw_votes_sen }
			set_variable = { PRO_TEST_NOM_NAT = pro_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_C_Senators < 15 }
			}
			set_temp_variable = { pro_senate_nat_rubber_band_penalty = 15 }
			subtract_from_temp_variable = { pro_senate_nat_rubber_band_penalty = USA.NPP_C_Senators }
			divide_temp_variable = { pro_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { pro_senate_nat_rubber_band_penalty = pro_raw_votes_sen }
			set_variable = { PRO_TEST_NOM_PRE_RB_NAT = pro_raw_votes_sen }

			add_to_variable = { pro_raw_votes_sen = pro_senate_nat_rubber_band_penalty }
			set_variable = { PRO_TEST_NOM_POST_RB_NAT = pro_raw_votes_sen }
			set_variable = { PRO_TEST_NOM_NAT = pro_senate_nat_rubber_band_penalty }
		}
	}
	if = {
		limit = {
			check_variable = { senate_state_nom_npp = 6 }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_FR_Senators > 30 }
			}
			set_temp_variable = { nat_senate_nat_rubber_band_penalty = USA.NPP_FR_Senators }
			subtract_from_temp_variable = { nat_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { nat_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { nat_senate_nat_rubber_band_penalty = nat_raw_votes_sen }
			set_variable = { NAT_TEST_NOM_PRE_RB_NAT = nat_raw_votes_sen }

			subtract_from_variable = { nat_raw_votes_sen = nat_senate_nat_rubber_band_penalty }
			set_variable = { NAT_TEST_NOM_POST_RB_NAT = nat_raw_votes_sen }
			set_variable = { NAT_TEST_NOM_NAT = nat_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_FR_Senators < 15 }
			}
			set_temp_variable = { nat_senate_nat_rubber_band_penalty = 15 }
			subtract_from_temp_variable = { nat_senate_nat_rubber_band_penalty = USA.NPP_FR_Senators }
			divide_temp_variable = { nat_senate_nat_rubber_band_penalty = 100 }

			multiply_temp_variable = { nat_senate_nat_rubber_band_penalty = nat_raw_votes_sen }
			set_variable = { NAT_TEST_NOM_PRE_RB_NAT = nat_raw_votes_sen }

			add_to_variable = { nat_raw_votes_sen = nat_senate_nat_rubber_band_penalty }
			set_variable = { NAT_TEST_NOM_POST_RB_NAT = nat_raw_votes_sen }
			set_variable = { NAT_TEST_NOM_NAT = nat_senate_nat_rubber_band_penalty }
		}
	}
	if = {
		limit = {
			check_variable = { senate_state_nom_npp = 3 }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_L_Senators > 30 }
			}
			set_temp_variable = { com_senate_nat_rubber_band_penalty = USA.NPP_L_Senators }
			subtract_from_temp_variable = { com_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { com_senate_nat_rubber_band_penalty = 250 }

			multiply_temp_variable = { com_senate_nat_rubber_band_penalty = com_raw_votes_sen }
			set_variable = { COM_TEST_NOM_PRE_RB_NAT = com_raw_votes_sen }

			subtract_from_variable = { com_raw_votes_sen = com_senate_nat_rubber_band_penalty }
			set_variable = { COM_TEST_NOM_POST_RB_NAT = com_raw_votes_sen }
			set_variable = { COM_TEST_NOM_NAT = com_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_L_Senators < 15 }
				}
			}
			set_temp_variable = { com_senate_nat_rubber_band_penalty = 15 }
			subtract_from_temp_variable = { com_senate_nat_rubber_band_penalty = USA.NPP_L_Senators }
			divide_temp_variable = { com_senate_nat_rubber_band_penalty = 1000 }

			multiply_temp_variable = { com_senate_nat_rubber_band_penalty = com_raw_votes_sen }
			set_variable = { COM_TEST_NOM_PRE_RB_NAT = com_raw_votes_sen }

			add_to_variable = { com_raw_votes_sen = com_senate_nat_rubber_band_penalty }
			set_variable = { COM_TEST_NOM_POST_RB_NAT = com_raw_votes_sen }
			set_variable = { COM_TEST_NOM_NAT = com_senate_nat_rubber_band_penalty }
		}
	}
	if = {
		limit = {
			check_variable = { senate_state_nom_npp = 5 }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_R_Senators > 30 }
			}
			set_temp_variable = { anv_senate_nat_rubber_band_penalty = USA.NPP_R_Senators }
			subtract_from_temp_variable = { anv_senate_nat_rubber_band_penalty = 30 }
			divide_temp_variable = { anv_senate_nat_rubber_band_penalty = 250 }

			multiply_temp_variable = { anv_senate_nat_rubber_band_penalty = anv_raw_votes_sen }
			set_variable = { ANV_TEST_NOM_PRE_RB = anv_raw_votes_sen }

			subtract_from_variable = { anv_raw_votes_sen = anv_senate_nat_rubber_band_penalty }
			set_variable = { ANV_TEST_NOM_POST_NOM_RB = anv_raw_votes_sen }
			set_variable = { ANV_TEST_NOM = anv_senate_nat_rubber_band_penalty }
		}
		if = {
			limit = {
				check_variable = { USA.NPP_R_Senators < 15 }
			}
			set_temp_variable = { anv_senate_nat_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { anv_senate_nat_rubber_band_bonus = USA.NPP_R_Senators }
			divide_temp_variable = { anv_senate_nat_rubber_band_penalty = 1000 }

			multiply_temp_variable = { anv_senate_nat_rubber_band_bonus = anv_raw_votes_sen }
			set_variable = { ANV_TEST_NOM_PRE_RB_NAT = anv_raw_votes_sen }

			add_to_variable = { anv_raw_votes_sen = anv_senate_nat_rubber_band_bonus }
			set_variable = { ANV_TEST_NOM_POST_RB_NAT = anv_raw_votes_sen }
			set_variable = { ANV_TEST_NOM_NAT = anv_senate_nat_rubber_band_bonus }
		}
	}
}
US_rubber_band_catchup_effect_nominations = {
	clear_variable = rep_senate_rubber_band_penalty
	clear_variable = rep_senate_rubber_band_bonus
	clear_variable = dem_senate_rubber_band_penalty
	clear_variable = dem_senate_rubber_band_bonus
	clear_variable = pro_senate_rubber_band_penalty
	clear_variable = pro_senate_rubber_band_bonus
	clear_variable = nat_senate_rubber_band_penalty
	clear_variable = nat_senate_rubber_band_bonus
	clear_variable = com_senate_rubber_band_penalty
	clear_variable = com_senate_rubber_band_bonus
	clear_variable = anv_senate_rubber_band_penalty
	clear_variable = anv_senate_rubber_band_bonus
	if = {
		limit = {
			has_state_flag = USA_rubber_band_rep
		}
		if = {
			limit = {
				USA = {
					check_variable = { RD_R_senators > 30 }
				}
			}
			set_temp_variable = { rep_senate_rubber_band_penalty = USA.RD_R_senators }
			subtract_from_temp_variable = { rep_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { rep_senate_rubber_band_penalty = 250 }

			multiply_temp_variable = { rep_senate_rubber_band_penalty = republican_pref }
			set_variable = { REP_TEST_NOM_PRE_RB = republican_pref }

			subtract_from_variable = { republican_pref = rep_senate_rubber_band_penalty }
			set_variable = { REP_TEST_NOM_POST_NOM_RB = republican_pref }
			set_variable = { REP_TEST_NOM = rep_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { RD_R_senators < 15 }
				}
			}
			set_temp_variable = { rep_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { rep_senate_rubber_band_bonus = USA.RD_R_senators }
			divide_temp_variable = { rep_senate_rubber_band_bonus = 100 }

			multiply_temp_variable = { rep_senate_rubber_band_bonus = republican_pref }
			set_variable = { REP_TEST_NOM_PRE_RB = republican_pref }

			add_to_variable = { republican_pref = rep_senate_rubber_band_bonus }
			set_variable = { REP_TEST_NOM_POST_NOM_RB = republican_pref }
			set_variable = { REP_TEST_NOM = rep_senate_rubber_band_bonus }
		}
	}
	if = {
		limit = {
			has_state_flag = USA_rubber_band_dem
		}
		if = {
			limit = {
				USA = {
					check_variable = { RD_D_senators > 30 }
				}
			}
			set_temp_variable = { dem_senate_rubber_band_penalty = USA.RD_D_senators }
			subtract_from_temp_variable = { dem_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { dem_senate_rubber_band_penalty = 250 }

			multiply_temp_variable = { dem_senate_rubber_band_penalty = democrat_pref }
			set_variable = { DEM_TEST_NOM_PRE_RB = democrat_pref }

			subtract_from_variable = { democrat_pref = dem_senate_rubber_band_penalty }
			set_variable = { DEM_TEST_NOM_POST_NOM_RB = democrat_pref }
			set_variable = { DEM_TEST_NOM = dem_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { RD_D_senators < 15 }
				}
			}
			set_temp_variable = { dem_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { dem_senate_rubber_band_bonus = USA.RD_D_senators }
			divide_temp_variable = { dem_senate_rubber_band_bonus = 100 }

			multiply_temp_variable = { dem_senate_rubber_band_bonus = democrat_pref }
			set_variable = { DEM_TEST_NOM_PRE_RB = democrat_pref }

			add_to_variable = { democrat_pref = dem_senate_rubber_band_bonus }
			set_variable = { DEM_TEST_NOM_POST_NOM_RB = democrat_pref }
			set_variable = { DEM_TEST_NOM = dem_senate_rubber_band_bonus }
		}
	}
	if = {
		limit = {
			has_state_flag = USA_rubber_band_com
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_L_senators > 30 }
				}
			}
			set_temp_variable = { com_senate_rubber_band_penalty = USA.NPP_L_senators }
			subtract_from_temp_variable = { com_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { com_senate_rubber_band_penalty = 500 }

			multiply_temp_variable = { com_senate_rubber_band_penalty = communist_pref }
			set_variable = { COM_TEST_NOM_PRE_RB = communist_pref }

			subtract_from_variable = { communist_pref = com_senate_rubber_band_penalty }
			set_variable = { COM_TEST_NOM_POST_NOM_RB = communist_pref }
			set_variable = { COM_TEST_NOM = com_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_L_senators < 15 }
				}
			}
			set_temp_variable = { com_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { com_senate_rubber_band_bonus = USA.NPP_L_senators }
			divide_temp_variable = { com_senate_rubber_band_bonus = 2000 }

			multiply_temp_variable = { com_senate_rubber_band_bonus = communist_pref }
			set_variable = { COM_TEST_NOM_PRE_RB = communist_pref }

			add_to_variable = { communist_pref = com_senate_rubber_band_bonus }
			set_variable = { COM_TEST_NOM_POST_NOM_RB = communist_pref }
			set_variable = { COM_TEST_NOM = com_senate_rubber_band_bonus }
		}
	}
	if = {
		limit = {
			has_state_flag = USA_rubber_band_pro
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_C_senators > 30 }
				}
			}
			set_temp_variable = { pro_senate_rubber_band_penalty = USA.NPP_C_senators }
			subtract_from_temp_variable = { pro_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { pro_senate_rubber_band_penalty = 250 }

			multiply_temp_variable = { pro_senate_rubber_band_penalty = progressive_pref }
			set_variable = { PRO_TEST_NOM_PRE_RB = progressive_pref }

			subtract_from_variable = { progressive_pref = pro_senate_rubber_band_penalty }
			set_variable = { PRO_TEST_NOM_POST_NOM_RB = progressive_pref }
			set_variable = { PRO_TEST_NOM = pro_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_C_senators < 15 }
				}
			}
			set_temp_variable = { pro_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { pro_senate_rubber_band_bonus = USA.NPP_C_senators }
			divide_temp_variable = { pro_senate_rubber_band_bonus = 100 }

			multiply_temp_variable = { pro_senate_rubber_band_bonus = progressive_pref }
			set_variable = { PRO_TEST_NOM_PRE_RB = progressive_pref }

			add_to_variable = { progressive_pref = pro_senate_rubber_band_bonus }
			set_variable = { PRO_TEST_NOM_POST_NOM_RB = progressive_pref }
			set_variable = { PRO_TEST_NOM = pro_senate_rubber_band_bonus }
		}
	}
	if = {
		limit = {
			has_state_flag = USA_rubber_band_nat
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_FR_senators > 30 }
				}
			}
			set_temp_variable = { nat_senate_rubber_band_penalty = USA.NPP_FR_senators }
			subtract_from_temp_variable = { nat_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { nat_senate_rubber_band_penalty = 250 }

			divide_temp_variable = { nat_senate_rubber_band_penalty = 250 }

			multiply_temp_variable = { nat_senate_rubber_band_penalty = nationalist_pref }
			set_variable = { NAT_TEST_NOM_PRE_RB = nationalist_pref }

			subtract_from_variable = { nationalist_pref = nat_senate_rubber_band_penalty }
			set_variable = { NAT_TEST_NOM_POST_NOM_RB = nationalist_pref }
			set_variable = { NAT_TEST_NOM = nat_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_FR_senators < 15 }
				}
			}
			set_temp_variable = { nat_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { nat_senate_rubber_band_bonus = USA.NPP_FR_senators }
			divide_temp_variable = { nat_senate_rubber_band_bonus = 100 }

			multiply_temp_variable = { nat_senate_rubber_band_bonus = nationalist_pref }
			set_variable = { NAT_TEST_NOM_PRE_RB = nationalist_pref }

			add_to_variable = { nationalist_pref = nat_senate_rubber_band_bonus }
			set_variable = { NAT_TEST_NOM_POST_NOM_RB = nationalist_pref }
			set_variable = { NAT_TEST_NOM = nat_senate_rubber_band_bonus }
		}
	}
	if = {
		limit = {
			has_state_flag = USA_rubber_band_anv
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_R_senators > 30 }
				}
			}
			set_temp_variable = { anv_senate_rubber_band_penalty = USA.NPP_R_senators }
			subtract_from_temp_variable = { anv_senate_rubber_band_penalty = 30 }
			divide_temp_variable = { anv_senate_rubber_band_penalty = 500 }

			multiply_temp_variable = { anv_senate_rubber_band_penalty = anv_pref }
			set_variable = { ANV_TEST_NOM_PRE_RB = anv_pref }

			subtract_from_variable = { anv_pref = anv_senate_rubber_band_penalty }
			set_variable = { ANV_TEST_NOM_POST_NOM_RB = anv_pref }
			set_variable = { ANV_TEST_NOM = anv_senate_rubber_band_penalty }
		}
		if = {
			limit = {
				USA = {
					check_variable = { NPP_R_senators < 15 }
				}
			}
			set_temp_variable = { anv_senate_rubber_band_bonus = 15 }
			subtract_from_temp_variable = { anv_senate_rubber_band_bonus = USA.NPP_R_senators }
			divide_temp_variable = { anv_senate_rubber_band_bonus = 2000 }

			multiply_temp_variable = { anv_senate_rubber_band_bonus = anv_pref }
			set_variable = { ANV_TEST_NOM_PRE_RB = anv_pref }

			add_to_variable = { anv_pref = anv_senate_rubber_band_bonus }
			set_variable = { ANV_TEST_NOM_POST_NOM_RB = anv_pref }
			set_variable = { ANV_TEST_NOM = anv_senate_rubber_band_bonus }
		}
	}
}
USA_ELECTION_CODE_state_party_pref_balance_senate = {
	clear_variable = rep_senate_rubber_band_penalty
	clear_variable = rep_senate_rubber_band_bonus
	clear_variable = dem_senate_rubber_band_penalty
	clear_variable = dem_senate_rubber_band_bonus
	clear_variable = pro_senate_rubber_band_penalty
	clear_variable = pro_senate_rubber_band_bonus
	clear_variable = nat_senate_rubber_band_penalty
	clear_variable = nat_senate_rubber_band_bonus
	clear_variable = com_senate_rubber_band_penalty
	clear_variable = com_senate_rubber_band_bonus
	clear_variable = anv_senate_rubber_band_penalty
	clear_variable = anv_senate_rubber_band_bonus
	if = {
		limit = {
			USA = {
				check_variable = { RD_R_senators > 30 }
			}
		}
		set_temp_variable = { rep_senate_rubber_band_penalty = USA.RD_R_senators }
		subtract_from_temp_variable = { rep_senate_rubber_band_penalty = 30 }
		divide_temp_variable = { rep_senate_rubber_band_penalty = 250 }

		multiply_temp_variable = { rep_senate_rubber_band_penalty = rep_raw_votes_sen }
		set_variable = { REP_TEST_PRE_RB = rep_raw_votes_sen }

		subtract_from_temp_variable = { rep_raw_votes_sen = rep_senate_rubber_band_penalty }
		set_variable = { REP_TEST_POST_RB = rep_raw_votes_sen }
		set_variable = { REP_TEST = rep_senate_rubber_band_penalty }
	}
	if = {
		limit = {
			USA = {
				check_variable = { RD_D_senators > 30 }
			}
		}
		set_temp_variable = { dem_senate_rubber_band_penalty = USA.RD_D_senators }
		subtract_from_temp_variable = { dem_senate_rubber_band_penalty = 30 }
		divide_temp_variable = { dem_senate_rubber_band_penalty = 250 }

		multiply_temp_variable = { dem_senate_rubber_band_penalty = dem_raw_votes_sen }
		set_variable = { DEM_TEST_PRE_RB = dem_raw_votes_sen }

		subtract_from_temp_variable = { dem_raw_votes_sen = dem_senate_rubber_band_penalty }
		set_variable = { DEM_TEST_POST_RB = dem_raw_votes_sen }
		set_variable = { DEM_TEST = dem_senate_rubber_band_penalty }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_C_senators > 30 }
			}
		}
		set_temp_variable = { pro_senate_rubber_band_penalty = USA.NPP_C_senators }
		subtract_from_temp_variable = { pro_senate_rubber_band_penalty = 30 }
		divide_temp_variable = { pro_senate_rubber_band_penalty = 250 }

		multiply_temp_variable = { pro_senate_rubber_band_penalty = pro_raw_votes_sen }
		set_variable = { PRO_TEST_PRE_RB = pro_raw_votes_sen }

		subtract_from_temp_variable = { pro_raw_votes_sen = pro_senate_rubber_band_penalty }
		set_variable = { PRO_TEST_POST_RB = pro_raw_votes_sen }
		set_variable = { PRO_TEST = pro_senate_rubber_band_penalty }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_FR_senators > 30 }
			}
		}
		set_temp_variable = { nat_senate_rubber_band_penalty = USA.NPP_FR_senators }
		subtract_from_temp_variable = { nat_senate_rubber_band_penalty = 30 }
		divide_temp_variable = { nat_senate_rubber_band_penalty = 250 }

		multiply_temp_variable = { nat_senate_rubber_band_penalty = nat_raw_votes_sen }
		set_variable = { NAT_TEST_PRE_RB = nat_raw_votes_sen }

		subtract_from_temp_variable = { nat_raw_votes_sen = nat_senate_rubber_band_penalty }
		set_variable = { NAT_TEST_POST_RB = nat_raw_votes_sen }
		set_variable = { NAT_TEST = nat_senate_rubber_band_penalty }
	}
	if = {
		limit = {
			USA = {
				check_variable = { RD_R_senators < 15 }
			}
		}
		set_temp_variable = { rep_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { rep_senate_rubber_band_bonus = USA.RD_R_senators }
		divide_temp_variable = { rep_senate_rubber_band_bonus = 100 }

		multiply_temp_variable = { rep_senate_rubber_band_bonus = rep_raw_votes_sen }
		set_variable = { REP_TEST_PRE_RB = rep_raw_votes_sen }

		add_to_temp_variable = { rep_raw_votes_sen = rep_senate_rubber_band_bonus }
		set_variable = { REP_TEST_POST_RB = rep_raw_votes_sen }
		set_variable = { REP_TEST = rep_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				check_variable = { RD_D_senators < 15 }
			}
		}
		set_temp_variable = { dem_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { dem_senate_rubber_band_bonus = USA.RD_D_senators }
			divide_temp_variable = { dem_senate_rubber_band_bonus = 100 }

		multiply_temp_variable = { dem_senate_rubber_band_bonus = dem_raw_votes_sen }
		set_variable = { DEM_TEST_PRE_RB = dem_raw_votes_sen }

		add_to_temp_variable = { dem_raw_votes_sen = dem_senate_rubber_band_bonus }
		set_variable = { DEM_TEST_POST_RB = dem_raw_votes_sen }
		set_variable = { DEM_TEST = dem_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_C_senators < 15 }
			}
		}
		set_temp_variable = { pro_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { pro_senate_rubber_band_bonus = USA.NPP_C_senators }
			divide_temp_variable = { pro_senate_rubber_band_bonus = 100 }

		multiply_temp_variable = { pro_senate_rubber_band_bonus = pro_raw_votes_sen }
		set_variable = { PRO_TEST_PRE_RB = pro_raw_votes_sen }

		add_to_temp_variable = { pro_raw_votes_sen = pro_senate_rubber_band_bonus }
		set_variable = { PRO_TEST_POST_RB = pro_raw_votes_sen }
		set_variable = { PRO_TEST = pro_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_FR_senators < 15 }
			}
		}
		set_temp_variable = { nat_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { nat_senate_rubber_band_bonus = USA.NPP_FR_senators }
			divide_temp_variable = { nat_senate_rubber_band_bonus = 100 }

		multiply_temp_variable = { nat_senate_rubber_band_bonus = nat_raw_votes_sen }
		set_variable = { NAT_TEST_PRE_RB = nat_raw_votes_sen }

		add_to_temp_variable = { nat_raw_votes_sen = nat_senate_rubber_band_bonus }
		set_variable = { NAT_TEST_POST_RB = nat_raw_votes_sen }
		set_variable = { NAT_TEST = nat_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_L_senators < 15 }
			}
		}
		set_temp_variable = { com_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { com_senate_rubber_band_bonus = USA.NPP_L_senators }
		divide_temp_variable = { com_senate_rubber_band_bonus = 1000 }

		multiply_temp_variable = { com_senate_rubber_band_bonus = com_raw_votes_sen }
		set_variable = { COM_TEST_PRE_RB = com_raw_votes_sen }

		add_to_temp_variable = { com_raw_votes_sen = com_senate_rubber_band_bonus }
		set_variable = { COM_TEST_POST_RB = com_raw_votes_sen }
		set_variable = { COM_TEST = com_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				check_variable = { NPP_R_senators < 15 }
			}
		}
		set_temp_variable = { anv_senate_rubber_band_bonus = 15 }
		subtract_from_temp_variable = { anv_senate_rubber_band_bonus = USA.NPP_R_senators }
		divide_temp_variable = { anv_senate_rubber_band_bonus = 1000 }

		multiply_temp_variable = { anv_senate_rubber_band_bonus = anv_raw_votes_sen }
		set_variable = { ANV_TEST_PRE_RB = anv_raw_votes_sen }

		add_to_temp_variable = { anv_raw_votes_sen = anv_senate_rubber_band_bonus }
		set_variable = { ANV_TEST_POST_RB = anv_raw_votes_sen }
		set_variable = { ANV_TEST = anv_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				AND = {
					has_country_flag = rep_can_pres
					has_country_flag = nat_can_pres
					has_country_flag = USA_campaigning_for_RD
					has_country_flag = USA_presidential_elections
				}
			}
		}
		set_temp_variable = { rep_senate_rubber_band_bonus = 0.01 }

		multiply_temp_variable = { rep_senate_rubber_band_bonus = rep_raw_votes_sen }
		set_variable = { REP_TEST_NOM_PRE_RB_NAT = rep_raw_votes_sen }

		add_to_variable = { rep_raw_votes_sen = rep_senate_rubber_band_bonus }
		set_variable = { REP_TEST_NOM_POST_RB_NAT = rep_raw_votes_sen }
		set_variable = { REP_TEST_NOM_NAT = rep_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				AND = {
					has_country_flag = dem_can_pres
					has_country_flag = pro_can_pres
					has_country_flag = USA_campaigning_for_RD
					has_country_flag = USA_presidential_elections
				}
			}
		}
		set_temp_variable = { dem_senate_rubber_band_bonus = 0.01 }

		multiply_temp_variable = { dem_senate_rubber_band_bonus = dem_raw_votes_sen }
		set_variable = { DEM_TEST_NOM_PRE_RB_NAT = dem_raw_votes_sen }

		add_to_variable = { dem_raw_votes_sen = dem_senate_rubber_band_bonus }
		set_variable = { DEM_TEST_NOM_POST_RB_NAT = dem_raw_votes_sen }
		set_variable = { DEM_TEST_NOM_NAT = dem_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				AND = {
					has_country_flag = dem_can_pres
					has_country_flag = pro_can_pres
					has_country_flag = USA_campaigning_for_NPP
					has_country_flag = USA_presidential_elections
				}
			}
		}
		set_temp_variable = { pro_senate_rubber_band_bonus = 0.01 }

		multiply_temp_variable = { pro_senate_rubber_band_bonus = pro_raw_votes_sen }
		set_variable = { PRO_TEST_NOM_PRE_RB_NAT = pro_raw_votes_sen }

		add_to_variable = { pro_raw_votes_sen = pro_senate_rubber_band_bonus }
		set_variable = { PRO_TEST_NOM_POST_RB_NAT = pro_raw_votes_sen }
		set_variable = { PRO_TEST_NOM_NAT = pro_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			USA = {
				AND = {
					has_country_flag = rep_can_pres
					has_country_flag = nat_can_pres
					has_country_flag = USA_campaigning_for_NPP
					has_country_flag = USA_presidential_elections
				}
			}
		}
		set_temp_variable = { nat_senate_rubber_band_bonus = 0.01 }

		multiply_temp_variable = { nat_senate_rubber_band_bonus = nat_raw_votes_sen }
		set_variable = { NAT_TEST_NOM_PRE_RB_NAT = nat_raw_votes_sen }

		add_to_variable = { nat_raw_votes_sen = nat_senate_rubber_band_bonus }
		set_variable = { NAT_TEST_NOM_POST_RB_NAT = nat_raw_votes_sen }
		set_variable = { NAT_TEST_NOM_NAT = nat_senate_rubber_band_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_a
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.8 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.8 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_b
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.8 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.0 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.9 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_c
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.0 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.8 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_d
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.7 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.3 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.3 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.6 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_e
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.1 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.8 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_f
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.25 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.9 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.0 }

		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { dem_raw_votes = 1.1 }
			multiply_temp_variable = { pro_raw_votes = 0.9 }
		}
		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_g
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.0 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.2 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_h
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.05 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.01 }
		multiply_temp_variable = { com_raw_votes_sen = 0.5 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_i
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.0 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.2 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_j
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.95 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.05 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_k
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.8 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.7 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_l
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.15 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.6 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_m
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.0 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.9 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_n
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.2 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_o
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.95 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.7 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_p
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.95 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.95 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.8 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_q
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.0 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.6 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_r
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.6 }
		multiply_temp_variable = { com_raw_votes_sen = 0.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_s
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.1 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		if = {
			limit = {
				USA = {
					has_country_flag = USA_johnson_nominated
					has_country_flag = USA_kennedy_nominated
				}
			}
			multiply_temp_variable = { pro_raw_votes = 1.1 }
		}

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_t
		}
		# effect

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_u
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.1 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.3 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.9 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_v
		}
		multiply_temp_variable = { dem_raw_votes_sen = 1.0 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.1 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.8 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_w
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.2 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.8 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.1 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_x
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.7 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.3 }

		multiply_temp_variable = { nat_raw_votes_sen = 0.9 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_y
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.2 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.0 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_z
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.8 }
		multiply_temp_variable = { rep_raw_votes_sen = 1.2 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.3 }
		multiply_temp_variable = { pro_raw_votes_sen = 0.9 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_aa
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.3 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.3 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
	if = {
		limit = {
			has_state_flag = state_group_ab
		}
		multiply_temp_variable = { dem_raw_votes_sen = 0.9 }
		multiply_temp_variable = { rep_raw_votes_sen = 0.9 }

		multiply_temp_variable = { nat_raw_votes_sen = 1.2 }
		multiply_temp_variable = { pro_raw_votes_sen = 1.2 }

		set_temp_variable = { NPP_campaign_bonus = npp_campaign_infrastructure }
		set_temp_variable = { RDC_campaign_bonus = rdc_campaign_infrastructure }
		divide_temp_variable = { NPP_campaign_bonus = 2 }
		divide_temp_variable = { RDC_campaign_bonus = 2 }

		multiply_temp_variable = { pro_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { nat_raw_votes = NPP_campaign_bonus }
		multiply_temp_variable = { dem_raw_votes = RDC_campaign_bonus }
		multiply_temp_variable = { rep_raw_votes = RDC_campaign_bonus }
	}
}

###

## RDC needs priority in nomination in states so the NPP nominates *against* them

USA_hold_senate_election_in_state = {
	every_owned_state = {
		limit = { has_state_flag = US_election_state }

		clr_state_flag = npp_win_sen
		clr_state_flag = rdc_win_sen
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }

		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }

		clr_state_flag = npp_win_sen
		clr_state_flag = rdc_win_sen
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_variable = { prev_senator_1 = senator_1 }
		set_variable = { prev_senator_2 = senator_2 }

		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }
		if = {
			limit = {
				OR = {
					has_state_flag = elections_senator_1
					has_state_flag = elections_senator_2
				}
			}
			US_hold_senate_election = yes
		}
		if = {
			limit = {
				check_variable = { senate_seat_1_seatwarmer > 0 }
			}
			set_variable = { senator_1 = senate_seat_1_seatwarmer }
		}
		if = {
			limit = {
				check_variable = { senate_seat_2_seatwarmer > 0 }
			}
			set_variable = { senator_2 = senate_seat_2_seatwarmer }
		}

		if = {
			limit = {
				has_state_flag = npp_win_sen
			}
			set_state_flag = voted_NPP_sen
		}
		else_if = {
			limit = {
				has_state_flag = rdc_win_sen
			}
			set_state_flag = voted_RD_sen
		}
	}
	USA_determine_final_vote_values = yes
	USA_save_previous_tab = yes
	US_election_update_gui_post_senate = yes
	set_country_flag = USA_senate_conclusion
	add_to_variable = { USA_GUI_no_of_senate_elections = 1 }
	USA_determine_which_dots_to_glow = yes
	US_GUI_save_senate_election_result = yes
	USA_recall_previously_selected_tab = yes
	USA_GUI_total_up_senators = yes

	clear_variable = US_voting_campaign_region
	clear_variable = US_voting_campaign_region:US_voting_campaign_timer
	clear_variable = US_voting_region_cooldown
	clear_variable = US_voting_region_cooldown:US_voting_campaign_countdown
}

USA_determine_final_vote_values = {
	every_owned_state = {
		limit = { has_state_flag = US_election_state }

		set_variable = { USA_state_votes_for_senate = state_senate_results_rdc }
		add_to_variable = { USA_state_votes_for_senate = state_senate_results_npp }
		set_variable = { USA_state_pct_senate_rdc = state_senate_results_rdc }
		set_variable = { USA_state_pct_senate_npp = state_senate_results_npp }
		divide_variable = { USA_state_pct_senate_rdc = USA_state_votes_for_senate }
		divide_variable = { USA_state_pct_senate_npp = USA_state_votes_for_senate }
		multiply_variable = { USA_state_pct_senate_rdc = 100 }
		multiply_variable = { USA_state_pct_senate_npp = 100 }
		add_to_variable = { USA_state_pct_senate_rdc = 1000 }
		add_to_variable = { USA_state_pct_senate_npp = 1000 }
	}
}

USA_hold_mock_senate_election_in_state_polling = {
	every_owned_state = {
	limit = { has_state_flag = US_election_state }
		clr_state_flag = npp_win_sen
		clr_state_flag = rdc_win_sen
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }

		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }
		set_variable = { senate_seat_1_seatwarmer = senator_1 }
		set_variable = { senate_seat_2_seatwarmer = senator_2 }#Don't ask, helps with displaying predictions
		US_hold_MOCK_senate_election_polling = yes
	}
}

USA_set_state_party_policy_opinions = {
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		set_variable = { RDC_PARTY_civil_rights_policy = USA.REP_civil_rights_opinion }
		set_variable = { RDC_PARTY_domestic_policy_policy = USA.REP_domestic_policy_opinion }
		set_variable = { RDC_PARTY_economic_policy_policy = USA.REP_economic_policy_opinion }
		set_variable = { RDC_PARTY_foreign_policy_policy = USA.REP_foreign_policy_opinion }
	}
	if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		if = {
			limit = {
				OR = {
					state = 372
					state = 371
					state = 370
					state = 368
					state = 367
					state = 365
					state = 364
					state = 366
					state = 363
					state = 362
					# non dixie helps with primaries
					#state = 375
					state = 374
					state = 373
					state = 369
					state = 953
				}
			}
			set_variable = { RDC_PARTY_civil_rights_policy = USA.SOUTHERN_DEM_civil_rights_opinion }
			set_variable = { RDC_PARTY_domestic_policy_policy = USA.SOUTHERN_DEM_domestic_policy_opinion }
			set_variable = { RDC_PARTY_economic_policy_policy = USA.SOUTHERN_DEM_economic_policy_opinion }
			set_variable = { RDC_PARTY_foreign_policy_policy = USA.SOUTHERN_DEM_foreign_policy_opinion }
		}
		else = {
			set_variable = { RDC_PARTY_civil_rights_policy = USA.DEM_civil_rights_opinion }
			set_variable = { RDC_PARTY_domestic_policy_policy = USA.DEM_domestic_policy_opinion }
			set_variable = { RDC_PARTY_economic_policy_policy = USA.DEM_economic_policy_opinion }
			set_variable = { RDC_PARTY_foreign_policy_policy = USA.DEM_foreign_policy_opinion }
		}
	}
	if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		set_variable = { NPP_PARTY_civil_rights_policy = USA.NAT_civil_rights_opinion }
		set_variable = { NPP_PARTY_domestic_policy_policy = USA.NAT_domestic_policy_opinion }
		set_variable = { NPP_PARTY_economic_policy_policy = USA.NAT_economic_policy_opinion }
		set_variable = { NPP_PARTY_foreign_policy_policy = USA.NAT_foreign_policy_opinion }

		if = {
			limit = {
				OR = {
					USA = { check_variable = { NPP_N_LEADER = 0 } }
					USA = { check_variable = { NPP_N_LEADER = 1 } }
					USA = { check_variable = { NPP_N_LEADER = 3 } }
					USA = { check_variable = { NPP_N_LEADER = 4 } }
				}
			}
			if = {
				limit = {
					check_variable = { USA.rural_civil_rights_opinion > NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.rural_civil_rights_opinion < NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = -1 }
			}

			if = {
				limit = {
					check_variable = { USA.rural_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.rural_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}
		}
		else_if = {
			limit = {
				USA = { check_variable = { NPP_N_LEADER = 2 } }
			}
			if = {
				limit = {
					check_variable = { USA.national_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}

			if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
		}
	}
	if = {
		limit = {
			has_state_flag = pro_can_sen
		}

		set_variable = { NPP_PARTY_civil_rights_policy = USA.PRO_civil_rights_opinion }
		set_variable = { NPP_PARTY_domestic_policy_policy = USA.PRO_domestic_policy_opinion }
		set_variable = { NPP_PARTY_economic_policy_policy = USA.PRO_economic_policy_opinion }
		set_variable = { NPP_PARTY_foreign_policy_policy = USA.PRO_foreign_policy_opinion }

		if = {
			limit = {
				OR = {
					USA = { check_variable = { NPP_P_LEADER = 0 } }
					USA = { check_variable = { NPP_P_LEADER = 4 } }
				}
			}
			if = {
				limit = {
					check_variable = { USA.urban_civil_rights_opinion > NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.urban_civil_rights_opinion < NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = -1 }
			}
			if = {
				limit = {
					check_variable = { USA.urban_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.urban_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
		}
		else_if = {
			limit = {
				USA = { check_variable = { NPP_P_LEADER = 1 } }
			}
			if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}
			if = {
				limit = {
					check_variable = { USA.union_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
		}
		else_if = {
			limit = {
				USA = { check_variable = { NPP_P_LEADER = 2 } }
			}
			if = {
				limit = {
					check_variable = { USA.national_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}

			if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
		}
	}
	if = {
		limit = {
			has_state_flag = com_can_sen
		}
		set_variable = { NPP_PARTY_civil_rights_policy = USA.COM_civil_rights_opinion }
		set_variable = { NPP_PARTY_domestic_policy_policy = USA.COM_domestic_policy_opinion }
		set_variable = { NPP_PARTY_economic_policy_policy = USA.COM_economic_policy_opinion }
		set_variable = { NPP_PARTY_foreign_policy_policy = USA.COM_foreign_policy_opinion }

		if = {
			limit = {
				USA = { check_variable = { NPP_M_LEADER = 0 } }
			}
			if = {
				limit = {
					check_variable = { USA.union_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
			if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}
		}
		else_if = {
			limit = {
				USA = { check_variable = { NPP_M_LEADER = 1 } }
			}
			if = {
				limit = {
					check_variable = { USA.national_civil_rights_policy > NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_civil_rights_policy < NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = -1 }
			}
			if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion > NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.national_economic_policy_opinion < NPP_PARTY_economic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_economic_policy_policy = -1 }
			}
		}
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { NPP_PARTY_civil_rights_policy = USA.ANV_civil_rights_opinion }
		set_variable = { NPP_PARTY_domestic_policy_policy = USA.ANV_domestic_policy_opinion }
		set_variable = { NPP_PARTY_economic_policy_policy = USA.ANV_economic_policy_opinion }
		set_variable = { NPP_PARTY_foreign_policy_policy = USA.ANV_foreign_policy_opinion }

		if = {
			limit = {
				OR = {
					USA = { check_variable = { NPP_S_LEADER = 0 } }
					USA = { check_variable = { NPP_S_LEADER = 2 } }
				}
			}
			if = {
				limit = {
					check_variable = { USA.rural_civil_rights_opinion > NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.rural_civil_rights_opinion < NPP_PARTY_civil_rights_policy }
				}
				add_to_variable = { NPP_PARTY_civil_rights_policy = -1 }
			}
		}
		else_if = {
			limit = {
				USA = { check_variable = { NPP_S_LEADER = 1 } }
			}
			if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion > NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_domestic_policy_opinion < NPP_PARTY_domestic_policy_policy }
				}
				add_to_variable = { NPP_PARTY_domestic_policy_policy = -1 }
			}
			if = {
				limit = {
					check_variable = { USA.union_foreign_policy_opinion > NPP_PARTY_foreign_policy_policy }
				}
				add_to_variable = { NPP_PARTY_foreign_policy_policy = 1 }
			}
			else_if = {
				limit = {
					check_variable = { USA.union_foreign_policy_opinion < NPP_PARTY_foreign_policy_policy }
				}
				add_to_variable = { NPP_PARTY_foreign_policy_policy = -1 }
			}
		}
	}
}

US_hold_senate_election = {
	USA_set_state_party_policy_opinions = yes

	add_to_temp_variable = { state_number_count_sen = 1 }
	set_variable = { full_deal_sen = state_number_count_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_black }
	add_to_temp_variable = { dem_raw_votes_sen = dem_black }
	add_to_temp_variable = { pro_raw_votes_sen = pro_black }
	add_to_temp_variable = { nat_raw_votes_sen = nat_black }
	add_to_temp_variable = { com_raw_votes_sen = com_black }
	add_to_temp_variable = { anv_raw_votes_sen = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes_sen = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes_sen = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes_sen = nat_hispanic }
	add_to_temp_variable = { com_raw_votes_sen = com_hispanic }
	add_to_temp_variable = { anv_raw_votes_sen = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_minority }
	add_to_temp_variable = { dem_raw_votes_sen = dem_minority }
	add_to_temp_variable = { pro_raw_votes_sen = pro_minority }
	add_to_temp_variable = { nat_raw_votes_sen = nat_minority }
	add_to_temp_variable = { com_raw_votes_sen = com_minority }
	add_to_temp_variable = { anv_raw_votes_sen = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_nativists }
	add_to_temp_variable = { dem_raw_votes_sen = dem_nativists }
	add_to_temp_variable = { pro_raw_votes_sen = pro_nativists }
	add_to_temp_variable = { nat_raw_votes_sen = nat_nativists }
	add_to_temp_variable = { com_raw_votes_sen = com_nativists }
	add_to_temp_variable = { anv_raw_votes_sen = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_urban }
	add_to_temp_variable = { dem_raw_votes_sen = dem_urban }
	add_to_temp_variable = { pro_raw_votes_sen = pro_urban }
	add_to_temp_variable = { nat_raw_votes_sen = nat_urban }
	add_to_temp_variable = { com_raw_votes_sen = com_urban }
	add_to_temp_variable = { anv_raw_votes_sen = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_rural }
	add_to_temp_variable = { dem_raw_votes_sen = dem_rural }
	add_to_temp_variable = { pro_raw_votes_sen = pro_rural }
	add_to_temp_variable = { nat_raw_votes_sen = nat_rural }
	add_to_temp_variable = { com_raw_votes_sen = com_rural }
	add_to_temp_variable = { anv_raw_votes_sen = anv_rural }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_union }
	add_to_temp_variable = { dem_raw_votes_sen = dem_union }
	add_to_temp_variable = { pro_raw_votes_sen = pro_union }
	add_to_temp_variable = { nat_raw_votes_sen = nat_union }
	add_to_temp_variable = { com_raw_votes_sen = com_union }
	add_to_temp_variable = { anv_raw_votes_sen = anv_union }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { rdc_cohesion = 0.85 }
	multiply_temp_variable = { npp_cohesion = 0.92 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.5 }

	add_to_temp_variable = { rdc_cohesion = 0.20 }
	add_to_temp_variable = { npp_cohesion = 0.20 }
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}
	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	USA_ELECTION_CODE_state_party_pref_balance_senate = yes

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes_sen = 2 }
	#divide_variable = { dem_raw_votes_sen = 2 }
	#divide_variable = { pro_raw_votes_sen = 2 }
	#divide_variable = { nat_raw_votes_sen = 2 }
	#divide_variable = { com_raw_votes_sen = 2 }
	#divide_variable = { anv_raw_votes_sen = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs_sen = rep_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = dem_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = pro_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = nat_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = com_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = anv_raw_votes_sen }

	# tally num 1
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes_sen }
		subtract_from_temp_variable = { dem_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = pro_can_sen
			}
			divide_temp_variable = { dem_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes_sen }
		subtract_from_temp_variable = { rep_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = nat_can_sen
			}
			divide_temp_variable = { rep_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = rep_can_sen
			}
			divide_temp_variable = { nat_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = dem_can_sen
			}
			divide_temp_variable = { pro_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			has_state_flag = com_can_sen
		}
		add_to_variable = { npp_votes_sen = com_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes_sen = rdc_policy_alignment }
	add_to_variable = { npp_votes_sen = npp_policy_alignment }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	multiply_variable = { rdc_votes_sen = USA.USA_state_pres_cheat_value_rdc } #only changeable in console for debug purpose
	multiply_variable = { npp_votes_sen = USA.USA_state_pres_cheat_value_npp } #If not tampered with, both should be 1 all game long

	USA_rubber_band_effect_major_party = yes

	#For Debug Purpose#USA_debug_randomise_pops = yes

	# determine

	if = {
		limit = {
			check_variable = {
				var = rdc_votes_sen
				value = npp_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = rdc_win_sen
		if = { # seat 1
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1964.01.01
							date < 1964.12.31
						}
						AND = {
							date > 1970.01.01
							date < 1970.12.31
						}
						AND = {
							date > 1976.01.01
							date < 1976.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_rdc }
		}
		else_if = { # seat 2
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1966.01.01
							date < 1966.12.31
						}
						AND = {
							date > 1972.01.01
							date < 1972.12.31
						}
						AND = {
							date > 1978.01.01
							date < 1978.12.31
						}
					}
				}
			}
			if = {
				limit = {
					has_state_flag = USA_senate_class_23
				}
				set_variable = { senate_seat_1_seatwarmer = senate_state_nom_rdc }
			}
			else = {
				set_variable = { senate_seat_2_seatwarmer = senate_state_nom_rdc }
			}
		}
		else_if = { # seat 3
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1962.01.01
							date < 1962.12.31
						}
						AND = {
							date > 1968.01.01
							date < 1968.12.31
						}
						AND = {
							date > 1974.01.01
							date < 1974.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_rdc }
		}
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_votes_sen
				value = rdc_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = npp_win_sen

		if = {
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1964.01.01
							date < 1964.12.31
						}
						AND = {
							date > 1970.01.01
							date < 1970.12.31
						}
						AND = {
							date > 1976.01.01
							date < 1976.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_npp }
		}
		else_if = { # seat 2
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1966.01.01
							date < 1966.12.31
						}
						AND = {
							date > 1972.01.01
							date < 1972.12.31
						}
						AND = {
							date > 1978.01.01
							date < 1978.12.31
						}
					}
				}
			}
			if = {
				limit = {
					has_state_flag = USA_senate_class_23
				}
				set_variable = { senate_seat_1_seatwarmer = senate_state_nom_npp }
			}
			else = {
				set_variable = { senate_seat_2_seatwarmer = senate_state_nom_npp }
			}
		}
		else_if = {
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1962.01.01
							date < 1962.12.31
						}
						AND = {
							date > 1968.01.01
							date < 1968.12.31
						}
						AND = {
							date > 1974.01.01
							date < 1974.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_npp }
		}
	}

	set_variable = { state_senate_results_rdc = rdc_votes_sen }
	set_variable = { state_senate_results_npp = npp_votes_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }
}

USA_determine_policy_voter_afilliation_NEW_SENATE = {

	set_temp_variable = { part_a = policy_voters }
	set_temp_variable = { part_b = policy_voters }
	divide_temp_variable = { part_a = 2 }
	divide_temp_variable = { part_b = 2 }

	divide_temp_variable = { RDC_policy_score = 10 }
	divide_temp_variable = { NPP_policy_score = 10 }
	set_variable = { checkalignment = NPP_policy_score }
	multiply_temp_variable = { RDC_policy_score = part_a }
	multiply_temp_variable = { NPP_policy_score = part_b }

	subtract_from_temp_variable = { policy_voters = RDC_policy_score }
	subtract_from_temp_variable = { policy_voters = NPP_policy_score }
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		add_to_temp_variable = { rep_raw_votes_sen = RDC_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		add_to_temp_variable = { dem_raw_votes_sen = RDC_policy_score }
	}

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		add_to_temp_variable = { pro_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		add_to_temp_variable = { nat_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = com_can_sen
		}
		add_to_temp_variable = { com_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		add_to_temp_variable = { anv_raw_votes_sen = NPP_policy_score }
	}

	set_temp_variable = { part_a = policy_voters }
	set_temp_variable = { part_b = policy_voters }
	divide_temp_variable = { part_a = 2 }
	divide_temp_variable = { part_b = 2 }

	set_temp_variable = { RDC_policy_score = RDC_policy_score_origin }
	set_temp_variable = { NPP_policy_score = NPP_policy_score_origin }

	divide_temp_variable = { RDC_policy_score = 10 }
	divide_temp_variable = { NPP_policy_score = 10 }
	set_variable = { checkalignment = NPP_policy_score2 }
	multiply_temp_variable = { RDC_policy_score = part_a }
	multiply_temp_variable = { NPP_policy_score = part_b }
	subtract_from_temp_variable = { policy_voters = RDC_policy_score }
	subtract_from_temp_variable = { policy_voters = NPP_policy_score }
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		add_to_temp_variable = { rep_raw_votes_sen = RDC_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		add_to_temp_variable = { dem_raw_votes_sen = RDC_policy_score }
	}

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		add_to_temp_variable = { pro_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		add_to_temp_variable = { nat_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = com_can_sen
		}
		add_to_temp_variable = { com_raw_votes_sen = NPP_policy_score }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		add_to_temp_variable = { anv_raw_votes_sen = NPP_policy_score }
	}

	add_to_temp_variable = { tossed_votes = policy_voters }
}

USA_get_nominations_for_senate = {
	clr_state_flag = rep_can_sen
	clr_state_flag = dem_can_sen
	clr_state_flag = nat_can_sen
	clr_state_flag = pro_can_sen
	clr_state_flag = com_can_sen
	clr_state_flag = anv_can_sen

	set_state_flag = dem_can_sen
	US_hold_MOCK_senate_election_nomination = yes

	USA_calculate_party_vote_consolidation = yes

	if = {
		limit = {
			OR = {
				check_variable = { senator_1 = 2 }
				check_variable = { senator_2 = 2 }
			}
			NOT = {
				AND = {
					check_variable = { senator_1 = 2 }
					check_variable = { senator_2 = 2 }
				}
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.1 }
	}
	else_if = {
		limit = {
			AND = {
				check_variable = { senator_1 = 2 }
				check_variable = { senator_2 = 2 }
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.3 }
	}
	if = {
		limit = {
			OR = {
				state = 375
				state = 373
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.3 }
	}
	if = {
		limit = {
			OR = {
				state = 358
				state = 949
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.1 }
	}
	set_variable = { democrat_pref = state_senate_results_rdc }
	set_state_flag = USA_rubber_band_dem
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_dem
	clr_state_flag = dem_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }

	set_state_flag = rep_can_sen
	US_hold_MOCK_senate_election_nomination = yes
	if = {
		limit = {
			OR = {
				check_variable = { senator_1 = 1 }
				check_variable = { senator_2 = 1 }
			}
			NOT = {
				AND = {
					check_variable = { senator_1 = 1 }
					check_variable = { senator_2 = 1 }
				}
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.1 }
	}
	else_if = {
		limit = {
			AND = {
				check_variable = { senator_1 = 1 }
				check_variable = { senator_2 = 1 }
			}
		}
		multiply_variable = { state_senate_results_rdc = 1.3 }
	}
	set_variable = { republican_pref = state_senate_results_rdc }
	set_state_flag = USA_rubber_band_rep
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_rep
	clr_state_flag = rep_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }
	#For Debug Purpose# USA_debug_randomise_nomination_pops = yes

	set_variable = { rdc_dem_consolidation_bonus = democrat_pref }
	multiply_variable = { rdc_dem_consolidation_bonus = rdc_party_consolidation_value_dem }
	add_to_variable = { democrat_pref = rdc_dem_consolidation_bonus }

	set_variable = { rdc_rep_consolidation_bonus = republican_pref }
	multiply_variable = { rdc_rep_consolidation_bonus = rdc_party_consolidation_value_rep }
	add_to_variable = { republican_pref = rdc_rep_consolidation_bonus }

	if = {
		limit = {
			check_variable = { democrat_pref > republican_pref }
		}
		set_state_flag = dem_can_sen
		set_variable = { senate_state_nom_rdc = 2 }
	}
	else_if = {
		limit = {
			check_variable = { republican_pref > democrat_pref }
		}
		set_state_flag = rep_can_sen
		set_variable = { senate_state_nom_rdc = 1 }
	}

	set_state_flag = pro_can_sen
	US_hold_MOCK_senate_election_nomination = yes
	if = {
		limit = {
			OR = {
				check_variable = { senator_1 = 4 }
				check_variable = { senator_2 = 4 }
			}
			NOT = {
				AND = {
					check_variable = { senator_1 = 4 }
					check_variable = { senator_2 = 4 }
				}
			}
		}
		multiply_variable = { state_senate_results_npp = 1.1 }
	}
	else_if = {
		limit = {
			AND = {
				check_variable = { senator_1 = 4 }
				check_variable = { senator_2 = 4 }
			}
		}
		multiply_variable = { state_senate_results_npp = 1.3 }
	}
	set_variable = { progressive_pref = state_senate_results_npp }
	set_state_flag = USA_rubber_band_pro
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_pro
	clr_state_flag = pro_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }

	set_state_flag = nat_can_sen
	US_hold_MOCK_senate_election_nomination = yes
	if = {
		limit = {
			OR = {
				check_variable = { senator_1 = 6 }
				check_variable = { senator_2 = 6 }
			}
			NOT = {
				AND = {
					check_variable = { senator_1 = 6 }
					check_variable = { senator_2 = 6 }
				}
			}
		}
		multiply_variable = { state_senate_results_npp = 1.1 }
	}
	else_if = {
		limit = {
			AND = {
				check_variable = { senator_1 = 6 }
				check_variable = { senator_2 = 6 }
			}
		}
		multiply_variable = { state_senate_results_npp = 1.3 }
	}
	if = {
		limit = {
			OR = {
				state = 953
				state = 361
			}
		}
		multiply_variable = { state_senate_results_npp = 1.3 }
	}
	set_variable = { nationalist_pref = state_senate_results_npp }
	set_state_flag = USA_rubber_band_nat
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_nat
	clr_state_flag = nat_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }
		#For Debug Purpose# USA_debug_randomise_nomination_pops_npp1 = yes

	set_variable = { check_test_var_pro = progressive_pref }
	set_variable = { npp_pro_consolidation_bonus = progressive_pref }
	multiply_variable = { npp_pro_consolidation_bonus = npp_party_consolidation_value_pro }
	add_to_variable = { progressive_pref = npp_pro_consolidation_bonus }

	set_variable = { check_test_var_nat = nationalist_pref }
	set_variable = { npp_nat_consolidation_bonus = nationalist_pref }
	multiply_variable = { npp_nat_consolidation_bonus = npp_party_consolidation_value_nat }
	add_to_variable = { nationalist_pref = npp_nat_consolidation_bonus }

	if = {
		limit = {
			check_variable = { progressive_pref > nationalist_pref }
		}
		set_state_flag = pro_can_sen
		set_variable = { senate_state_nom_npp = 4 }
		set_variable = { extremist_check = progressive_pref }
	}
	if = {
		limit = {
			check_variable = { nationalist_pref > progressive_pref }
			check_variable = { nat_pop_in_state > 0.34 }
		}
		set_state_flag = nat_can_sen
		set_variable = { senate_state_nom_npp = 6 }
		set_variable = { extremist_check = nationalist_pref }
	}
	multiply_variable = { extremist_check = 1.05 } # extremists have to show they can get this many votes to be nominated

	set_state_flag = anv_can_sen
	US_hold_MOCK_senate_election_nomination = yes
	set_variable = { anv_pref = state_senate_results_npp }
	set_state_flag = USA_rubber_band_anv
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_anv
	clr_state_flag = anv_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }

	set_variable = { check_test_var_anv = anv_pref }
	set_variable = { npp_anv_consolidation_bonus = anv_pref }
	multiply_variable = { npp_anv_consolidation_bonus = npp_party_consolidation_value_anv }
	add_to_variable = { anv_pref = npp_anv_consolidation_bonus }

	if = {
		limit = {
			check_variable = { anv_pref > extremist_check }
			USA = { has_country_flag = USA_Sovereigntist_Caucus_Active }
			check_variable = { anv_pop_in_state > 0.1 }
		}
		clr_state_flag = nat_can_sen
		clr_state_flag = pro_can_sen
		set_state_flag = anv_can_sen
		set_variable = { senate_state_nom_npp = 5 }
	}

	set_state_flag = com_can_sen
	US_hold_MOCK_senate_election_nomination = yes
	set_variable = { communist_pref = state_senate_results_npp }
	set_state_flag = USA_rubber_band_com
	US_rubber_band_catchup_effect_nominations = yes
	clr_state_flag = USA_rubber_band_com
	clr_state_flag = com_can_sen
		set_temp_variable = { policy_voters = 0 }
		set_temp_variable = { tossed_votes = 0 }
		set_variable = { rdc_votes_sen = 0 }
		set_variable = { npp_votes_sen = 0 }
		set_temp_variable = { voter_combs_sen = 0 }
		set_temp_variable = { rep_raw_votes_sen = 0 }
		set_temp_variable = { dem_raw_votes_sen = 0 }
		set_temp_variable = { pro_raw_votes_sen = 0 }
		set_temp_variable = { nat_raw_votes_sen = 0 }
		set_temp_variable = { com_raw_votes_sen = 0 }
		set_temp_variable = { anv_raw_votes_sen = 0 }

	set_variable = { check_test_var_com = communist_pref }
	set_variable = { npp_com_consolidation_bonus = communist_pref }
	multiply_variable = { npp_com_consolidation_bonus = npp_party_consolidation_value_com }
	add_to_variable = { communist_pref = npp_com_consolidation_bonus }

	if = {
		limit = {
			check_variable = { communist_pref > extremist_check }
			check_variable = { communist_pref > anv_pref }
			USA = { has_country_flag = USA_Marxist_Caucus_Active }
			check_variable = { com_pop_in_state > 0.1 }
		}
		clr_state_flag = nat_can_sen
		clr_state_flag = pro_can_sen
		clr_state_flag = anv_can_sen
		set_state_flag = com_can_sen
		set_variable = { senate_state_nom_npp = 3 }
	}

	if = { # if no npp can win the nomination normally (in case the requirements for nats and extremists to be nominated still lead to progs losing and preventing an npp candidate from running) the most popular faction wins
		limit = {
			NOT = {
				has_state_flag = nat_can_sen
				has_state_flag = pro_can_sen
				has_state_flag = anv_can_sen
				has_state_flag = com_can_sen
			}
		}
		if = { # if progs are most popular progs get the nomination
			limit = {
				AND = {
					check_variable = { pro_pop_in_state > nat_pop_in_state }
					check_variable = { pro_pop_in_state > com_pop_in_state }
					check_variable = { pro_pop_in_state > anv_pop_in_state }
				}
			}
			set_state_flag = pro_can_sen
			set_variable = { senate_state_nom_npp = 4 }
		}
		if = { # if nats are most popular nats get the nomination
			limit = {
				AND = {
					check_variable = { nat_pop_in_state > pro_pop_in_state }
					check_variable = { nat_pop_in_state > com_pop_in_state }
					check_variable = { nat_pop_in_state > anv_pop_in_state }
				}
			}
			set_state_flag = nat_can_sen
			set_variable = { senate_state_nom_npp = 6 }
		}
		if = { # if coms are most popular coms get the nomination
			limit = {
				AND = {
					check_variable = { com_pop_in_state > nat_pop_in_state }
					check_variable = { com_pop_in_state > pro_pop_in_state }
					check_variable = { com_pop_in_state > anv_pop_in_state }
				}
			}
			set_state_flag = com_can_sen
			set_variable = { senate_state_nom_npp = 3 }
		}
		if = { # if anv are most popular anv get the nomination
			limit = {
				AND = {
					check_variable = { anv_pop_in_state > nat_pop_in_state }
					check_variable = { anv_pop_in_state > com_pop_in_state }
					check_variable = { anv_pop_in_state > pro_pop_in_state }
				}
			}
			set_state_flag = anv_can_sen
			set_variable = { senate_state_nom_npp = 5 }
		}
	}
}

US_hold_MOCK_senate_election_nomination = { # for nominations
	USA_set_state_party_policy_opinions = yes
	set_variable = { state_senate_results_rdc = 0 }
	set_variable = { state_senate_results_npp = 0 }

	add_to_temp_variable = { state_number_count_sen = 1 }
	set_variable = { full_deal_sen = state_number_count_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_black }
	add_to_temp_variable = { dem_raw_votes_sen = dem_black }
	add_to_temp_variable = { pro_raw_votes_sen = pro_black }
	add_to_temp_variable = { nat_raw_votes_sen = nat_black }
	add_to_temp_variable = { com_raw_votes_sen = com_black }
	add_to_temp_variable = { anv_raw_votes_sen = anv_black }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_1 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_1 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes_sen = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes_sen = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes_sen = nat_hispanic }
	add_to_temp_variable = { com_raw_votes_sen = com_hispanic }
	add_to_temp_variable = { anv_raw_votes_sen = anv_hispanic }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_2 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_2 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_minority }
	add_to_temp_variable = { dem_raw_votes_sen = dem_minority }
	add_to_temp_variable = { pro_raw_votes_sen = pro_minority }
	add_to_temp_variable = { nat_raw_votes_sen = nat_minority }
	add_to_temp_variable = { com_raw_votes_sen = com_minority }
	add_to_temp_variable = { anv_raw_votes_sen = anv_minority }
	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_3 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_3 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_nativists }
	add_to_temp_variable = { dem_raw_votes_sen = dem_nativists }
	add_to_temp_variable = { pro_raw_votes_sen = pro_nativists }
	add_to_temp_variable = { nat_raw_votes_sen = nat_nativists }
	add_to_temp_variable = { com_raw_votes_sen = com_nativists }
	add_to_temp_variable = { anv_raw_votes_sen = anv_nativists }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_4 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_4 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_urban }
	add_to_temp_variable = { dem_raw_votes_sen = dem_urban }
	add_to_temp_variable = { pro_raw_votes_sen = pro_urban }
	add_to_temp_variable = { nat_raw_votes_sen = nat_urban }
	add_to_temp_variable = { com_raw_votes_sen = com_urban }
	add_to_temp_variable = { anv_raw_votes_sen = anv_urban }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_5 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_5 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_rural }
	add_to_temp_variable = { dem_raw_votes_sen = dem_rural }
	add_to_temp_variable = { pro_raw_votes_sen = pro_rural }
	add_to_temp_variable = { nat_raw_votes_sen = nat_rural }
	add_to_temp_variable = { com_raw_votes_sen = com_rural }
	add_to_temp_variable = { anv_raw_votes_sen = anv_rural }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_6 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_6 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_union }
	add_to_temp_variable = { dem_raw_votes_sen = dem_union }
	add_to_temp_variable = { pro_raw_votes_sen = pro_union }
	add_to_temp_variable = { nat_raw_votes_sen = nat_union }
	add_to_temp_variable = { com_raw_votes_sen = com_union }
	add_to_temp_variable = { anv_raw_votes_sen = anv_union }

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		set_variable = { pro_check_7 = pro_raw_votes_sen }
	}
	if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { anv_check_7 = anv_raw_votes_sen }
	}

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { rdc_cohesion = 0.85 }
	multiply_temp_variable = { npp_cohesion = 0.92 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.5 }

	add_to_temp_variable = { rdc_cohesion = 0.20 }
	add_to_temp_variable = { npp_cohesion = 0.20 }

	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}
	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	USA_ELECTION_CODE_state_party_pref_balance_senate = yes

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes_sen = 2 }
	#divide_variable = { dem_raw_votes_sen = 2 }
	#divide_variable = { pro_raw_votes_sen = 2 }
	#divide_variable = { nat_raw_votes_sen = 2 }
	#divide_variable = { com_raw_votes_sen = 2 }
	#divide_variable = { anv_raw_votes_sen = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs_sen = rep_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = dem_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = pro_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = nat_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = com_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = anv_raw_votes_sen }

	# tally num 1
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes_sen }
		subtract_from_temp_variable = { dem_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = pro_can_sen
			}
			divide_temp_variable = { dem_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes_sen }
		subtract_from_temp_variable = { rep_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = nat_can_sen
			}
			divide_temp_variable = { rep_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = rep_can_sen
			}
			divide_temp_variable = { nat_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		set_variable = { npp_cohesion_check_for_debug_nat = npp_votes_sen }
		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = dem_can_sen
			}
			divide_temp_variable = { pro_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		set_variable = { npp_cohesion_check_for_debug_nat_2 = npp_votes_sen }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			has_state_flag = com_can_sen
		}
		set_variable = { npp_cohesion_check_for_debug_com = npp_votes_sen }
		add_to_variable = { npp_votes_sen = com_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }

		set_variable = { npp_cohesion_check_for_debug_com_2 = npp_votes_sen }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		set_variable = { npp_cohesion_check_for_debug_anv = npp_votes_sen }
		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		set_variable = { votes_total_anv_2 = anv_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }

		set_variable = { npp_cohesion_check_for_debug_anv_2 = npp_votes_sen }
	}

	set_variable = { votes_total_rep_pie_2 = rep_raw_votes_sen }
	set_variable = { votes_total_dem_pie_2 = dem_raw_votes_sen }
	set_variable = { votes_total_nat_pie_2 = nat_raw_votes_sen }
	set_variable = { votes_total_pro_pie_2 = pro_raw_votes_sen }
	set_variable = { votes_total_anv_pie_2 = anv_raw_votes_sen }
	set_variable = { votes_total_com_pie_2 = com_raw_votes_sen }


	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes_sen = rdc_policy_alignment }
	add_to_variable = { npp_votes_sen = npp_policy_alignment }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	if = {
		limit = {
			USA = {
				has_country_flag = USA_flag_nixon_CRA_vetoed
				check_variable = { USA_GUI_no_of_senate_elections = 1 }
			}
			has_state_flag = pro_can_sen
		}
		multiply_variable = { npp_votes_sen = 1.1 }
	}

	if = {
		limit = {
			USA = {
				has_country_flag = USA_civil_rights_passed
				check_variable = { USA_GUI_no_of_senate_elections = 1 }
			}
			has_state_flag = nat_can_sen
		}
		multiply_variable = { npp_votes_sen = 1.1 }
	}

	# determine

	if = {
		limit = {
			check_variable = {
				var = rdc_votes_sen
				value = npp_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = rdc_win_sen
		if = { # seat 1
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1964.01.01
							date < 1964.12.31
						}
						AND = {
							date > 1970.01.01
							date < 1970.12.31
						}
						AND = {
							date > 1976.01.01
							date < 1976.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_rdc }
		}
		else_if = { # seat 2
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1966.01.01
							date < 1966.12.31
						}
						AND = {
							date > 1972.01.01
							date < 1972.12.31
						}
						AND = {
							date > 1978.01.01
							date < 1978.12.31
						}
					}
				}
			}
			if = {
				limit = {
					has_state_flag = USA_senate_class_23
				}
				set_variable = { senate_seat_1_seatwarmer = senate_state_nom_rdc }
			}
			else = {
				set_variable = { senate_seat_2_seatwarmer = senate_state_nom_rdc }
			}
		}
		else_if = { # seat 3
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1962.01.01
							date < 1962.12.31
						}
						AND = {
							date > 1968.01.01
							date < 1968.12.31
						}
						AND = {
							date > 1974.01.01
							date < 1974.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_rdc }
		}
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_votes_sen
				value = rdc_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = npp_win_sen

		if = {
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1964.01.01
							date < 1964.12.31
						}
						AND = {
							date > 1970.01.01
							date < 1970.12.31
						}
						AND = {
							date > 1976.01.01
							date < 1976.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_npp }
		}
		else_if = { # seat 2
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1966.01.01
							date < 1966.12.31
						}
						AND = {
							date > 1972.01.01
							date < 1972.12.31
						}
						AND = {
							date > 1978.01.01
							date < 1978.12.31
						}
					}
				}
			}
			if = {
				limit = {
					has_state_flag = USA_senate_class_23
				}
				set_variable = { senate_seat_1_seatwarmer = senate_state_nom_npp }
			}
			else = {
				set_variable = { senate_seat_2_seatwarmer = senate_state_nom_npp }
			}
		}
		else_if = {
			limit = {
				USA = {
					OR = {
						AND = {
							date > 1962.01.01
							date < 1962.12.31
						}
						AND = {
							date > 1968.01.01
							date < 1968.12.31
						}
						AND = {
							date > 1974.01.01
							date < 1974.12.31
						}
					}
				}
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_npp }
		}
	}

	set_variable = { state_senate_results_rdc = rdc_votes_sen }
	set_variable = { state_senate_results_npp = npp_votes_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }
}

US_hold_MOCK_senate_election_polling = { # for nominations
	USA_set_state_party_policy_opinions = yes

	add_to_temp_variable = { state_number_count_sen = 1 }
	set_variable = { full_deal_sen = state_number_count_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_black }
	add_to_temp_variable = { dem_raw_votes_sen = dem_black }
	add_to_temp_variable = { pro_raw_votes_sen = pro_black }
	add_to_temp_variable = { nat_raw_votes_sen = nat_black }
	add_to_temp_variable = { com_raw_votes_sen = com_black }
	add_to_temp_variable = { anv_raw_votes_sen = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes_sen = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes_sen = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes_sen = nat_hispanic }
	add_to_temp_variable = { com_raw_votes_sen = com_hispanic }
	add_to_temp_variable = { anv_raw_votes_sen = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_minority }
	add_to_temp_variable = { dem_raw_votes_sen = dem_minority }
	add_to_temp_variable = { pro_raw_votes_sen = pro_minority }
	add_to_temp_variable = { nat_raw_votes_sen = nat_minority }
	add_to_temp_variable = { com_raw_votes_sen = com_minority }
	add_to_temp_variable = { anv_raw_votes_sen = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_nativists }
	add_to_temp_variable = { dem_raw_votes_sen = dem_nativists }
	add_to_temp_variable = { pro_raw_votes_sen = pro_nativists }
	add_to_temp_variable = { nat_raw_votes_sen = nat_nativists }
	add_to_temp_variable = { com_raw_votes_sen = com_nativists }
	add_to_temp_variable = { anv_raw_votes_sen = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_urban }
	add_to_temp_variable = { dem_raw_votes_sen = dem_urban }
	add_to_temp_variable = { pro_raw_votes_sen = pro_urban }
	add_to_temp_variable = { nat_raw_votes_sen = nat_urban }
	add_to_temp_variable = { com_raw_votes_sen = com_urban }
	add_to_temp_variable = { anv_raw_votes_sen = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_rural }
	add_to_temp_variable = { dem_raw_votes_sen = dem_rural }
	add_to_temp_variable = { pro_raw_votes_sen = pro_rural }
	add_to_temp_variable = { nat_raw_votes_sen = nat_rural }
	add_to_temp_variable = { com_raw_votes_sen = com_rural }
	add_to_temp_variable = { anv_raw_votes_sen = anv_rural }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_union }
	add_to_temp_variable = { dem_raw_votes_sen = dem_union }
	add_to_temp_variable = { pro_raw_votes_sen = pro_union }
	add_to_temp_variable = { nat_raw_votes_sen = nat_union }
	add_to_temp_variable = { com_raw_votes_sen = com_union }
	add_to_temp_variable = { anv_raw_votes_sen = anv_union }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# state party make up

	set_temp_variable = { eff_voter_role = rep_raw_votes }
	add_to_temp_variable = { eff_voter_role = dem_raw_votes }
	add_to_temp_variable = { eff_voter_role = pro_raw_votes }
	add_to_temp_variable = { eff_voter_role = nat_raw_votes }
	add_to_temp_variable = { eff_voter_role = com_raw_votes }
	add_to_temp_variable = { eff_voter_role = anv_raw_votes }

	set_variable = { state_rep_make_up = rep_raw_votes }
	set_variable = { state_dem_make_up = dem_raw_votes }
	set_variable = { state_pro_make_up = pro_raw_votes }
	set_variable = { state_nat_make_up = nat_raw_votes }
	set_variable = { state_com_make_up = com_raw_votes }
	set_variable = { state_anv_make_up = anv_raw_votes }
	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { rdc_cohesion = 0.85 }
	multiply_temp_variable = { npp_cohesion = 0.92 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.5 }

	add_to_temp_variable = { rdc_cohesion = 0.20 }
	add_to_temp_variable = { npp_cohesion = 0.20 }
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}
	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	USA_ELECTION_CODE_state_party_pref_balance_senate = yes

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes_sen = 2 }
	#divide_variable = { dem_raw_votes_sen = 2 }
	#divide_variable = { pro_raw_votes_sen = 2 }
	#divide_variable = { nat_raw_votes_sen = 2 }
	#divide_variable = { com_raw_votes_sen = 2 }
	#divide_variable = { anv_raw_votes_sen = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs_sen = rep_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = dem_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = pro_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = nat_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = com_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = anv_raw_votes_sen }

	# tally num 1
	if = {
		limit = {
			has_state_flag = rep_can_sen
		}
		add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes_sen }
		subtract_from_temp_variable = { dem_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = pro_can_sen
			}
			divide_temp_variable = { dem_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_variable = { npp_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			has_state_flag = dem_can_sen
		}
		add_to_variable = { rdc_votes_sen = dem_raw_votes_sen }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes_sen }
		subtract_from_temp_variable = { rep_raw_votes_sen = rdc_cohesion }

		if = {
			limit = {
				has_state_flag = nat_can_sen
			}
			divide_temp_variable = { rep_raw_votes_sen = 5 }
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_variable = { npp_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes_sen = rep_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			has_state_flag = pro_can_sen
		}
		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = rep_can_sen
			}
			divide_temp_variable = { nat_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			has_state_flag = nat_can_sen
		}
		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion }

		if = {
			limit = {
				has_state_flag = dem_can_sen
			}
			divide_temp_variable = { pro_raw_votes_sen = 5 }
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_variable = { rdc_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			has_state_flag = com_can_sen
		}
		add_to_variable = { npp_votes_sen = com_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes_sen }
		subtract_from_temp_variable = { anv_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			has_state_flag = anv_can_sen
		}
		add_to_variable = { npp_votes_sen = anv_raw_votes_sen }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes_sen }
		subtract_from_temp_variable = { pro_raw_votes_sen = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes_sen = pro_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes_sen }
		subtract_from_temp_variable = { nat_raw_votes_sen = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes_sen = nat_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes_sen }
		subtract_from_temp_variable = { com_raw_votes_sen = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes_sen = com_raw_votes_sen }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes_sen = rdc_policy_alignment }
	add_to_variable = { npp_votes_sen = npp_policy_alignment }

	add_to_variable = { rdc_votes_sen = npp_to_rdc }
	add_to_variable = { npp_votes_sen = rdc_to_npp }

	USA_rubber_band_effect_major_party = yes

	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { rdc_votes_sen = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { npp_votes_sen = USA_party_pop_multiplier }

	# determine

	if = {
		limit = {
			USA = {
				is_ai = no
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_RD
				}
			}
			multiply_variable = { rdc_votes_sen = 1.05 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_NPP
				}
			}
			multiply_variable = { npp_votes_sen = 1.05 }
		}
	}

	set_variable = { npp_check = npp_votes_sen }
	set_variable = { rdc_check = rdc_votes_sen }

	if = {
		limit = {
			check_variable = {
				var = rdc_votes_sen
				value = npp_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = rdc_win_sen
		if = { # seat 1
			limit = {
				has_state_flag = elections_senator_1
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_rdc }
		}
		else_if = { # seat 3
			limit = {
				has_state_flag = elections_senator_2
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_rdc }
		}
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_votes_sen
				value = rdc_votes_sen
				compare = greater_than_or_equals
			}
		}
		set_state_flag = npp_win_sen

		if = {
			limit = {
				has_state_flag = elections_senator_1
			}
			set_variable = { senate_seat_1_seatwarmer = senate_state_nom_npp }
		}
		else_if = {
			limit = {
				has_state_flag = elections_senator_2
			}
			set_variable = { senate_seat_2_seatwarmer = senate_state_nom_npp }
		}
	}

	set_variable = { state_senate_results_rdc = rdc_votes_sen }
	set_variable = { state_senate_results_npp = npp_votes_sen }

	set_variable = { rdc_votes_sen = 0 }
	set_variable = { npp_votes_sen = 0 }

	set_temp_variable = { total_votes_sen_elec = state_senate_results_rdc }
	add_to_temp_variable = { total_votes_sen_elec = state_senate_results_npp }
	set_temp_variable = { rdc_pct_votes_sen = state_senate_results_rdc }
	set_temp_variable = { npp_pct_votes_sen = state_senate_results_npp }
	divide_temp_variable = { rdc_pct_votes_sen = total_votes_sen_elec }
	divide_temp_variable = { npp_pct_votes_sen = total_votes_sen_elec }
	set_variable = { pct_diff_in_polls_sen = rdc_pct_votes_sen }
	subtract_from_variable = { pct_diff_in_polls_sen = npp_pct_votes_sen }
}

US_hold_presidential_election_polling = {
	add_to_temp_variable = { state_number_count = 1 }
	set_variable = { full_deal = state_number_count }

	set_variable = { rdc_votes = 0 }
	set_variable = { npp_votes = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	set_temp_variable = { rep_raw_votes = rep_black }
	set_temp_variable = { dem_raw_votes = dem_black }
	set_temp_variable = { pro_raw_votes = pro_black }
	set_temp_variable = { nat_raw_votes = nat_black }
	set_temp_variable = { com_raw_votes = com_black }
	set_temp_variable = { anv_raw_votes = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes = nat_hispanic }
	add_to_temp_variable = { com_raw_votes = com_hispanic }
	add_to_temp_variable = { anv_raw_votes = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_minority }
	add_to_temp_variable = { dem_raw_votes = dem_minority }
	add_to_temp_variable = { pro_raw_votes = pro_minority }
	add_to_temp_variable = { nat_raw_votes = nat_minority }
	add_to_temp_variable = { com_raw_votes = com_minority }
	add_to_temp_variable = { anv_raw_votes = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_nativists }
	add_to_temp_variable = { dem_raw_votes = dem_nativists }
	add_to_temp_variable = { pro_raw_votes = pro_nativists }
	add_to_temp_variable = { nat_raw_votes = nat_nativists }
	add_to_temp_variable = { com_raw_votes = com_nativists }
	add_to_temp_variable = { anv_raw_votes = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_urban }
	add_to_temp_variable = { dem_raw_votes = dem_urban }
	add_to_temp_variable = { pro_raw_votes = pro_urban }
	add_to_temp_variable = { nat_raw_votes = nat_urban }
	add_to_temp_variable = { com_raw_votes = com_urban }
	add_to_temp_variable = { anv_raw_votes = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_rural }
	add_to_temp_variable = { dem_raw_votes = dem_rural }
	add_to_temp_variable = { pro_raw_votes = pro_rural }
	add_to_temp_variable = { nat_raw_votes = nat_rural }
	add_to_temp_variable = { com_raw_votes = com_rural }
	add_to_temp_variable = { anv_raw_votes = anv_rural }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_union }
	add_to_temp_variable = { dem_raw_votes = dem_union }
	add_to_temp_variable = { pro_raw_votes = pro_union }
	add_to_temp_variable = { nat_raw_votes = nat_union }
	add_to_temp_variable = { com_raw_votes = com_union }
	add_to_temp_variable = { anv_raw_votes = anv_union }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.95 }

	add_to_temp_variable = { npp_cohesion = 0.15 }

	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}

	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	# state party make up

	USA_ELECTION_CODE_state_party_pref_balance = yes

	set_temp_variable = { eff_voter_role_pres = rep_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = dem_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = pro_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = nat_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = com_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = anv_raw_votes }

	set_variable = { state_rep_make_up_pres = rep_raw_votes }
	set_variable = { state_dem_make_up_pres = dem_raw_votes }
	set_variable = { state_pro_make_up_pres = pro_raw_votes }
	set_variable = { state_nat_make_up_pres = nat_raw_votes }
	set_variable = { state_com_make_up_pres = com_raw_votes }
	set_variable = { state_anv_make_up_pres = anv_raw_votes }

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes = 2 }
	#divide_variable = { dem_raw_votes = 2 }
	#divide_variable = { pro_raw_votes = 2 }
	#divide_variable = { nat_raw_votes = 2 }
	#divide_variable = { com_raw_votes = 2 }
	#divide_variable = { anv_raw_votes = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs = rep_raw_votes }
	#add_to_temp_variable = { voter_combs = dem_raw_votes }
	#add_to_temp_variable = { voter_combs = pro_raw_votes }
	#add_to_temp_variable = { voter_combs = nat_raw_votes }
	#add_to_temp_variable = { voter_combs = com_raw_votes }
	#add_to_temp_variable = { voter_combs = anv_raw_votes }

	# tally num 1
	if = {
		limit = {
			USA = { has_country_flag = rep_can_pres }
		}
		add_to_variable = { rdc_votes = rep_raw_votes }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes }
		subtract_from_temp_variable = { dem_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = pro_can_pres }
			}
			divide_temp_variable = { dem_raw_votes = 5 }
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			USA = { has_country_flag = dem_can_pres }
		}
		add_to_variable = { rdc_votes = dem_raw_votes }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes }
		subtract_from_temp_variable = { rep_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = nat_can_pres }
			}
			divide_temp_variable = { rep_raw_votes = 5 }
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			USA = { has_country_flag = pro_can_pres }
		}
		add_to_variable = { npp_votes = pro_raw_votes }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = rep_can_pres }
			}
			divide_temp_variable = { nat_raw_votes = 5 }
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			USA = { has_country_flag = nat_can_pres }
		}
		add_to_variable = { npp_votes = nat_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = dem_can_pres }
			}
			divide_temp_variable = { pro_raw_votes = 5 }
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			USA = { has_country_flag = com_can_pres }
		}
		add_to_variable = { npp_votes = com_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = anv_can_pres }
		}
		add_to_variable = { npp_votes = anv_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes = rdc_policy_alignment }
	add_to_variable = { npp_votes = npp_policy_alignment }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	if = {
		limit = {
			USA = {
				is_ai = no
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_RD
				}
			}
			multiply_variable = { rdc_votes = 1.02 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_NPP
				}
			}
			multiply_variable = { npp_votes = 1.02 }
		}
	}

	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { rdc_votes = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { npp_votes = USA_party_pop_multiplier }

	set_variable = { state_pres_results_rdc = rdc_votes }
	set_variable = { state_pres_results_npp = npp_votes }

	#set_variable = { rdc_votes = 0 }
	#set_variable = { npp_votes = 0 }
}

USA_charts_update = { #For poll purposes

	#Clamps for just in case
	clamp_variable = {
		var = rep_results_pct
		min = 0
		max = 100
	}
	clamp_variable = {
		var = dem_results_pct
		min = 0
		max = 100
	}
	clamp_variable = {
		var = pro_results_pct
		min = 0
		max = 100
	}
	clamp_variable = {
		var = nat_results_pct
		min = 0
		max = 100
	}
	clamp_variable = {
		var = anv_results_pct
		min = 0
		max = 100
	}
	clamp_variable = {
		var = com_results_pct
		min = 0
		max = 100
	}

	#Piecharts

	set_temp_variable = { state = USA_states^US_voting_selected_state }

	# RD
	# Compute start and end values
	# dem is first so its start is 0 and end is just its %
	set_temp_variable = { dem_start = 0 }
	set_temp_variable = { dem_end = state:dem_results_pct }

	# Compute frame = SSSEEE by shifting over the start number 3 places
	# and adding the end number
	set_variable = { dem_pie_frame = dem_start }
	round_variable = dem_pie_frame
	multiply_variable = { dem_pie_frame = 1000 }
	add_to_variable = { dem_pie_frame = dem_end }

	# Compute start and end values
	# rep starts where dem ends

	set_temp_variable = { rep_start = dem_end }
	set_temp_variable = { rep_end = rep_start }
	add_to_temp_variable = { rep_end = state:rep_results_pct }

	set_variable = { rep_pie_frame = rep_start }
	round_variable = rep_pie_frame
	multiply_variable = { rep_pie_frame = 1000 }
	add_to_variable = { rep_pie_frame = rep_end }


	#NPP

	#NAT
	set_variable = { nat_st = 0 }
	set_variable = { nat_end = state:nat_results_pct }

	set_variable = { nat_pie_frame = nat_st }
	round_variable = nat_pie_frame
	multiply_variable = { nat_pie_frame = 1000 }
	add_to_variable = { nat_pie_frame = nat_end }

	#PRO
	set_variable = { pro_st = nat_end }
	set_variable = { pro_end = pro_st }
	add_to_variable = { pro_end = state:pro_results_pct }

	set_variable = { pro_pie_frame = pro_st }
	round_variable = pro_pie_frame
	multiply_variable = { pro_pie_frame = 1000 }
	add_to_variable = { pro_pie_frame = pro_end }

	#ANV
	set_variable = { anv_st = pro_end }
	set_variable = { anv_end = anv_st }
	add_to_variable = { anv_end = state:anv_results_pct }

	set_variable = { anv_pie_frame = anv_st }
	round_variable = anv_pie_frame
	multiply_variable = { anv_pie_frame = 1000 }
	add_to_variable = { anv_pie_frame = anv_end }

	#COM
	set_variable = { com_st = anv_end }

	set_variable = { com_pie_frame = com_st }
	round_variable = com_pie_frame
	multiply_variable = { com_pie_frame = 1000 }
	add_to_variable = { com_pie_frame = 100 } # last one so make it 100

	set_variable = { rep_pop_in_state = state:rep_results_pct }
	set_variable = { dem_pop_in_state = state:dem_results_pct }
	set_variable = { com_pop_in_state = state:com_results_pct }
	set_variable = { pro_pop_in_state = state:pro_results_pct }
	set_variable = { nat_pop_in_state = state:nat_results_pct }
	set_variable = { anv_pop_in_state = state:anv_results_pct }

	#Popularity Bars
	if = { # Senate Polls
		limit = {
			check_variable = { USA_GUI_selected_tab = 1 }
			NOT = {
				has_country_flag = USA_senate_conclusion
			}
		}
		set_variable = { RDC_poll_pop_for_gui_overview = state:RDC_popularity_unrounded }
		set_variable = { NPP_poll_pop_for_gui_overview = state:NPP_popularity_unrounded }
		set_variable = { RDC_poll_pop_for_gui_text = state:RDC_popularity_unrounded }
		set_variable = { NPP_poll_pop_for_gui_text = state:NPP_popularity_unrounded }
		set_variable = { RDC_poll_pop_high_end = state:RDC_popularity_unrounded_upper }
		set_variable = { RDC_poll_pop_low_end = state:RDC_popularity_unrounded_lower }

		set_variable = { NPP_poll_pop_high_end = state:NPP_popularity_unrounded_upper }
		set_variable = { NPP_poll_pop_low_end = state:NPP_popularity_unrounded_lower }
	}
	else_if = { # Senate Polls
		limit = {
			check_variable = { USA_GUI_selected_tab = 1 }
			has_country_flag = USA_senate_conclusion
		}
		set_variable = { RDC_poll_pop_for_gui_overview = state:USA_state_pct_senate_rdc }
		set_variable = { NPP_poll_pop_for_gui_overview = state:USA_state_pct_senate_npp }
		set_variable = { RDC_poll_pop_for_gui_text = state:USA_state_pct_senate_rdc }
		set_variable = { NPP_poll_pop_for_gui_text = state:USA_state_pct_senate_npp }
		subtract_from_variable = { RDC_poll_pop_for_gui_text = 1000 }
		subtract_from_variable = { NPP_poll_pop_for_gui_text = 1000 }
	}
	else_if = { # Presidental Polls
		limit = {
			check_variable = { USA_GUI_selected_tab = 2 }
			NOT = {
				has_country_flag = USA_presidential_conclusion
			}
		}
		set_variable = { RDC_poll_pop_for_gui_overview = state:RDC_popularity_prespoll_unrounded }
		set_variable = { NPP_poll_pop_for_gui_overview = state:NPP_popularity_prespoll_unrounded }
		set_variable = { RDC_poll_pop_for_gui_text = state:RDC_popularity_prespoll_unrounded }
		set_variable = { NPP_poll_pop_for_gui_text = state:NPP_popularity_prespoll_unrounded }
		set_variable = { RDC_poll_pop_high_end = state:RDC_popularity_prespoll_unrounded_upper }
		set_variable = { RDC_poll_pop_low_end = state:RDC_popularity_prespoll_unrounded_lower }

		set_variable = { NPP_poll_pop_high_end = state:NPP_popularity_prespoll_unrounded_upper }
		set_variable = { NPP_poll_pop_low_end = state:NPP_popularity_prespoll_unrounded_lower }
	}
	else = {
		set_variable = { RDC_poll_pop_for_gui_overview = state:USA_state_pct_pres_rdc }
		set_variable = { NPP_poll_pop_for_gui_overview = state:USA_state_pct_pres_npp }
		set_variable = { RDC_poll_pop_for_gui_text = state:USA_state_pct_pres_rdc }
		set_variable = { NPP_poll_pop_for_gui_text = state:USA_state_pct_pres_npp }
		subtract_from_variable = { RDC_poll_pop_for_gui_text = 1000 }
		subtract_from_variable = { NPP_poll_pop_for_gui_text = 1000 }
	}
	set_variable = { NPP_to_RD_gap_low_end_overview = NPP_poll_pop_high_end }
	subtract_from_variable = { NPP_to_RD_gap_low_end_overview = RDC_poll_pop_low_end }
	set_variable = { NPP_to_RD_gap_high_end_overview = NPP_poll_pop_low_end }
	subtract_from_variable = { NPP_to_RD_gap_high_end_overview = RDC_poll_pop_high_end }

	set_variable = { RD_to_NPP_gap_low_end_overview = RDC_poll_pop_high_end }
	subtract_from_variable = { RD_to_NPP_gap_low_end_overview = NPP_poll_pop_low_end }
	set_variable = { RD_to_NPP_gap_high_end_overview = RDC_poll_pop_low_end }
	subtract_from_variable = { RD_to_NPP_gap_high_end_overview = NPP_poll_pop_high_end }

	set_variable = { RD_to_NPP_results_difference = RDC_poll_pop_for_gui_text }
	subtract_from_variable = { RD_to_NPP_results_difference = NPP_poll_pop_for_gui_text }

	set_variable = { NPP_to_RD_results_difference = NPP_poll_pop_for_gui_text }
	subtract_from_variable = { NPP_to_RD_results_difference = RDC_poll_pop_for_gui_text }

	if = {
		limit = {
			USA = { owns_state = 629 }
		}
		set_variable = { USA_big_map_frame = 3 }
	}
	else_if = {
		limit = {
			USA = { owns_state = 768 }
		}
		set_variable = { USA_big_map_frame = 2 }
	}
	else_if = {
		limit = {
			USA = { owns_state = 772 }
			JAP = { owns_state = 629 }
		}
		set_variable = { USA_big_map_frame = 4 }
	}
	else = {
		set_variable = { USA_big_map_frame = 1 }
	}
	clear_array = USA_big_state_outlines_array_main
	clear_array = USA_big_state_outlines_array_secondary
	for_loop_effect = {
		start = 0
		end = 43
		value = idx

		add_to_array = { USA_big_state_outlines_array_main = USA_states_icon_array^idx }
		add_to_variable = { USA_big_state_outlines_array_main^idx = 2 }
		if = {
			limit = {
				check_variable = { USA_big_state_outlines_array_main^idx = 43 }
			}
			set_variable = { USA_big_state_outlines_array_main^idx = 1 }
		}
	}
	for_loop_effect = {
		start = 0
		end = 9
		value = idx

		add_to_array = { USA_big_state_outlines_array_secondary = USA_states_icon_array^idx }
		add_to_variable = { USA_big_state_outlines_array_secondary^idx = 1 }
	}
	if = {
		limit = {
			USA = { owns_state = 768 }
		}
		set_variable = { USA_big_state_outlines_array_secondary^2 = 11 }
	}
	if = {
		limit = {
			USA = { owns_state = 772 }
		}
		set_variable = { USA_big_state_outlines_array_secondary^0 = 10 }
	}
	set_variable = { US_voting_close_state_var = USA_frame_for_map^US_voting_selected_state }

	USA_calc_map_position = yes
}

USA_calc_map_position = {
	USA_x_y_setup_big = yes
	clear_Variable = USA_big_map_x
	clear_Variable = USA_big_map_y

	for_loop_effect = {
		start = 0
		end = 43
		value = idx

		add_to_variable = { USA_states_x_array_big^idx = US_GUI_map_offset_value_x^US_voting_region }
		add_to_variable = { USA_states_y_array_big^idx = US_GUI_map_offset_value_y^US_voting_region }

		add_to_variable = { USA_states_x_array_big_secondary^idx = US_GUI_map_offset_value_x^US_voting_region }
		add_to_variable = { USA_states_y_array_big_secondary^idx = US_GUI_map_offset_value_y^US_voting_region }

		add_to_variable = { USA_states_x_array_area_outlines^idx = US_GUI_map_offset_value_x^US_voting_region }
		add_to_variable = { USA_states_y_array_area_outlines^idx = US_GUI_map_offset_value_y^US_voting_region }

		set_variable = { USA_big_map_x = US_GUI_map_offset_value_x^US_voting_region }
		set_variable = { USA_big_map_y = US_GUI_map_offset_value_y^US_voting_region }
	}
}

USA_popularity_drain_pro_to_com_effect = {
	set_temp_variable = { pro_black_drain = 1 }

	multiply_temp_variable = { pro_black_drain = black_pro_affiliation }
	multiply_temp_variable = { pro_black_drain = temp_pro_to_com }
	subtract_from_variable = { black_pro_affiliation = pro_black_drain }
	add_to_variable = { black_com_affiliation = pro_black_drain }


	set_temp_variable = { pro_minority_drain = 1 }

	multiply_temp_variable = { pro_minority_drain = minority_pro_affiliation }
	multiply_temp_variable = { pro_minority_drain = temp_pro_to_com }
	subtract_from_variable = { minority_pro_affiliation = pro_minority_drain }
	add_to_variable = { minority_com_affiliation = pro_minority_drain }


	set_temp_variable = { pro_hispanic_drain = 1 }

	multiply_temp_variable = { pro_hispanic_drain = hispanic_pro_affiliation }
	multiply_temp_variable = { pro_hispanic_drain = temp_pro_to_com }
	subtract_from_variable = { hispanic_pro_affiliation = pro_hispanic_drain }
	add_to_variable = { hispanic_com_affiliation = pro_hispanic_drain }


	set_temp_variable = { pro_urban_drain = 1 }

	multiply_temp_variable = { pro_urban_drain = urban_pro_affiliation }
	multiply_temp_variable = { pro_urban_drain = temp_pro_to_com }
	subtract_from_variable = { urban_pro_affiliation = pro_urban_drain }
	add_to_variable = { urban_com_affiliation = pro_urban_drain }

	set_temp_variable = { pro_rural_drain = 1 }

	multiply_temp_variable = { pro_rural_drain = rural_pro_affiliation }
	multiply_temp_variable = { pro_rural_drain = temp_pro_to_com }
	subtract_from_variable = { rural_pro_affiliation = pro_rural_drain }
	add_to_variable = { rural_com_affiliation = pro_rural_drain }

	set_temp_variable = { pro_union_drain = 1 }

	multiply_temp_variable = { pro_union_drain = union_pro_affiliation }
	multiply_temp_variable = { pro_union_drain = temp_pro_to_com }
	subtract_from_variable = { union_pro_affiliation = pro_union_drain }
	add_to_variable = { union_com_affiliation = pro_union_drain }

	set_temp_variable = { pro_nativists_drain = 1 }

	multiply_temp_variable = { pro_nativists_drain = nativists_pro_affiliation }
	multiply_temp_variable = { pro_nativists_drain = temp_pro_to_com }
	subtract_from_variable = { nativists_pro_affiliation = pro_nativists_drain }
	add_to_variable = { nativists_com_affiliation = pro_nativists_drain }
}

USA_popularity_drain_com_to_pro_effect = {
	set_temp_variable = { com_black_drain = 1 }

	multiply_temp_variable = { com_black_drain = black_com_affiliation }
	multiply_temp_variable = { com_black_drain = temp_com_to_pro }
	subtract_from_variable = { black_com_affiliation = com_black_drain }
	add_to_variable = { black_pro_affiliation = com_black_drain }


	set_temp_variable = { com_minority_drain = 1 }

	multiply_temp_variable = { com_minority_drain = minority_com_affiliation }
	multiply_temp_variable = { com_minority_drain = temp_com_to_pro }
	subtract_from_variable = { minority_com_affiliation = com_minority_drain }
	add_to_variable = { minority_pro_affiliation = com_minority_drain }


	set_temp_variable = { com_hispanic_drain = 1 }

	multiply_temp_variable = { com_hispanic_drain = hispanic_com_affiliation }
	multiply_temp_variable = { com_hispanic_drain = temp_com_to_pro }
	subtract_from_variable = { hispanic_com_affiliation = com_hispanic_drain }
	add_to_variable = { hispanic_pro_affiliation = com_hispanic_drain }


	set_temp_variable = { com_urban_drain = 1 }

	multiply_temp_variable = { com_urban_drain = urban_com_affiliation }
	multiply_temp_variable = { com_urban_drain = temp_com_to_pro }
	subtract_from_variable = { urban_com_affiliation = com_urban_drain }
	add_to_variable = { urban_pro_affiliation = com_urban_drain }

	set_temp_variable = { com_rural_drain = 1 }

	multiply_temp_variable = { com_rural_drain = rural_com_affiliation }
	multiply_temp_variable = { com_rural_drain = temp_com_to_pro }
	subtract_from_variable = { rural_com_affiliation = com_rural_drain }
	add_to_variable = { rural_pro_affiliation = com_rural_drain }

	set_temp_variable = { com_union_drain = 1 }

	multiply_temp_variable = { com_union_drain = union_com_affiliation }
	multiply_temp_variable = { com_union_drain = temp_com_to_pro }
	subtract_from_variable = { union_com_affiliation = com_union_drain }
	add_to_variable = { union_pro_affiliation = com_union_drain }

	set_temp_variable = { com_nativists_drain = 1 }

	multiply_temp_variable = { com_nativists_drain = nativists_com_affiliation }
	multiply_temp_variable = { com_nativists_drain = temp_com_to_pro }
	subtract_from_variable = { nativists_com_affiliation = com_nativists_drain }
	add_to_variable = { nativists_pro_affiliation = com_nativists_drain }
}

USA_popularity_drain_rep_to_com_effect = {
	set_temp_variable = { rep_black_drain = 1 }

	multiply_temp_variable = { rep_black_drain = black_rep_affiliation }
	multiply_temp_variable = { rep_black_drain = temp_rep_to_com }
	subtract_from_variable = { black_rep_affiliation = rep_black_drain }
	add_to_variable = { black_com_affiliation = rep_black_drain }


	set_temp_variable = { rep_minority_drain = 1 }

	multiply_temp_variable = { rep_minority_drain = minority_rep_affiliation }
	multiply_temp_variable = { rep_minority_drain = temp_rep_to_com }
	subtract_from_variable = { minority_rep_affiliation = rep_minority_drain }
	add_to_variable = { minority_com_affiliation = rep_minority_drain }


	set_temp_variable = { rep_hispanic_drain = 1 }

	multiply_temp_variable = { rep_hispanic_drain = hispanic_rep_affiliation }
	multiply_temp_variable = { rep_hispanic_drain = temp_rep_to_com }
	subtract_from_variable = { hispanic_rep_affiliation = rep_hispanic_drain }
	add_to_variable = { hispanic_com_affiliation = rep_hispanic_drain }


	set_temp_variable = { rep_urban_drain = 1 }

	multiply_temp_variable = { rep_urban_drain = urban_rep_affiliation }
	multiply_temp_variable = { rep_urban_drain = temp_rep_to_com }
	subtract_from_variable = { urban_rep_affiliation = rep_urban_drain }
	add_to_variable = { urban_com_affiliation = rep_urban_drain }

	set_temp_variable = { rep_rural_drain = 1 }

	multiply_temp_variable = { rep_rural_drain = rural_rep_affiliation }
	multiply_temp_variable = { rep_rural_drain = temp_rep_to_com }
	subtract_from_variable = { rural_rep_affiliation = rep_rural_drain }
	add_to_variable = { rural_com_affiliation = rep_rural_drain }

	set_temp_variable = { rep_union_drain = 1 }

	multiply_temp_variable = { rep_union_drain = union_rep_affiliation }
	multiply_temp_variable = { rep_union_drain = temp_rep_to_com }
	subtract_from_variable = { union_rep_affiliation = rep_union_drain }
	add_to_variable = { union_com_affiliation = rep_union_drain }

	set_temp_variable = { rep_nativists_drain = 1 }

	multiply_temp_variable = { rep_nativists_drain = nativists_rep_affiliation }
	multiply_temp_variable = { rep_nativists_drain = temp_rep_to_com }
	subtract_from_variable = { nativists_rep_affiliation = rep_nativists_drain }
	add_to_variable = { nativists_com_affiliation = rep_nativists_drain }
}

USA_popularity_drain_nat_to_anv_effect = {
	set_temp_variable = { nat_black_drain = 1 }

	multiply_temp_variable = { nat_black_drain = black_nat_affiliation }
	multiply_temp_variable = { nat_black_drain = temp_nat_to_anv }
	subtract_from_variable = { black_nat_affiliation = nat_black_drain }
	add_to_variable = { black_anv_affiliation = nat_black_drain }


	set_temp_variable = { nat_minority_drain = 1 }

	multiply_temp_variable = { nat_minority_drain = minority_nat_affiliation }
	multiply_temp_variable = { nat_minority_drain = temp_nat_to_anv }
	subtract_from_variable = { minority_nat_affiliation = nat_minority_drain }
	add_to_variable = { minority_anv_affiliation = nat_minority_drain }


	set_temp_variable = { nat_hispanic_drain = 1 }

	multiply_temp_variable = { nat_hispanic_drain = hispanic_nat_affiliation }
	multiply_temp_variable = { nat_hispanic_drain = temp_nat_to_anv }
	subtract_from_variable = { hispanic_nat_affiliation = nat_hispanic_drain }
	add_to_variable = { hispanic_anv_affiliation = nat_hispanic_drain }


	set_temp_variable = { nat_urban_drain = 1 }

	multiply_temp_variable = { nat_urban_drain = urban_nat_affiliation }
	multiply_temp_variable = { nat_urban_drain = temp_nat_to_anv }
	subtract_from_variable = { urban_nat_affiliation = nat_urban_drain }
	add_to_variable = { urban_anv_affiliation = nat_urban_drain }

	set_temp_variable = { nat_rural_drain = 1 }

	multiply_temp_variable = { nat_rural_drain = rural_nat_affiliation }
	multiply_temp_variable = { nat_rural_drain = temp_nat_to_anv }
	subtract_from_variable = { rural_nat_affiliation = nat_rural_drain }
	add_to_variable = { rural_anv_affiliation = nat_rural_drain }

	set_temp_variable = { nat_union_drain = 1 }

	multiply_temp_variable = { nat_union_drain = union_nat_affiliation }
	multiply_temp_variable = { nat_union_drain = temp_nat_to_anv }
	subtract_from_variable = { union_nat_affiliation = nat_union_drain }
	add_to_variable = { union_anv_affiliation = nat_union_drain }

	set_temp_variable = { nat_nativists_drain = 1 }

	multiply_temp_variable = { nat_nativists_drain = nativists_nat_affiliation }
	multiply_temp_variable = { nat_nativists_drain = temp_nat_to_anv }
	subtract_from_variable = { nativists_nat_affiliation = nat_nativists_drain }
	add_to_variable = { nativists_anv_affiliation = nat_nativists_drain }
}
USA_keeping_the_pros_dead = {
	if = {
		limit = {
			has_country_flag = pros_dead_forever
		}
		add_to_variable = { check = 1 }
		set_temp_variable = { pro_drain_black = black_pro_affiliation }
		multiply_temp_variable = { pro_drain_black = 0.95 }
		subtract_from_variable = { black_pro_affiliation = pro_drain_black }
		if = {
			limit = {
				check_variable = { black_pro_affiliation < pro_floor_val_black }
			}
			set_variable = { black_pro_affiliation = pro_floor_val_black }
			subtract_from_temp_variable = { pro_drain_black = pro_floor_val_black }
		}
		divide_temp_variable = { pro_drain_black = 5 }

		set_temp_variable = { pro_drain_hispanic = hispanic_pro_affiliation }
		multiply_temp_variable = { pro_drain_hispanic = 0.95 }
		subtract_from_variable = { hispanic_pro_affiliation = pro_drain_hispanic }
		if = {
			limit = {
				check_variable = { hispanic_pro_affiliation < pro_floor_val_hispanic }
			}
			set_variable = { hispanic_pro_affiliation = pro_floor_val_hispanic }
			subtract_from_temp_variable = { pro_drain_hispanic = pro_floor_val_hispanic }
		}
		divide_temp_variable = { pro_drain_hispanic = 5 }

		set_temp_variable = { pro_drain_minority = minority_pro_affiliation }
		multiply_temp_variable = { pro_drain_minority = 0.95 }
		subtract_from_variable = { minority_pro_affiliation = pro_drain_minority }
		if = {
			limit = {
				check_variable = { minority_pro_affiliation < pro_floor_val_minority }
			}
			set_variable = { minority_pro_affiliation = pro_floor_val_minority }
			subtract_from_temp_variable = { pro_drain_minority = pro_floor_val_minority }
		}
		divide_temp_variable = { pro_drain_minority = 5 }

		set_temp_variable = { pro_drain_proivist = proivist_pro_affiliation }
		multiply_temp_variable = { pro_drain_proivist = 0.95 }
		subtract_from_variable = { proivist_pro_affiliation = pro_drain_proivist }
		if = {
			limit = {
				check_variable = { proivist_pro_affiliation < pro_floor_val_proivist }
			}
			set_variable = { proivist_pro_affiliation = pro_floor_val_proivist }
			subtract_from_temp_variable = { pro_drain_proivist = pro_floor_val_proivist }
		}
		divide_temp_variable = { pro_drain_proivist = 5 }

		set_temp_variable = { pro_drain_urban = urban_pro_affiliation }
		multiply_temp_variable = { pro_drain_urban = 0.95 }
		subtract_from_variable = { urban_pro_affiliation = pro_drain_urban }
		if = {
			limit = {
				check_variable = { urban_pro_affiliation < pro_floor_val_urban }
			}
			set_variable = { urban_pro_affiliation = pro_floor_val_urban }
			subtract_from_temp_variable = { pro_drain_urban = pro_floor_val_urban }
		}
		divide_temp_variable = { pro_drain_urban = 5 }

		set_temp_variable = { pro_drain_rural = rural_pro_affiliation }
		multiply_temp_variable = { pro_drain_rural = 0.95 }
		subtract_from_variable = { rural_pro_affiliation = pro_drain_rural }
		if = {
			limit = {
				check_variable = { rural_pro_affiliation < pro_floor_val_rural }
			}
			set_variable = { rural_pro_affiliation = pro_floor_val_rural }
			subtract_from_temp_variable = { pro_drain_rural = pro_floor_val_rural }
		}
		divide_temp_variable = { pro_drain_rural = 5 }

		set_temp_variable = { pro_drain_union = union_pro_affiliation }
		multiply_temp_variable = { pro_drain_union = 0.95 }
		subtract_from_variable = { union_pro_affiliation = pro_drain_union }
		if = {
			limit = {
				check_variable = { union_pro_affiliation < pro_floor_val_union }
			}
			set_variable = { union_pro_affiliation = pro_floor_val_union }
			subtract_from_temp_variable = { pro_drain_union = pro_floor_val_union }
		}
		divide_temp_variable = { pro_drain_union = 5 }

		if = {
			limit = {
				NOT = {
					has_country_flag = GLD_caught_near_max
				}
				NOT = {
					has_country_flag = GLD_caught_max
				}
			}
			add_to_variable = { black_com_affiliation = pro_drain_black }
			add_to_variable = { black_com_affiliation = pro_drain_black }
			add_to_variable = { black_com_affiliation = pro_drain_black }
			add_to_variable = { black_rep_affiliation = pro_drain_black }
			add_to_variable = { black_rep_affiliation = pro_drain_black }

			add_to_variable = { minority_com_affiliation = pro_drain_minority }
			add_to_variable = { minority_com_affiliation = pro_drain_minority }
			add_to_variable = { minority_com_affiliation = pro_drain_minority }
			add_to_variable = { minority_rep_affiliation = pro_drain_minority }
			add_to_variable = { minority_rep_affiliation = pro_drain_minority }

			add_to_variable = { hispanic_com_affiliation = pro_drain_hispanic }
			add_to_variable = { hispanic_com_affiliation = pro_drain_hispanic }
			add_to_variable = { hispanic_com_affiliation = pro_drain_hispanic }
			add_to_variable = { hispanic_rep_affiliation = pro_drain_hispanic }
			add_to_variable = { hispanic_rep_affiliation = pro_drain_hispanic }

			add_to_variable = { nativist_com_affiliation = pro_drain_nativist }
			add_to_variable = { nativist_com_affiliation = pro_drain_nativist }
			add_to_variable = { nativist_com_affiliation = pro_drain_nativist }
			add_to_variable = { nativist_rep_affiliation = pro_drain_nativist }
			add_to_variable = { nativist_rep_affiliation = pro_drain_nativist }

			add_to_variable = { urban_com_affiliation = pro_drain_urban }
			add_to_variable = { urban_com_affiliation = pro_drain_urban }
			add_to_variable = { urban_com_affiliation = pro_drain_urban }
			add_to_variable = { urban_rep_affiliation = pro_drain_urban }
			add_to_variable = { urban_rep_affiliation = pro_drain_urban }

			add_to_variable = { rural_com_affiliation = pro_drain_rural }
			add_to_variable = { rural_com_affiliation = pro_drain_rural }
			add_to_variable = { rural_com_affiliation = pro_drain_rural }
			add_to_variable = { rural_rep_affiliation = pro_drain_rural }
			add_to_variable = { rural_rep_affiliation = pro_drain_rural }

			add_to_variable = { union_com_affiliation = pro_drain_union }
			add_to_variable = { union_com_affiliation = pro_drain_union }
			add_to_variable = { union_com_affiliation = pro_drain_union }
			add_to_variable = { union_rep_affiliation = pro_drain_union }
			add_to_variable = { union_rep_affiliation = pro_drain_union }
		}
		if = {
			limit = {
				has_country_flag = GLD_caught_near_max
			}
			add_to_variable = { black_rep_affiliation = pro_drain_black }
			multiply_temp_variable = { pro_drain_black = 4 }
			add_to_variable = { black_com_affiliation = pro_drain_black }

			add_to_variable = { hispanic_rep_affiliation = pro_drain_hispanic }
			multiply_temp_variable = { pro_drain_hispanic = 4 }
			add_to_variable = { hispanic_com_affiliation = pro_drain_hispanic }

			add_to_variable = { minority_rep_affiliation = pro_drain_minority }
			multiply_temp_variable = { pro_drain_minority = 4 }
			add_to_variable = { minority_com_affiliation = pro_drain_minority }

			add_to_variable = { nativist_rep_affiliation = pro_drain_nativist }
			multiply_temp_variable = { pro_drain_nativist = 4 }
			add_to_variable = { nativist_com_affiliation = pro_drain_nativist }

			add_to_variable = { rural_rep_affiliation = pro_drain_rural }
			multiply_temp_variable = { pro_drain_rural = 4 }
			add_to_variable = { rural_com_affiliation = pro_drain_rural }

			add_to_variable = { urban_rep_affiliation = pro_drain_urban }
			multiply_temp_variable = { pro_drain_urban = 4 }
			add_to_variable = { urban_com_affiliation = pro_drain_urban }

			add_to_variable = { union_rep_affiliation = pro_drain_union }
			multiply_temp_variable = { pro_drain_union = 4 }
			add_to_variable = { union_com_affiliation = pro_drain_union }
		}
		if = {
			limit = {
				has_country_flag = GLD_caught_max
			}
			multiply_temp_variable = { pro_drain_black = 5 }
			add_to_variable = { black_com_affiliation = pro_drain_black }

			multiply_temp_variable = { pro_drain_hispanic = 5 }
			add_to_variable = { hispanic_com_affiliation = pro_drain_hispanic }

			multiply_temp_variable = { pro_drain_minority = 5 }
			add_to_variable = { minority_com_affiliation = pro_drain_minority }

			multiply_temp_variable = { pro_drain_nativist = 5 }
			add_to_variable = { nativist_com_affiliation = pro_drain_nativist }

			multiply_temp_variable = { pro_drain_urban = 5 }
			add_to_variable = { urban_com_affiliation = pro_drain_urban }

			multiply_temp_variable = { pro_drain_rural = 5 }
			add_to_variable = { rural_com_affiliation = pro_drain_rural }

			multiply_temp_variable = { pro_drain_union = 5 }
			add_to_variable = { union_com_affiliation = pro_drain_union }
		}
	}
}
USA_keeping_the_nats_dead = {
	set_temp_variable = { nat_drain_black = black_nat_affiliation }
	multiply_temp_variable = { nat_drain_black = 0.95 }
	subtract_from_variable = { black_nat_affiliation = nat_drain_black }
	if = {
		limit = {
			check_variable = { black_nat_affiliation < nat_floor_val_black }
		}
		set_variable = { black_nat_affiliation = nat_floor_val_black }
		subtract_from_temp_variable = { nat_drain_black = nat_floor_val_black }
	}
	divide_temp_variable = { nat_drain_black = 5 }

	set_temp_variable = { nat_drain_hispanic = hispanic_nat_affiliation }
	multiply_temp_variable = { nat_drain_hispanic = 0.95 }
	subtract_from_variable = { hispanic_nat_affiliation = nat_drain_hispanic }
	if = {
		limit = {
			check_variable = { hispanic_nat_affiliation < nat_floor_val_hispanic }
		}
		set_variable = { hispanic_nat_affiliation = nat_floor_val_hispanic }
		subtract_from_temp_variable = { nat_drain_hispanic = nat_floor_val_hispanic }
	}
	divide_temp_variable = { nat_drain_hispanic = 5 }

	set_temp_variable = { nat_drain_minority = minority_nat_affiliation }
	multiply_temp_variable = { nat_drain_minority = 0.95 }
	subtract_from_variable = { minority_nat_affiliation = nat_drain_minority }
	if = {
		limit = {
			check_variable = { minority_nat_affiliation < nat_floor_val_minority }
		}
		set_variable = { minority_nat_affiliation = nat_floor_val_minority }
		subtract_from_temp_variable = { nat_drain_minority = nat_floor_val_minority }
	}
	divide_temp_variable = { nat_drain_minority = 5 }

	set_temp_variable = { nat_drain_nativist = nativist_nat_affiliation }
	multiply_temp_variable = { nat_drain_nativist = 0.95 }
	subtract_from_variable = { nativist_nat_affiliation = nat_drain_nativist }
	if = {
		limit = {
			check_variable = { nativist_nat_affiliation < nat_floor_val_nativist }
		}
		set_variable = { nativist_nat_affiliation = nat_floor_val_nativist }
		subtract_from_temp_variable = { nat_drain_nativist = nat_floor_val_nativist }
	}
	divide_temp_variable = { nat_drain_nativist = 5 }

	set_temp_variable = { nat_drain_urban = urban_nat_affiliation }
	multiply_temp_variable = { nat_drain_urban = 0.95 }
	subtract_from_variable = { urban_nat_affiliation = nat_drain_urban }
	if = {
		limit = {
			check_variable = { urban_nat_affiliation < nat_floor_val_urban }
		}
		set_variable = { urban_nat_affiliation = nat_floor_val_urban }
		subtract_from_temp_variable = { nat_drain_urban = nat_floor_val_urban }
	}
	divide_temp_variable = { nat_drain_urban = 5 }

	set_temp_variable = { nat_drain_rural = rural_nat_affiliation }
	multiply_temp_variable = { nat_drain_rural = 0.95 }
	subtract_from_variable = { rural_nat_affiliation = nat_drain_rural }
	if = {
		limit = {
			check_variable = { rural_nat_affiliation < nat_floor_val_rural }
		}
		set_variable = { rural_nat_affiliation = nat_floor_val_rural }
		subtract_from_temp_variable = { nat_drain_rural = nat_floor_val_rural }
	}
	divide_temp_variable = { nat_drain_rural = 5 }

	set_temp_variable = { nat_drain_union = union_nat_affiliation }
	multiply_temp_variable = { nat_drain_union = 0.95 }
	subtract_from_variable = { union_nat_affiliation = nat_drain_union }
	if = {
		limit = {
			check_variable = { union_nat_affiliation < nat_floor_val_union }
		}
		set_variable = { union_nat_affiliation = nat_floor_val_union }
		subtract_from_temp_variable = { nat_drain_union = nat_floor_val_union }
	}
	divide_temp_variable = { nat_drain_union = 5 }

	add_to_variable = { black_dem_affiliation = nat_drain_black }
	multiply_temp_variable = { nat_drain_black = 4 }
	add_to_variable = { black_anv_affiliation = nat_drain_black }

	add_to_variable = { hispanic_dem_affiliation = nat_drain_hispanic }
	multiply_temp_variable = { nat_drain_hispanic = 4 }
	add_to_variable = { hispanic_anv_affiliation = nat_drain_hispanic }

	add_to_variable = { minority_dem_affiliation = nat_drain_minority }
	multiply_temp_variable = { nat_drain_minority = 4 }
	add_to_variable = { minority_anv_affiliation = nat_drain_minority }

	add_to_variable = { nativist_dem_affiliation = nat_drain_nativist }
	multiply_temp_variable = { nat_drain_nativist = 4 }
	add_to_variable = { nativist_anv_affiliation = nat_drain_nativist }

	add_to_variable = { rural_dem_affiliation = nat_drain_rural }
	multiply_temp_variable = { nat_drain_rural = 4 }
	add_to_variable = { rural_anv_affiliation = nat_drain_rural }

	add_to_variable = { urban_dem_affiliation = nat_drain_urban }
	multiply_temp_variable = { nat_drain_urban = 4 }
	add_to_variable = { urban_anv_affiliation = nat_drain_urban }

	add_to_variable = { union_dem_affiliation = nat_drain_union }
	multiply_temp_variable = { nat_drain_union = 4 }
	add_to_variable = { union_anv_affiliation = nat_drain_union }
}
USA_calculate_party_vote_consolidation = {
	##RDC##
	set_variable = { rdc_party_consolidation_value = 1 }
	subtract_from_variable = { rdc_party_consolidation_value = USA.rdc_unity }
	multiply_variable = { rdc_party_consolidation_value = 0.75 }

	##NPP##
	set_variable = { npp_party_consolidation_value = 1 }
	subtract_from_variable = { npp_party_consolidation_value = USA.npp_unity }
	multiply_variable = { npp_party_consolidation_value = 0.75 }

	set_variable = { npp_party_consolidation_value_rep = npp_party_consolidation_value }
	multiply_variable = { rdc_party_consolidation_value_rep = rep_results }
	divide_variable = { rdc_party_consolidation_value_rep = 100 }

	set_variable = { rdc_party_consolidation_value_dem = npp_party_consolidation_value }
	multiply_variable = { rdc_party_consolidation_value_dem = dem_results }
	divide_variable = { rdc_party_consolidation_value_dem = 100 }

	set_variable = { npp_party_consolidation_value_pro = npp_party_consolidation_value }
	multiply_variable = { npp_party_consolidation_value_pro = pro_results }
	divide_variable = { npp_party_consolidation_value_pro = 100 }

	set_variable = { npp_party_consolidation_value_nat = npp_party_consolidation_value }
	multiply_variable = { npp_party_consolidation_value_nat = nat_results }
	divide_variable = { npp_party_consolidation_value_nat = 100 }

	set_variable = { npp_party_consolidation_value_com = npp_party_consolidation_value }
	multiply_variable = { npp_party_consolidation_value_com = com_results }
	divide_variable = { npp_party_consolidation_value_com = 100 }

	set_variable = { npp_party_consolidation_value_anv = npp_party_consolidation_value }
	multiply_variable = { npp_party_consolidation_value_anv = anv_results }
	divide_variable = { npp_party_consolidation_value_anv = 100 }
	set_variable = { npp_cohesion_check_2 = npp_party_consolidation_value_anv }
}
US_hold_MOCK_senate_election_state_pops = {
	USA_set_state_party_policy_opinions = yes
	set_variable = { state_senate_results_rdc = 0 }
	set_variable = { state_senate_results_npp = 0 }

	add_to_temp_variable = { state_number_count_sen = 1 }
	set_variable = { full_deal_sen = state_number_count_sen }

	set_variable = { rdc_votes_sen_state_pops = 0 }
	set_variable = { npp_votes_sen_state_pops = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	#USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_black }
	add_to_temp_variable = { dem_raw_votes_sen = dem_black }
	add_to_temp_variable = { pro_raw_votes_sen = pro_black }
	add_to_temp_variable = { nat_raw_votes_sen = nat_black }
	add_to_temp_variable = { com_raw_votes_sen = com_black }
	add_to_temp_variable = { anv_raw_votes_sen = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	#USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes_sen = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes_sen = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes_sen = nat_hispanic }
	add_to_temp_variable = { com_raw_votes_sen = com_hispanic }
	add_to_temp_variable = { anv_raw_votes_sen = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_minority }
	add_to_temp_variable = { dem_raw_votes_sen = dem_minority }
	add_to_temp_variable = { pro_raw_votes_sen = pro_minority }
	add_to_temp_variable = { nat_raw_votes_sen = nat_minority }
	add_to_temp_variable = { com_raw_votes_sen = com_minority }
	add_to_temp_variable = { anv_raw_votes_sen = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_nativists }
	add_to_temp_variable = { dem_raw_votes_sen = dem_nativists }
	add_to_temp_variable = { pro_raw_votes_sen = pro_nativists }
	add_to_temp_variable = { nat_raw_votes_sen = nat_nativists }
	add_to_temp_variable = { com_raw_votes_sen = com_nativists }
	add_to_temp_variable = { anv_raw_votes_sen = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_urban }
	add_to_temp_variable = { dem_raw_votes_sen = dem_urban }
	add_to_temp_variable = { pro_raw_votes_sen = pro_urban }
	add_to_temp_variable = { nat_raw_votes_sen = nat_urban }
	add_to_temp_variable = { com_raw_votes_sen = com_urban }
	add_to_temp_variable = { anv_raw_votes_sen = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_PARTY_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_PARTY_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_rural }
	add_to_temp_variable = { dem_raw_votes_sen = dem_rural }
	add_to_temp_variable = { pro_raw_votes_sen = pro_rural }
	add_to_temp_variable = { nat_raw_votes_sen = nat_rural }
	add_to_temp_variable = { com_raw_votes_sen = com_rural }
	add_to_temp_variable = { anv_raw_votes_sen = anv_rural }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes_sen = rep_union }
	add_to_temp_variable = { dem_raw_votes_sen = dem_union }
	add_to_temp_variable = { pro_raw_votes_sen = pro_union }
	add_to_temp_variable = { nat_raw_votes_sen = nat_union }
	add_to_temp_variable = { com_raw_votes_sen = com_union }
	add_to_temp_variable = { anv_raw_votes_sen = anv_union }

	set_temp_variable = { RDC_policy_score = RDC_PARTY_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = NPP_PARTY_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	#USA_determine_policy_voter_afilliation_NEW_SENATE = yes

	USA_ELECTION_CODE_state_party_pref_balance_senate = yes

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes_sen = 2 }
	#divide_variable = { dem_raw_votes_sen = 2 }
	#divide_variable = { pro_raw_votes_sen = 2 }
	#divide_variable = { nat_raw_votes_sen = 2 }
	#divide_variable = { com_raw_votes_sen = 2 }
	#divide_variable = { anv_raw_votes_sen = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs_sen = rep_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = dem_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = pro_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = nat_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = com_raw_votes_sen }
	#add_to_temp_variable = { voter_combs_sen = anv_raw_votes_sen }

	set_variable = { votes_total_rep = rep_raw_votes_sen }
	set_variable = { votes_total_dem = dem_raw_votes_sen }
	set_variable = { votes_total_nat = nat_raw_votes_sen }
	set_variable = { votes_total_pro = pro_raw_votes_sen }
	set_variable = { votes_total_anv = anv_raw_votes_sen }
	set_variable = { votes_total_com = com_raw_votes_sen }

	set_variable = { votes_total_before_rdc = rdc_votes_sen_state_pops }
	set_variable = { votes_total_before_npp = npp_votes_sen_state_pops }

	set_variable = { votes_total_rep_2 = rep_raw_votes_sen }
	set_variable = { votes_total_dem_2 = dem_raw_votes_sen }
	set_variable = { votes_total_nat_2 = nat_raw_votes_sen }
	set_variable = { votes_total_pro_2 = pro_raw_votes_sen }
	set_variable = { votes_total_anv_2 = anv_raw_votes_sen }
	set_variable = { votes_total_com_2 = com_raw_votes_sen }

	if = {
		limit = {
			USA = {
				has_country_flag = USA_flag_nixon_CRA_vetoed
				check_variable = { USA_GUI_no_of_senate_elections = 1 }
			}
			has_state_flag = pro_can_sen
		}
		multiply_variable = { votes_total_pro_2 = 1.1 }
	}

	if = {
		limit = {
			USA = {
				has_country_flag = USA_civil_rights_passed
				check_variable = { USA_GUI_no_of_senate_elections = 1 }
			}
			has_state_flag = nat_can_sen
		}
		multiply_variable = { votes_total_nat_2 = 1.1 }
	}
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_rep_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_dem_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_nat_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_pro_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_anv_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_anv_2 = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { votes_total_com_2 = USA_party_pop_multiplier }

	set_variable = { REP_STATE_PCT = votes_total_rep_2 }
	set_variable = { DEM_STATE_PCT = votes_total_dem_2 }
	set_variable = { COM_STATE_PCT = votes_total_com_2 }
	set_variable = { PRO_STATE_PCT = votes_total_pro_2 }
	set_variable = { NAT_STATE_PCT = votes_total_nat_2 }
	set_variable = { ANV_STATE_PCT = votes_total_anv_2 }
}
US_hold_presidential_election_polling_for_state_pops = {
	add_to_temp_variable = { state_number_count = 1 }
	set_variable = { full_deal = state_number_count }

	set_variable = { rdc_votes = 0 }
	set_variable = { npp_votes = 0 }
	# black
	set_temp_variable = { black_voters = voter_role }
	multiply_temp_variable = { black_voters = black_pop } # % of voter role

	set_temp_variable = { state_black_turnout = USA.black_turnout }
	USA_ELECTION_CODE_black_turnout_adjust = yes

	multiply_temp_variable = { black_voters = state_black_turnout }

	set_temp_variable = { policy_prune = black_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	set_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { black_voters = remainder_voters }

	set_temp_variable = { rep_black = black_voters }
	set_temp_variable = { dem_black = black_voters }
	set_temp_variable = { pro_black = black_voters }
	set_temp_variable = { nat_black = black_voters }
	set_temp_variable = { com_black = black_voters }
	set_temp_variable = { anv_black = black_voters }

	multiply_temp_variable = { rep_black = USA.black_rep_affiliation }
	multiply_temp_variable = { dem_black = USA.black_dem_affiliation }
	multiply_temp_variable = { pro_black = USA.black_pro_affiliation }
	multiply_temp_variable = { nat_black = USA.black_nat_affiliation }
	multiply_temp_variable = { com_black = USA.black_com_affiliation }
	multiply_temp_variable = { anv_black = USA.black_anv_affiliation }

	set_temp_variable = { rep_raw_votes = rep_black }
	set_temp_variable = { dem_raw_votes = dem_black }
	set_temp_variable = { pro_raw_votes = pro_black }
	set_temp_variable = { nat_raw_votes = nat_black }
	set_temp_variable = { com_raw_votes = com_black }
	set_temp_variable = { anv_raw_votes = anv_black }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.black_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# hispanic
	set_temp_variable = { hispanic_voters = voter_role }
	multiply_temp_variable = { hispanic_voters = hispanic_pop } # % of voter role
	set_temp_variable = { state_hispanic_turnout = USA.hispanic_turnout }

	USA_ELECTION_CODE_hispanic_turnout_adjust = yes

	multiply_temp_variable = { hispanic_voters = state_hispanic_turnout }

	set_temp_variable = { policy_prune = hispanic_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { hispanic_voters = remainder_voters }

	set_temp_variable = { rep_hispanic = hispanic_voters }
	set_temp_variable = { dem_hispanic = hispanic_voters }
	set_temp_variable = { pro_hispanic = hispanic_voters }
	set_temp_variable = { nat_hispanic = hispanic_voters }
	set_temp_variable = { com_hispanic = hispanic_voters }
	set_temp_variable = { anv_hispanic = hispanic_voters }

	multiply_temp_variable = { rep_hispanic = USA.hispanic_rep_affiliation }
	multiply_temp_variable = { dem_hispanic = USA.hispanic_dem_affiliation }
	multiply_temp_variable = { pro_hispanic = USA.hispanic_pro_affiliation }
	multiply_temp_variable = { nat_hispanic = USA.hispanic_nat_affiliation }
	multiply_temp_variable = { com_hispanic = USA.hispanic_com_affiliation }
	multiply_temp_variable = { anv_hispanic = USA.hispanic_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_hispanic }
	add_to_temp_variable = { dem_raw_votes = dem_hispanic }
	add_to_temp_variable = { pro_raw_votes = pro_hispanic }
	add_to_temp_variable = { nat_raw_votes = nat_hispanic }
	add_to_temp_variable = { com_raw_votes = com_hispanic }
	add_to_temp_variable = { anv_raw_votes = anv_hispanic }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.hispanic_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# minority
	set_temp_variable = { minority_voters = voter_role }
	multiply_temp_variable = { minority_voters = minority_pop } # % of voter role
	set_temp_variable = { state_minority_turnout = USA.minority_turnout }

	USA_ELECTION_CODE_minority_turnout_adjust = yes

	multiply_temp_variable = { minority_voters = state_minority_turnout }

	set_temp_variable = { policy_prune = minority_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { minority_voters = remainder_voters }

	set_temp_variable = { rep_minority = minority_voters }
	set_temp_variable = { dem_minority = minority_voters }
	set_temp_variable = { pro_minority = minority_voters }
	set_temp_variable = { nat_minority = minority_voters }
	set_temp_variable = { com_minority = minority_voters }
	set_temp_variable = { anv_minority = minority_voters }

	multiply_temp_variable = { rep_minority = USA.minority_rep_affiliation }
	multiply_temp_variable = { dem_minority = USA.minority_dem_affiliation }
	multiply_temp_variable = { pro_minority = USA.minority_pro_affiliation }
	multiply_temp_variable = { nat_minority = USA.minority_nat_affiliation }
	multiply_temp_variable = { com_minority = USA.minority_com_affiliation }
	multiply_temp_variable = { anv_minority = USA.minority_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_minority }
	add_to_temp_variable = { dem_raw_votes = dem_minority }
	add_to_temp_variable = { pro_raw_votes = pro_minority }
	add_to_temp_variable = { nat_raw_votes = nat_minority }
	add_to_temp_variable = { com_raw_votes = com_minority }
	add_to_temp_variable = { anv_raw_votes = anv_minority }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.minority_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# nativists
	set_temp_variable = { nativists_voters = voter_role }
	multiply_temp_variable = { nativists_voters = nativists_pop } # % of voter role
	set_temp_variable = { state_nativists_turnout = USA.nativists_turnout }

	USA_ELECTION_CODE_nativists_turnout_adjust = yes

	multiply_temp_variable = { nativists_voters = state_nativists_turnout }

	set_temp_variable = { policy_prune = nativists_voters }
	multiply_temp_variable = { policy_prune = USA.USA_civil_rights_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_civil_rights_importance } # sub issue for remainder

	multiply_temp_variable = { nativists_voters = remainder_voters }

	set_temp_variable = { rep_nativists = nativists_voters }
	set_temp_variable = { dem_nativists = nativists_voters }
	set_temp_variable = { pro_nativists = nativists_voters }
	set_temp_variable = { nat_nativists = nativists_voters }
	set_temp_variable = { com_nativists = nativists_voters }
	set_temp_variable = { anv_nativists = nativists_voters }

	multiply_temp_variable = { rep_nativists = USA.nativists_rep_affiliation }
	multiply_temp_variable = { dem_nativists = USA.nativists_dem_affiliation }
	multiply_temp_variable = { pro_nativists = USA.nativists_pro_affiliation }
	multiply_temp_variable = { nat_nativists = USA.nativists_nat_affiliation }
	multiply_temp_variable = { com_nativists = USA.nativists_com_affiliation }
	multiply_temp_variable = { anv_nativists = USA.nativists_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_nativists }
	add_to_temp_variable = { dem_raw_votes = dem_nativists }
	add_to_temp_variable = { pro_raw_votes = pro_nativists }
	add_to_temp_variable = { nat_raw_votes = nat_nativists }
	add_to_temp_variable = { com_raw_votes = com_nativists }
	add_to_temp_variable = { anv_raw_votes = anv_nativists }

	set_temp_variable = { RDC_policy_score = USA.RDC_civil_rights_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_civil_rights_policy }
	set_temp_variable = { group_policy_score = USA.nativists_civil_rights_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# urban
	set_temp_variable = { urban_voters = voter_role }
	multiply_temp_variable = { urban_voters = urban_pop } # % of voter role
	set_temp_variable = { state_urban_turnout = USA.urban_turnout }

	USA_ELECTION_CODE_urban_turnout_adjust = yes

	multiply_temp_variable = { urban_voters = state_urban_turnout }

	set_temp_variable = { policy_prune = urban_voters }
	multiply_temp_variable = { policy_prune = USA.USA_domestic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_domestic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { urban_voters = remainder_voters }

	set_temp_variable = { rep_urban = urban_voters }
	set_temp_variable = { dem_urban = urban_voters }
	set_temp_variable = { pro_urban = urban_voters }
	set_temp_variable = { nat_urban = urban_voters }
	set_temp_variable = { com_urban = urban_voters }
	set_temp_variable = { anv_urban = urban_voters }

	multiply_temp_variable = { rep_urban = USA.urban_rep_affiliation }
	multiply_temp_variable = { dem_urban = USA.urban_dem_affiliation }
	multiply_temp_variable = { pro_urban = USA.urban_pro_affiliation }
	multiply_temp_variable = { nat_urban = USA.urban_nat_affiliation }
	multiply_temp_variable = { com_urban = USA.urban_com_affiliation }
	multiply_temp_variable = { anv_urban = USA.urban_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_urban }
	add_to_temp_variable = { dem_raw_votes = dem_urban }
	add_to_temp_variable = { pro_raw_votes = pro_urban }
	add_to_temp_variable = { nat_raw_votes = nat_urban }
	add_to_temp_variable = { com_raw_votes = com_urban }
	add_to_temp_variable = { anv_raw_votes = anv_urban }

	set_temp_variable = { RDC_policy_score = USA.RDC_domestic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_domestic_policy_policy }
	set_temp_variable = { group_policy_score = USA.urban_domestic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# rural
	set_temp_variable = { rural_voters = voter_role }
	multiply_temp_variable = { rural_voters = rural_pop } # % of voter role
	set_temp_variable = { state_rural_turnout = USA.rural_turnout }

	USA_ELECTION_CODE_rural_turnout_adjust = yes

	multiply_temp_variable = { rural_voters = state_rural_turnout }

	set_temp_variable = { policy_prune = rural_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { rural_voters = remainder_voters }

	set_temp_variable = { rep_rural = rural_voters }
	set_temp_variable = { dem_rural = rural_voters }
	set_temp_variable = { pro_rural = rural_voters }
	set_temp_variable = { nat_rural = rural_voters }
	set_temp_variable = { com_rural = rural_voters }
	set_temp_variable = { anv_rural = rural_voters }

	multiply_temp_variable = { rep_rural = USA.rural_rep_affiliation }
	multiply_temp_variable = { dem_rural = USA.rural_dem_affiliation }
	multiply_temp_variable = { pro_rural = USA.rural_pro_affiliation }
	multiply_temp_variable = { nat_rural = USA.rural_nat_affiliation }
	multiply_temp_variable = { com_rural = USA.rural_com_affiliation }
	multiply_temp_variable = { anv_rural = USA.rural_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_rural }
	add_to_temp_variable = { dem_raw_votes = dem_rural }
	add_to_temp_variable = { pro_raw_votes = pro_rural }
	add_to_temp_variable = { nat_raw_votes = nat_rural }
	add_to_temp_variable = { com_raw_votes = com_rural }
	add_to_temp_variable = { anv_raw_votes = anv_rural }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.rural_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	# union
	set_temp_variable = { union_voters = voter_role }
	multiply_temp_variable = { union_voters = union_pop } # % of voter role
	set_temp_variable = { state_union_turnout = USA.union_turnout }

	USA_ELECTION_CODE_union_turnout_adjust = yes

	multiply_temp_variable = { union_voters = state_union_turnout }

	set_temp_variable = { policy_prune = union_voters }
	multiply_temp_variable = { policy_prune = USA.USA_economic_policy_importance } # issue important to group
	add_to_temp_variable = { policy_voters = policy_prune } # remember to change to add post-black

	set_temp_variable = { remainder_voters = 1 }
	subtract_from_temp_variable = { remainder_voters = USA.USA_economic_policy_importance } # sub issue for remainder

	multiply_temp_variable = { union_voters = remainder_voters }

	set_temp_variable = { rep_union = union_voters }
	set_temp_variable = { dem_union = union_voters }
	set_temp_variable = { pro_union = union_voters }
	set_temp_variable = { nat_union = union_voters }
	set_temp_variable = { com_union = union_voters }
	set_temp_variable = { anv_union = union_voters }

	multiply_temp_variable = { rep_union = USA.union_rep_affiliation }
	multiply_temp_variable = { dem_union = USA.union_dem_affiliation }
	multiply_temp_variable = { pro_union = USA.union_pro_affiliation }
	multiply_temp_variable = { nat_union = USA.union_nat_affiliation }
	multiply_temp_variable = { com_union = USA.union_com_affiliation }
	multiply_temp_variable = { anv_union = USA.union_anv_affiliation }

	add_to_temp_variable = { rep_raw_votes = rep_union }
	add_to_temp_variable = { dem_raw_votes = dem_union }
	add_to_temp_variable = { pro_raw_votes = pro_union }
	add_to_temp_variable = { nat_raw_votes = nat_union }
	add_to_temp_variable = { com_raw_votes = com_union }
	add_to_temp_variable = { anv_raw_votes = anv_union }

	set_temp_variable = { RDC_policy_score = USA.RDC_economic_policy_policy }
	set_temp_variable = { NPP_policy_score = USA.NPP_economic_policy_policy }
	set_temp_variable = { group_policy_score = USA.union_economic_policy_opinion }
	if = {
		limit = {
			check_variable = {
				var = RDC_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
			multiply_temp_variable = { RDC_policy_score = -1 }
			add_to_temp_variable = { RDC_policy_score = 10 }
			set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { RDC_policy_score = group_policy_score }
		add_to_temp_variable = { RDC_policy_score = 10 }
		set_temp_variable = { RDC_policy_score_origin = RDC_policy_score }
	}
	if = {
		limit = {
			check_variable = {
				var = NPP_policy_score
				value = group_policy_score
				compare = greater_than
			}
			subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
			multiply_temp_variable = { NPP_policy_score = -1 }
			add_to_temp_variable = { NPP_policy_score = 10 }
			set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		}
	}
	else = {
		subtract_from_temp_variable = { NPP_policy_score = group_policy_score }
		add_to_temp_variable = { NPP_policy_score = 10 }
		set_temp_variable = { NPP_policy_score_origin = NPP_policy_score }
		set_variable = { check_here_die = NPP_policy_score_origin }
	}
	USA_determine_policy_voter_afilliation_NEW = yes

	############################
	# Unity
	set_temp_variable = { rdc_cohesion = USA.rdc_unity }
	subtract_from_temp_variable = { rdc_cohesion = 0.15 } # balenac
	clamp_temp_variable = {
		var = rdc_cohesion
		min = 0
		max = 1
	}
	set_temp_variable = { npp_cohesion = USA.npp_unity }
	set_temp_variable = { npp_cohesion_flounders_1 = USA.npp_unity }

	multiply_temp_variable = { npp_cohesion_flounders_1 = 0.95 }

	add_to_temp_variable = { npp_cohesion = 0.15 }

	clamp_temp_variable = {
		var = npp_cohesion
		min = 0
		max = 1
	}

	# flounders dont get this....

	subtract_from_temp_variable = { rdc_cohesion = 1 }
	multiply_temp_variable = { rdc_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion = 1 }
	multiply_temp_variable = { npp_cohesion = -1 }
	subtract_from_temp_variable = { npp_cohesion_flounders_1 = 1 }
	multiply_temp_variable = { npp_cohesion_flounders_1 = -1 }
	set_temp_variable = { npp_cohesion_flounders_2 = npp_cohesion_flounders_1 }
	set_temp_variable = { npp_cohesion_flounders_3 = npp_cohesion_flounders_1 }

	# state party make up

	USA_ELECTION_CODE_state_party_pref_balance = yes

	set_temp_variable = { eff_voter_role_pres = rep_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = dem_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = pro_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = nat_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = com_raw_votes }
	add_to_temp_variable = { eff_voter_role_pres = anv_raw_votes }

	set_variable = { state_rep_make_up_pres = rep_raw_votes }
	set_variable = { state_dem_make_up_pres = dem_raw_votes }
	set_variable = { state_pro_make_up_pres = pro_raw_votes }
	set_variable = { state_nat_make_up_pres = nat_raw_votes }
	set_variable = { state_com_make_up_pres = com_raw_votes }
	set_variable = { state_anv_make_up_pres = anv_raw_votes }

	# cute voter role in half, I dont get this so im commenting it out
	#divide_variable = { rep_raw_votes = 2 }
	#divide_variable = { dem_raw_votes = 2 }
	#divide_variable = { pro_raw_votes = 2 }
	#divide_variable = { nat_raw_votes = 2 }
	#divide_variable = { com_raw_votes = 2 }
	#divide_variable = { anv_raw_votes = 2 }

	# So balancing can take place ig

	#add_to_temp_variable = { voter_combs = rep_raw_votes }
	#add_to_temp_variable = { voter_combs = dem_raw_votes }
	#add_to_temp_variable = { voter_combs = pro_raw_votes }
	#add_to_temp_variable = { voter_combs = nat_raw_votes }
	#add_to_temp_variable = { voter_combs = com_raw_votes }
	#add_to_temp_variable = { voter_combs = anv_raw_votes }

	# tally num 1
	if = {
		limit = {
			USA = { has_country_flag = rep_can_pres }
		}
		add_to_variable = { rdc_votes = rep_raw_votes }

		multiply_temp_variable = { rdc_cohesion = dem_raw_votes }
		subtract_from_temp_variable = { dem_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = pro_can_pres }
			}
			divide_temp_variable = { dem_raw_votes = 5 }
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_variable = { npp_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = dem_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}
	else_if = {
		limit = {
			USA = { has_country_flag = dem_can_pres }
		}
		add_to_variable = { rdc_votes = dem_raw_votes }

		multiply_temp_variable = { rdc_cohesion = rep_raw_votes }
		subtract_from_temp_variable = { rep_raw_votes = rdc_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = nat_can_pres }
			}
			divide_temp_variable = { rep_raw_votes = 5 }
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_variable = { npp_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
		else = {
			add_to_variable = { rdc_votes = rep_raw_votes }
			add_to_temp_variable = { tossed_votes = rdc_cohesion }
		}
	}

	if = {
		limit = {
			USA = { has_country_flag = pro_can_pres }
		}
		add_to_variable = { npp_votes = pro_raw_votes }

		# nat
		multiply_temp_variable = { npp_cohesion = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = rep_can_pres }
			}
			divide_temp_variable = { nat_raw_votes = 5 }
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_variable = { rdc_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = nat_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

	}
	else_if = {
		limit = {
			USA = { has_country_flag = nat_can_pres }
		}
		add_to_variable = { npp_votes = nat_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion }

		if = {
			limit = {
				USA = { has_country_flag = dem_can_pres }
			}
			divide_temp_variable = { pro_raw_votes = 5 }
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_variable = { rdc_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}
		else = {
			add_to_variable = { npp_votes = pro_raw_votes }
			add_to_temp_variable = { tossed_votes = npp_cohesion }
		}

		# com
		multiply_temp_variable = { npp_cohesion_flounders_1 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_2 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }
	}

	# all math is flounder in extremist elections !
	else_if = {
		limit = {
			USA = { has_country_flag = com_can_pres }
		}
		add_to_variable = { npp_votes = com_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# anv
		multiply_temp_variable = { npp_cohesion_flounders_3 = anv_raw_votes }
		subtract_from_temp_variable = { anv_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = anv_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}
	else_if = {
		limit = {
			USA = { has_country_flag = anv_can_pres }
		}
		add_to_variable = { npp_votes = anv_raw_votes }

		# pro
		multiply_temp_variable = { npp_cohesion_flounders_1 = pro_raw_votes }
		subtract_from_temp_variable = { pro_raw_votes = npp_cohesion_flounders_1 }

		add_to_variable = { npp_votes = pro_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_1 }

		# nat
		multiply_temp_variable = { npp_cohesion_flounders_2 = nat_raw_votes }
		subtract_from_temp_variable = { nat_raw_votes = npp_cohesion_flounders_2 }

		add_to_variable = { npp_votes = nat_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_2 }

		# com
		multiply_temp_variable = { npp_cohesion_flounders_3 = com_raw_votes }
		subtract_from_temp_variable = { com_raw_votes = npp_cohesion_flounders_3 }

		add_to_variable = { npp_votes = com_raw_votes }
		add_to_temp_variable = { tossed_votes = npp_cohesion_flounders_3 }
	}

	# cross party votes
	divide_temp_variable = { tossed_votes = 4 }
	set_temp_variable = { npp_to_rdc = tossed_votes }
	set_temp_variable = { rdc_to_npp = tossed_votes }
	set_temp_variable = { rdc_traitors = USA.rdc_unity }
	set_temp_variable = { npp_traitors = USA.npp_unity }
	subtract_from_temp_variable = { rdc_traitors = 1 }
	subtract_from_temp_variable = { npp_traitors = 1 }
	multiply_temp_variable = { rdc_traitors = -1 }
	multiply_temp_variable = { npp_traitors = -1 }

	multiply_temp_variable = { rdc_traitors = rdc_to_npp }
	multiply_temp_variable = { npp_traitors = npp_to_rdc }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	# policy voter comb
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_civil_rights_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_economic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_domestic_policy }
	add_to_temp_variable = { rdc_policy_alignment = USA.RDC_foreign_policy }
	divide_temp_variable = { rdc_policy_alignment = 4 }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_civil_rights_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_economic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_domestic_policy }
	add_to_temp_variable = { npp_policy_alignment = USA.NPP_foreign_policy }
	divide_temp_variable = { npp_policy_alignment = 4 }
	add_to_temp_variable = { nat_policy_alignment = USA.national_civil_rights_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_economic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_domestic_policy }
	add_to_temp_variable = { nat_policy_alignment = USA.national_foreign_policy }
	divide_temp_variable = { nat_policy_alignment = 4 }

	subtract_from_temp_variable = { rdc_policy_alignment = nat_policy_alignment }
	subtract_from_temp_variable = { npp_policy_alignment = nat_policy_alignment }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}
	subtract_from_temp_variable = { rdc_policy_alignment = 1 }
	subtract_from_temp_variable = { npp_policy_alignment = 1 }
	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { rdc_policy_alignment = -1 }
	}
	if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = 0
				compare = less_than
			}
		}
		multiply_temp_variable = { npp_policy_alignment = -1 }
	}

	divide_temp_variable = { rdc_policy_alignment = 20 }
	divide_temp_variable = { npp_policy_alignment = 20 }
	set_temp_variable = { part_a = rdc_policy_alignment }
	add_to_temp_variable = { part_a = npp_policy_alignment }
	set_temp_variable = { part_b = 1 }
	subtract_from_temp_variable = { part_b = part_a }

	if = {
		limit = {
			check_variable = {
				var = rdc_policy_alignment
				value = npp_policy_alignment
				compare = greater_than_or_equals
			}
		}
		add_to_temp_variable = { rdc_policy_alignment = part_b }
	}
	else_if = {
		limit = {
			check_variable = {
				var = npp_policy_alignment
				value = rdc_policy_alignment
				compare = greater_than
			}
		}
		add_to_temp_variable = { npp_policy_alignment = part_b }
	}

	set_variable = { checkthis1 = rdc_policy_alignment }
	set_variable = { checkthis2 = npp_policy_alignment }
	set_variable = { checkthis3 = policy_voters }

	multiply_temp_variable = { policy_voters = 0.96 }
	multiply_temp_variable = { rdc_policy_alignment = policy_voters }
	multiply_temp_variable = { npp_policy_alignment = policy_voters }
	set_variable = { checkthis = rdc_policy_alignment }
	add_to_variable = { rdc_votes = rdc_policy_alignment }
	add_to_variable = { npp_votes = npp_policy_alignment }

	add_to_variable = { rdc_votes = npp_to_rdc }
	add_to_variable = { npp_votes = rdc_to_npp }

	if = {
		limit = {
			USA = {
				is_ai = no
			}
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_RD
				}
			}
			multiply_variable = { rdc_votes = 1.02 }
		}
		if = {
			limit = {
				USA = {
					has_country_flag = USA_campaigning_for_NPP
				}
			}
			multiply_variable = { npp_votes = 1.02 }
		}
	}

	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { rdc_votes = USA_party_pop_multiplier }
	randomize_variable = {
		var = USA_party_pop_multiplier
		distribution = uniform
		min = 0.9
		max = 1.1
	}
	multiply_variable = { npp_votes = USA_party_pop_multiplier }

	set_variable = { state_pres_results_rdc_numbs = rdc_votes }
	set_variable = { state_pres_results_npp_numbs = npp_votes }

	#set_variable = { rdc_votes = 0 }
	#set_variable = { npp_votes = 0 }
}