INS_ICW_spawn_all_tags = {
	set_global_flag = TNO_indonesian_civil_war_ongoing
	INS = {
		set_cosmetic_tag = INS_ICW
		delete_unit_template_and_units = {
			division_template = "Divisi Infanteri"
			disband = no
		}
		delete_unit_template_and_units = {
			division_template = "Divisi Infanteri Sumatra"
			disband = no
		}
		delete_unit_template_and_units = {
			division_template = "Brigade Infanteri KOSTRAD"
			disband = no
		}
		delete_unit_template_and_units = {
			division_template = "Brigade Infanteri Mekanis"
			disband = no
		}
		delete_unit_template_and_units = {
			division_template = "Pasukan Marinir"
			disband = no
		}
		delete_unit_template_and_units = {
			division_template = "Brigade Komando Territorium"
			disband = no
		}
		leave_faction = yes
		set_variable = { global.ICW_phase = 1 }
		set_variable = { global.ICW_escalation = 25 }
		set_variable = { USA.ICW_discontent = 25 }
		set_variable = { JAP.ICW_discontent = 25 }
		set_country_leader_description = { desc = "POLITICS_SUKARNO_ICW_DESC" }
		add_to_array = { global.INS_soekarnoite_faction = THIS }

		remove_ideas = Sphere_Economic_Dependent
		add_ideas = INS_leader

		INS_Basuki_Rachmat = {
			add_corps_commander_role = {
				traits = { politically_connected career_officer }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 2
				logistics_skill = 4
			}
		}
		INS_Ibnu_Sutowo = {
			add_corps_commander_role = {
				traits = { politically_connected media_personality }
				skill = 3
				attack_skill = 3
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
			}
		}

		remove_ideas = {
			INS_IKKC
			INS_Dwitungal
			INS_Eight_Years_Development_Plan
		}
		add_ideas = {
			INS_The_Year_of_Living_Dangerously
			INS_On_Land_Sea_and_Air
			INS_Tokyos_Lifeline
		}
	}
	INS_ICW_spawn_SRB = yes
	INS_ICW_spawn_MKS = yes
	INS_ICW_spawn_BKB = yes
	INS_ICW_spawn_FRI = yes
	INS_ICW_spawn_DMP = yes
	INS_ICW_spawn_DMS = yes
	INS_ICW_spawn_PMT = yes
	INS_ICW_spawn_SLS = yes
	INS_ICW_spawn_NII = yes
	INS_ICW_spawn_ABD = yes
	INS_ICW_spawn_JJK = yes
	INS = {
		create_faction = NKRI
		load_oob = INS_ICW
		add_to_faction = SRB
		add_to_faction = MKS
		add_to_faction = BKB
	}
	FRI = {
		create_faction = Front_Indonesia_Merdeka
		add_to_faction = DMP
		add_to_faction = DMS
		add_to_faction = PMT
		add_to_faction = SLS
		add_to_faction = NII
		add_to_faction = ABD
	}
	JAP = {
		transfer_state = 523
		transfer_state = 1332
		set_variable = { JAP_INS_max_bombings = 1 }
	}
	USA = {
		set_variable = { USA_INS_max_bombings = 1 }
	}

	if = { ##Rigs ICW Timing for the Guangdong Player to use PTRG
		limit = {
			GNG = {
				is_ai = no
			}
		}
		country_event = {
			id = INS_GNG_helper.1
			days = 90
		}
	}

	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		set_variable = { INS.ICW_army_org_factor = -0.15 }
		set_variable = { INS.ICW_army_morale_factor = -0.1 }
		set_variable = { INS.ICW_army_attack_factor = -0.1 }
		set_variable = { INS.ICW_army_core_defence_factor = -0.025 }
		set_variable = { INS.ICW_recon_factor = -0.025 }
		set_variable = { INS.ICW_command_power_gain_mult = -0.025 }
		set_variable = { INS.ICW_army_speed_factor = -0.1 }
		set_variable = { INS.ICW_breakthrough_factor = -0.1 }
		add_dynamic_modifier = { modifier = INS_state_of_the_army }
		add_dynamic_modifier = { modifier = INS_japanese_industrial_support }
		force_update_dynamic_modifier = yes
	}

	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		set_variable = { FRI.ICW_army_org_factor = -0.15 }
		set_variable = { FRI.ICW_army_morale_factor = -0.05 }
		set_variable = { FRI.ICW_army_attack_factor = -0.1 }
		set_variable = { FRI.ICW_army_core_defence_factor = -0.025 }
		set_variable = { FRI.ICW_recon_factor = -0.025 }
		set_variable = { FRI.ICW_command_power_gain_mult = -0.05 }
		set_variable = { FRI.ICW_army_speed_factor = -0.15 }
		set_variable = { FRI.ICW_breakthrough_factor = -0.1 }
		add_dynamic_modifier = { modifier = FRI_state_of_the_army }
		force_update_dynamic_modifier = yes
	}
}

INS_ICW_spawn_SRB = {
	SRB = {
		transfer_state = 797
		add_state_core = 797
		transfer_state = 1757
		add_state_core = 1757
		set_capital = {
			state = 797
			remember_old_capital = no
		}
		INS = {
			INS_Sungkono = {
				remove_unit_leader_role = yes
				add_field_marshal_role = {
					traits = { old_guard war_hero }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 2
				}
				set_nationality = SRB
			}
			INS_Sumitro = {
				set_nationality = SRB
			}
			INS_Bambang_Sugeng = {
				add_corps_commander_role = {
					traits = { old_guard war_hero }
					skill = 2
					attack_skill = 4
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 2
				}
				set_nationality = SRB
			}
			INS_M_Sarbini = {
				add_corps_commander_role = {
					traits = { politically_connected war_hero }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 2
				}
				set_nationality = SRB
			}
			INS_H_Sudirman = {
				add_corps_commander_role = {
					traits = { old_guard war_hero }
					skill = 3
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = SRB
			}
			INS_Hartono_Rekso_Dharsono = {
				set_nationality = SRB
			}
			INS_Guerrilla_Command = {
				set_nationality = SRB
			}
			INS_Idham_Chalid = {
				set_nationality = SRB
			}
			INS_Wongsonegoro = {
				set_nationality = SRB
			}
		}
		INS_Sungkono = {
			promote_character = despotism_military_junta_subtype
		}
		INS_Guerrilla_Command = {
			promote_character = communist_national_communism_subtype
			promote_character = socialist_revolutionary_frontism_subtype
		}
		INS_Idham_Chalid = {
			promote_character = conservatism_islamic_conservatism_subtype
		}
		INS_Wongsonegoro = {
			promote_character = fascism_revolutionary_nationalism_subtype
		}
		add_to_array = { global.INS_soekarnoite_faction = THIS }
		load_oob = INS_SRB_ICW
		add_ideas = INS_loyalist
	}
}

INS_ICW_spawn_MKS = {
	MKS = {
		add_state_core = 1557
		add_state_core = 673
		add_state_core = 822
		add_state_core = 823
		transfer_state = 1557
		transfer_state = 673
		transfer_state = 822
		transfer_state = 823
		set_capital = {
			state = 1557
			remember_old_capital = no
		}
		INS = {
			INS_Andi_Mattalatta = {
				add_field_marshal_role = {
					traits = { media_personality }
					skill = 2
					attack_skill = 1
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
				set_nationality = MKS
			}
			INS_Solihin_Purwanegara = {
				add_corps_commander_role = {
					traits = { career_officer }
					skill = 2
					attack_skill = 2
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 1
				}
				set_nationality = MKS
			}
			INS_M_Jusuf = {
				add_corps_commander_role = {
					traits = { politically_connected brilliant_strategist }
					skill = 4
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 4
				}
				set_nationality = MKS
			}
			INS_Andi_Pangerang = {
				set_nationality = MKS
			}
			INS_Guerrilla_Command_2 = {
				set_nationality = MKS
			}
		}
		INS_Andi_Pangerang = {
			promote_character = paternalism_provisional_government_subtype
		}
		INS_M_Jusuf = {
			promote_character = despotism_military_junta_subtype
		}
		INS_Guerrilla_Command_2 = {
			promote_character = ultranationalism_fundamentalism_subtype
		}
		add_to_array = { global.INS_soekarnoite_faction = THIS }
		load_oob = INS_MKS_ICW
		add_ideas = INS_loyalist
	}
}

INS_ICW_spawn_BKB = {
	BKB = {
		add_state_core = 1764
		add_state_core = 1771
		add_state_core = 1765
		transfer_state = 1764
		transfer_state = 1771
		transfer_state = 1765
		set_capital = {
			state = 1764
			remember_old_capital = no
		}
		INS = {
			INS_Abdul_Manaf_Lubis = {
				add_field_marshal_role = {
					traits = { career_officer harsh_leader }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				set_nationality = BKB
			}
			INS_Ahmad_Yani = {
				remove_unit_leader_role = yes
				add_field_marshal_role = {
					traits = { inflexible_strategist war_hero }
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = BKB
			}
			INS_Hario_Ketjik = {
				add_corps_commander_role = {
					traits = { media_personality war_hero }
					skill = 4
					attack_skill = 4
					defense_skill = 3
					planning_skill = 1
					logistics_skill = 3
				}
				set_nationality = BKB
			}
			INS_Mukijat = {
				set_nationality = BKB
			}
		}
		INS_Abdul_Manaf_Lubis = {
			promote_character = despotism_military_junta_subtype
		}
		add_to_array = { global.INS_soekarnoite_faction = THIS }
		load_oob = INS_BKB_ICW
		add_ideas = INS_loyalist
	}
}

INS_ICW_spawn_FRI = {
	FRI = {
		add_state_core = 1767
		add_state_core = 1768
		transfer_state = 1767
		transfer_state = 1768
		set_capital = {
			state = 1767
			remember_old_capital = no
		}
		INS = {
			INS_Abdul_Haris_Nasution = {
				set_nationality = FRI
			}
			INS_Mas_Tirtodarmo_Harjono = {
				add_corps_commander_role = {
					traits = { brilliant_strategist career_officer }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 4
					logistics_skill = 2
				}
				set_nationality = FRI
			}
			INS_Suprapto = {
				add_corps_commander_role = {
					traits = { brilliant_strategist career_officer }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
				}
				set_nationality = FRI
			}
			INS_Tahi_Bonar_Simatupang = {
				remove_unit_leader_role = yes
				add_corps_commander_role = {
					traits = { trait_cautious career_officer brilliant_strategist }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 4
				}
				set_nationality = FRI
			}
			INS_Mohammad_Hatta = {
				set_nationality = FRI
			}
			INS_Mohammad_Natsir = {
				set_nationality = FRI
			}
			INS_Hadisubeno = {
				set_nationality = FRI
			}
			INS_Mohammad_Rum = {
				set_nationality = FRI
			}
			INS_Sutan_Sjahrir = {
				set_nationality = FRI
			}
			INS_Wilopo = {
				set_nationality = FRI
			}
		}
		INS_Sutan_Sjahrir = {
			promote_character = progressivism_subtype
		}
		INS_Wilopo = {
			promote_character = liberalism_progressive_liberalism_subtype
		}
		INS_Hadisubeno = {
			promote_character = liberal_conservatism_big_tent_subtype
		}
		INS_Mohammad_Natsir = {
			promote_character = conservatism_islamic_conservatism_subtype
		}
		INS_Mohammad_Hatta = {
			promote_character = paternalism_provisional_government_subtype
		}
		INS_Tahi_Bonar_Simatupang = {
			promote_character = despotism_military_junta_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_FRI_ICW
		add_ideas = {
			PRIM_leader
			FRI_spirit_of_1949
			FRI_growing_pains_rebel
			FRI_government_of_administrators
			FRI_indian_ocean_connection
			INS_Sutan_Sjahrir_hog
			INS_Mohammad_Rum_for
			INS_Wilopo_eco
			INS_Tahi_Bonar_Simatupang_sec
		}
	}
}

INS_ICW_spawn_DMP = {
	DMP = {
		add_state_core = 818
		add_state_core = 1766
		add_state_core = 1769
		add_state_core = 1770
		transfer_state = 818
		transfer_state = 1766
		transfer_state = 1769
		transfer_state = 1770
		set_capital = {
			state = 818
			remember_old_capital = no
		}
		INS = {
			INS_Ahmad_Husein = {
				add_field_marshal_role = {
					traits = { trait_cautious politically_connected }
					skill = 3
					attack_skill = 4
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 1
				}
				set_nationality = DMP
			}
			INS_Barlian = {
				add_corps_commander_role = {
					traits = { politically_connected war_hero }
					skill = 3
					attack_skill = 2
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 1
				}
				set_nationality = DMP
			}
			INS_Maludin_Simbolon = {
				add_corps_commander_role = {
					traits = { politically_connected harsh_leader }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = DMP
			}
			INS_Ismail_Lengah = {
				add_corps_commander_role = {
					traits = { war_hero old_guard }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 2
				}
				set_nationality = DMP
			}
			INS_Dahlan_Djambek = {
				add_corps_commander_role = {
					traits = { war_hero old_guard }
					skill = 4
					attack_skill = 3
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				set_nationality = DMP
			}
		}
		INS_Ahmad_Husein = {
			promote_character = despotism_military_junta_subtype
		}
		INS_Maludin_Simbolon = {
			promote_character = fascism_revolutionary_nationalism_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_DMP_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_DMS = {
	DMS = {
		add_state_core = 799
		transfer_state = 799
		set_capital = {
			state = 799
			remember_old_capital = no
		}
		INS = {
			INS_Zulkifli_Lubis = {
				remove_unit_leader_role = yes
				add_field_marshal_role = {
					traits = { brilliant_strategist trait_cautious }
					skill = 4
					attack_skill = 3
					defense_skill = 5
					planning_skill = 5
					logistics_skill = 4
				}
				set_nationality = DMS
			}
			INS_Tjilik_Riwut = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 3
					logistics_skill = 4
				}
				set_nationality = DMS
			}
			INS_Tjokropranolo = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				set_nationality = DMS
			}
			INS_Ignatius_Slamet_Rijadi = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 4
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				set_nationality = DMS
			}
			INS_Daan_Mogot = {
				add_corps_commander_role = {
					traits = { }
					skill = 2
					attack_skill = 4
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = DMS
			}
			INS_Kemal_Idris = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 4
					logistics_skill = 3
				}
				set_nationality = DMS
			}
		}
		INS_Zulkifli_Lubis = {
			promote_character = despotism_military_junta_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_DMS_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_PMT = {
	PMT = {
		add_state_core = 783
		add_state_core = 821
		add_state_core = 668
		add_state_core = 824
		add_state_core = 667
		add_state_core = 721
		add_state_core = 798
		add_state_core = 669
		add_state_core = 1331
		add_state_core = 738
		transfer_state = 783
		transfer_state = 821
		transfer_state = 668
		transfer_state = 824
		transfer_state = 667
		transfer_state = 721
		transfer_state = 798
		transfer_state = 669
		transfer_state = 1331
		transfer_state = 738
		set_capital = {
			state = 783
			remember_old_capital = no
		}
		INS = {
			INS_Alex_Kawilarang = {
				remove_unit_leader_role = yes
				add_field_marshal_role = {
					traits = { brilliant_strategist war_hero trait_cautious }
					skill = 4
					attack_skill = 5
					defense_skill = 3
					planning_skill = 5
					logistics_skill = 4
				}
				set_nationality = PMT
			}
			INS_Ventje_Sumual = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 4
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 4
				}
				set_nationality = PMT
			}
			INS_Joop_Warouw = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 4
				}
				set_nationality = PMT
			}
			INS_F_J_Tumbelaka = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = PMT
			}
			INS_Rokus_Bernardus_Visser = {
				add_corps_commander_role = {
					traits = { }
					skill = 4
					attack_skill = 4
					defense_skill = 2
					planning_skill = 4
					logistics_skill = 3
				}
				set_nationality = PMT
			}
			INS_Herman_Pieters = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 2
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 2
				}
				set_nationality = PMT
			}
			INS_Ernest_Julius_Magenda = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 3
				}
				set_nationality = PMT
			}
		}
		INS_Ventje_Sumual = {
			promote_character = despotism_military_junta_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_PMT_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_SLS = {
	SLS = {
		add_state_core = 820
		transfer_state = 820
		set_capital = {
			state = 820
			remember_old_capital = no
		}
		INS = {
			INS_Abdul_Kahar_Muzakkar = {
				add_field_marshal_role = {
					traits = { }
					skill = 5
					attack_skill = 5
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 4
				}
				set_nationality = SLS
			}
			INS_Jan_Willem_Gerungan = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 3
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 3
				}
				set_nationality = SLS
			}
		}
		INS_Abdul_Kahar_Muzakkar = {
			promote_character = ultranationalism_fundamentalism_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_SLS_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_NII = {
	NII = {
		add_state_core = 817
		transfer_state = 817
		set_capital = {
			state = 817
			remember_old_capital = no
		}
		INS = {
			INS_Teungku_Muhammad_Daud_Beureueh = {
				add_field_marshal_role = {
					traits = { }
					skill = 3
					attack_skill = 2
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 2
				}
				set_nationality = NII
			}
			INS_Hasan_di_Tiro = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 2
					defense_skill = 1
					planning_skill = 3
					logistics_skill = 4
				}
				set_nationality = NII
			}
			INS_Teungku_Iljas_Leube = {
				add_corps_commander_role = {
					traits = { }
					skill = 3
					attack_skill = 2
					defense_skill = 3
					planning_skill = 3
					logistics_skill = 1
				}
				set_nationality = NII
			}
		}
		INS_Teungku_Muhammad_Daud_Beureueh = {
			promote_character = despotism_aristocratic_conservatism_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_NII_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_ABD = {
	ABD = {
		add_state_core = 1755
		add_state_core = 335
		transfer_state = 1755
		transfer_state = 335
		set_capital = {
			state = 1755
			remember_old_capital = no
		}
		INS = {
			INS_Amir_Sjarifuddin = {
				add_field_marshal_role = {
					traits = { }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = ABD
			}
			INS_Munawar_Musso = {
				add_corps_commander_role = {
					traits = { }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 3
				}
				set_nationality = ABD
			}
			INS_Setiadjit_Sugondo = {
				add_corps_commander_role = {
					traits = { }
					skill = 2
					attack_skill = 3
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				set_nationality = ABD
			}
		}
		INS_Amir_Sjarifuddin = {
			promote_character = socialist_revolutionary_frontism_subtype
		}
		INS_Munawar_Musso = {
			promote_character = communist_national_communism_subtype
		}
		add_to_array = { global.INS_hattaite_faction = THIS }
		load_oob = INS_ABD_ICW
		add_ideas = PRIM_loyalist
	}
}

INS_ICW_spawn_JJK = {
	JJK = {
		add_state_core = 1756
		transfer_state = 1756
		set_capital = {
			state = 1756
			remember_old_capital = no
		}
		INS = {
			INS_Suharto = {
				remove_unit_leader_role = yes
				add_field_marshal_role = {
					traits = { politically_connected trait_cautious }
					skill = 3
					attack_skill = 3
					defense_skill = 3
					planning_skill = 4
					logistics_skill = 2
				}
				set_nationality = JJK
			}
			INS_Sarwo_Edhie_Wibowo = {
				add_corps_commander_role = {
					traits = { harsh_leader war_hero }
					skill = 4
					attack_skill = 3
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 4
				}
				set_nationality = JJK
			}
			INS_Sudjono_Humardani = {
				add_corps_commander_role = {
					traits = { politically_connected }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 2
				}
				set_nationality = JJK
			}
			INS_Sudharmono = {
				add_corps_commander_role = {
					traits = { politically_connected }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 2
					logistics_skill = 1
				}
				set_nationality = JJK
			}
			INS_Hamengkubuwono_IX = {
				set_nationality = JJK
			}
			INS_Frans_Seda = {
				set_nationality = JJK
			}
		}
		INS_Hamengkubuwono_IX = {
			promote_character = paternalism_social_nationalism_subtype
		}
		INS_Suharto = {
			promote_character = despotism_military_junta_subtype
		}
		add_ideas = {
			INS_Suharto_hog
			INS_Sarwo_Edhie_Wibowo_for
			INS_Frans_Seda_eco
			INS_Suharto_sec
			JJK_sultans_neutrality
		}
		load_oob = INS_JJK_ICW
	}
}

INS_ICW_change_escalation = {
	add_to_variable = { global.ICW_escalation = tempEscalation }
	set_temp_variable = { tempEscalation_tt = tempEscalation }
	if = {
		limit = { check_variable = { tempEscalation > 0 } }
		custom_effect_tooltip = INS_ICW_increase_escalation_tt
	}
	else = {
		multiply_temp_variable = { tempEscalation_tt = -1 }
		custom_effect_tooltip = INS_ICW_decrease_escalation_tt
	}
	if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_INS
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_FRI
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO
					}
					check_variable = { INS.surrender_progress > FRI.surrender_progress }
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
					}
					NOT = {
						check_variable = { INS.surrender_progress > FRI.surrender_progress }
					}
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO_LOSE
					}
					check_variable = { INS.surrender_progress > FRI.surrender_progress }
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
					}
					NOT = {
						check_variable = { INS.surrender_progress > FRI.surrender_progress }
					}
				}
			}
			check_variable = { global.ICW_phase = 3 }
			date > 1968.01.01
		}
		clamp_variable = { var = global.ICW_escalation min = 0 max = 99 }
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO
					}
					NOT = {
						check_variable = { INS.surrender_progress > FRI.surrender_progress }
					}
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
					}
					check_variable = { INS.surrender_progress > FRI.surrender_progress }
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO_LOSE
					}
					NOT = {
						check_variable = { INS.surrender_progress > FRI.surrender_progress }
					}
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
					}
					check_variable = { INS.surrender_progress > FRI.surrender_progress }
				}
			}
			check_variable = { global.ICW_phase = 3 }
		}
		set_variable = { global.ICW_escalation = 100 }
	}
	else = {
		clamp_variable = { var = global.ICW_escalation min = 0 max = 100 }
	}

	if = {
		limit = { check_variable = { global.ICW_escalation = 100 } }
		INS_ICW_escalate_conflict = yes
	}
}

INS_ICW_escalate_conflict = {
	if = { # escalation
		limit = { check_variable = { global.ICW_phase = 1 } }
		JAP = {
			country_event = { id = JAP_ICW.6 }
		}
		USA = {
			country_event = { id = USA_INS.11 }
				hidden_effect = {
				country_event = {
					id = USA_schlafly_flavor.13
					days = 11
				}
			}
		}
		set_variable = { global.ICW_phase = 2 }
		set_variable = { global.ICW_escalation = 0 }
	}
	else_if = { # open war
		limit = { check_variable = { global.ICW_phase = 2 } }
		JAP = {
			country_event = { id = JAP_ICW.7 }
			if = {
				limit = {
					is_ai = no
				}
				country_event = { id = TT_ICW_Common.300 days = 20 }
			}
		}
		USA = {
			country_event = { id = USA_INS.12 }
			if = {
				limit = {
					is_ai = no
				}
				country_event = { id = TT_ICW_Common.300 days = 20 }
			}
			hidden_effect = {
				country_event = {
					id = USA_schlafly_flavor.14
					days = 14
				}
			}
		}
		GNG = {
			country_event = {
				id = GNG_PTRG.19
				days = 5
			}
		}
		set_variable = { global.ICW_phase = 3 }
		set_variable = { global.ICW_escalation = 0 }
		INS_ICW_declare_war = yes
	}
	else_if = { # duumvirate
		limit = {
			check_variable = { global.ICW_phase = 3 }
			date > 1968.01.01
			NOT = {
				has_global_flag = TNO_INW_duumvirate_incoming
				has_global_flag = TNO_INW_duumvirate
			}
		}
		set_global_flag = TNO_INW_duumvirate_incoming
		JAP = {
			country_event = { id = TT_ICW_Common.200 days = 2 }
		}
		USA = {
			country_event = { id = TT_ICW_Common.200 days = 2 }
			hidden_effect = {
				country_event = {
					id = USA_schlafly_flavor.15
					days = 9
				}
			}
		}
		INS = { # Fire the duumvirate
			country_event = { id = INS_scripted.6 days = 92 }
		}
	}
}

INS_ICW_change_discontent = {
	add_to_variable = { ICW_discontent = tempDiscontent }
	set_temp_variable = { tempDiscontent_tt = tempDiscontent }
	if = {
		limit = { check_variable = { tempDiscontent > 0 } }
		custom_effect_tooltip = INS_ICW_increase_discontent_tt
	}
	else = {
		multiply_temp_variable = { tempDiscontent_tt = -1 }
		custom_effect_tooltip = INS_ICW_decrease_discontent_tt
	}
	clamp_variable = { var = ICW_discontent min = 0 max = 100 }
	hidden_effect = {
		if = {
			limit = { check_variable = { ICW_discontent = 100 } }
			set_variable = { ICW_discontent = 0 }
			INS_ICW_discontent_effect = yes
		}
	}
}

INS_ICW_discontent_effect = {
	if = {
		limit = { tag = JAP }
		JAP_PA_support_decrease_med = yes
		JAP_PM_decrease_power_avg = yes
	}
	else_if = {
		limit = { tag = USA }
		USA_decrease_hawkishness_medium = yes
		USA_decrease_trust_in_government_medium = yes
		USA_decrease_optics_medium = yes
	}
}

INS_ICW_modify_army_org_factor = {
	add_to_variable = { ICW_army_org_factor = v }
	custom_effect_tooltip = INS_ICW_modify_army_org_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_army_morale_factor = {
	add_to_variable = { ICW_army_morale_factor = v }
	custom_effect_tooltip = INS_ICW_modify_army_morale_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_army_attack_factor = {
	add_to_variable = { ICW_army_attack_factor = v }
	custom_effect_tooltip = INS_ICW_modify_army_attack_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_army_core_defence_factor = {
	add_to_variable = { ICW_army_core_defence_factor = v }
	custom_effect_tooltip = INS_ICW_modify_army_core_defence_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_recon_factor = {
	add_to_variable = { ICW_recon_factor = v }
	custom_effect_tooltip = INS_ICW_modify_recon_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_command_power_gain_mult = {
	add_to_variable = { ICW_command_power_gain_mult = v }
	custom_effect_tooltip = INS_ICW_modify_command_power_gain_mult_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_army_speed_factor = {
	add_to_variable = { ICW_army_speed_factor = v }
	custom_effect_tooltip = INS_ICW_modify_army_speed_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_breakthrough_factor = {
	add_to_variable = { ICW_breakthrough_factor = v }
	custom_effect_tooltip = INS_ICW_modify_breakthrough_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_industrial_capacity_factory = {
	add_to_variable = { ICW_industrial_capacity_factory = v }
	custom_effect_tooltip = INS_ICW_modify_industrial_capacity_factory_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_local_resources = {
	add_to_variable = { ICW_local_resources = v }
	custom_effect_tooltip = INS_ICW_modify_local_resources_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_modify_political_power_factor = {
	add_to_variable = { ICW_political_power_factor = v }
	custom_effect_tooltip = INS_ICW_modify_political_power_factor_tt
	INS_ICW_update_dynamic_modifier = yes
}

INS_ICW_update_dynamic_modifier = {
	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		force_update_dynamic_modifier = yes
	}
	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		force_update_dynamic_modifier = yes
	}
}

INS_ICW_declare_war = {
	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		declare_war_on = {
			target = FRI
			type = civil_war
		}
		declare_war_on = {
			target = DMP
			type = civil_war
		}
		declare_war_on = {
			target = DMS
			type = civil_war
		}
		declare_war_on = {
			target = PMT
			type = civil_war
		}
		declare_war_on = {
			target = SLS
			type = civil_war
		}
		declare_war_on = {
			target = NII
			type = civil_war
		}
		declare_war_on = {
			target = ABD
			type = civil_war
		}
	}
	if = {
		limit = {
			has_game_rule = {
				rule = INDONESIA_CIVIL_WAR_OUTCOME
				option = INDONESIA_CIVIL_WAR_OUTCOME_INS
			}
		}
		INS = {
			set_country_flag = request_strong_CCP_buff
			apply_war_buff_with_10_divisions = yes
		}
	}
	else_if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO_LOSE
				}
			}
		}
		every_country = {
			limit = {
				OR = {
					is_in_faction_with = FRI
					is_in_faction_with = INS
				}
			}
			add_ideas = Custom_TNO_INS_front_line_stopper
		}
	}
	else_if = {
		limit = {
			has_game_rule = {
				rule = INDONESIA_CIVIL_WAR_OUTCOME
				option = INDONESIA_CIVIL_WAR_OUTCOME_FRI
			}
		}
		FRI = {
			set_country_flag = request_strong_CCP_buff
			apply_war_buff_with_10_divisions = yes
		}
	}
}

INS_ICW_duumvirate_goncang_time = {
	clr_global_flag = TNO_INW_duumvirate_incoming
	set_global_flag = TNO_INW_duumvirate
	if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO_LOSE
				}
			}
		}
		every_country = {
			limit = {
				has_idea = Custom_TNO_INS_front_line_stopper
			}
			remove_ideas = Custom_TNO_INS_front_line_stopper
		}
	}
	every_country = {
		diplomatic_relation = {
			country = INS
			relation = military_access
			active = no
		}
		diplomatic_relation = {
			country = INS
			relation = docking_rights
			active = no
		}
		INS = {
			diplomatic_relation = {
				country = PREV
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PREV
				relation = docking_rights
				active = no
			}
		}
	}
	INS = {
		add_to_temp_array = { global.marxivi = FRI }
		add_to_temp_array = { global.marxivi = DMP }
		add_to_temp_array = { global.marxivi = JJK }
		add_to_temp_array = { global.marxivi = DMS }
		for_each_scope_loop = {
			array = global.marxivi
			every_character = {
				set_character_flag = INS_duumvirate_character
				set_nationality = INS
			}
		}
		annex_country = {
			target = DMP
			transfer_troops = yes
		}
		annex_country = {
			target = DMS
			transfer_troops = yes
		}
		annex_country = {
			target = JJK
			transfer_troops = yes
		}

		SRB = {
			INS_Guerrilla_Command = {
				set_nationality = INS
			}
		}

		INS_Zulkifli_Lubis = {
			promote_character = paternalism_stratocracy_subtype
		}
		INS_Suharto = {
			promote_character = despotism_military_junta_subtype
		}
		INS_Guerrilla_Command = {
			promote_character = communist_national_communism_subtype
		}

		set_party_name = {
			ideology = communist
			long_name = INS_DUUM_communist_party_long
			name = INS_DUUM_communist_party
		}

		set_party_name = {
			ideology = paternalism
			long_name = INS_DUUM_paternalism_party_long
			name = INS_DUUM_paternalism_party
		}

		set_party_name = {
			ideology = despotism
			long_name = INS_DUUM_despotism_party_long
			name = INS_DUUM_despotism_party
		}
	}
	if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
				}
				AND = {
					has_game_rule = {
						rule = INDONESIA_CIVIL_WAR_OUTCOME
						option = DEFAULT
					}
					check_variable = { INS.surrender_progress > FRI.surrender_progress }
				}
			}
		}
		#limit = { always = yes } # for testing
		set_country_flag = INS_lubis_duumvirate
		for_each_scope_loop = {
			array = global.INS_hattaite_faction
			if = {
				limit = {
					NOT = {
						tag = ABD
						tag = SLS
						tag = NII
					}
				}
				every_character = {
					set_character_flag = INS_duumvirate_character
					set_nationality = INS
				}
			}
		}
		INS = {
			leave_faction = yes
		}
		drop_cosmetic_tag = yes
		set_cosmetic_tag = INS_duum_cos_lubis

		JAP = {
			set_temp_variable = { target = INS }
			TNO_clear_and_recall_volunteers = yes
		}

		USA = { # Is there a better way to do this weird little dance of volunteers?
			set_temp_variable = { target = FRI }
			TNO_get_num_volunteers = yes
			set_variable = { USA_current_volunteers_FRI = result }

			set_temp_variable = { to_add = USA_current_volunteers_FRI }
			set_temp_variable = { target = INS }
			TNO_add_num_volunteers = yes

			set_temp_variable = { target = FRI }
			TNO_clear_and_recall_volunteers = yes
			clear_variable = USA_current_volunteers_FRI
		}

		econ_leave_sphere = yes

		set_politics = { ruling_party = paternalism }

		remove_ideas = {
			INS_The_Year_of_Living_Dangerously
			INS_On_Land_Sea_and_Air
			INS_Tokyos_Lifeline
			INS_leader
		}

		set_popularities = {
			paternalism = 40
			communist = 10
			despotism = 50
		}

		SRB = {
			annex_country = {
				target = ABD
				transfer_troops = no
			}
		}

		transfer_state = 1331
		FRI = {
			dismantle_faction = yes
		}
		annex_country = {
			target = FRI
			transfer_troops = yes
		}

		annex_country = {
			target = DMS
			transfer_troops = yes
		}
		annex_country = {
			target = PMT
			transfer_troops = yes
		}

		declare_war_on = {
			target = NII
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = NII
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = NII
				relation = docking_rights
				active = no
			}
			NII = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		declare_war_on = {
			target = SLS
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = SLS
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = SLS
				relation = docking_rights
				active = no
			}
			SLS = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		declare_war_on = {
			target = ABD
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = ABD
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = ABD
				relation = docking_rights
				active = no
			}
			ABD = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		declare_war_on = {
			target = BKB
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = BKB
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = BKB
				relation = docking_rights
				active = no
			}
			BKB = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		declare_war_on = {
			target = SRB
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = SRB
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = SRB
				relation = docking_rights
				active = no
			}
			SRB = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		declare_war_on = {
			target = MKS
			type = civil_war
		}
		every_country = {
			diplomatic_relation = {
				country = MKS
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = MKS
				relation = docking_rights
				active = no
			}
			MKS = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		every_country = {
			limit = {
				has_war_with = INS
				is_faction_leader = yes
			}
			white_peace = SLS
			white_peace = NII
			add_to_faction = NII
			add_to_faction = SLS
		}
		NII = {
			remove_ideas = PRIM_loyalist
			add_ideas = INS_loyalist
		}
		SLS = {
			remove_ideas = PRIM_loyalist
			add_ideas = INS_loyalist
		}

		JAP = {
			country_event = { id = TT_ICW_Common.201 }
		}
		USA = {
			country_event = { id = TT_ICW_Common.201 }
		}
		every_country = {
			limit = { is_ai = no }
			news_event = WORLD.16523
		}
	}
	else = {
		set_country_flag = INS_suharto_duumvirate
		for_each_scope_loop = {
			array = global.INS_soekarnoite_faction
			every_character = {
				set_character_flag = INS_duumvirate_character
				set_nationality = INS
			}
		}
		dismantle_faction = yes
		drop_cosmetic_tag = yes
		set_cosmetic_tag = INS_duum_cos
		econ_leave_sphere = yes

		set_politics = { ruling_party = despotism }

		JAP = {
			set_temp_variable = { target = INS }
			TNO_clear_and_recall_volunteers = yes
		}

		USA = {
			set_temp_variable = { target = FRI }
			TNO_clear_and_recall_volunteers = yes
		}

		remove_ideas = {
			INS_The_Year_of_Living_Dangerously
			INS_On_Land_Sea_and_Air
			INS_Tokyos_Lifeline
		}

		set_popularities = {
			paternalism = 40
			communist = 10
			despotism = 50
		}

		annex_country = {
			target = FRI
			transfer_troops = yes
		}

		annex_country = {
			target = BKB
			transfer_troops = yes
		}
		annex_country = {
			target = SRB
			transfer_troops = yes
		}
		annex_country = {
			target = MKS
			transfer_troops = yes
		}
		every_country = {
			diplomatic_relation = {
				country = NII
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = NII
				relation = docking_rights
				active = no
			}
			NII = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		every_country = {
			diplomatic_relation = {
				country = PMT
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = PMT
				relation = docking_rights
				active = no
			}
			PMT = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		every_country = {
			diplomatic_relation = {
				country = ABD
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = ABD
				relation = docking_rights
				active = no
			}
			ABD = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}
		every_country = {
			diplomatic_relation = {
				country = SLS
				relation = military_access
				active = no
			}
			diplomatic_relation = {
				country = SLS
				relation = docking_rights
				active = no
			}
			SLS = {
				diplomatic_relation = {
					country = PREV
					relation = military_access
					active = no
				}
				diplomatic_relation = {
					country = PREV
					relation = docking_rights
					active = no
				}
			}
		}

		JAP = {
			country_event = { id = TT_ICW_Common.202 }
		}
		USA = {
			country_event = { id = TT_ICW_Common.202 }
		}
		every_country = {
			limit = { is_ai = no }
			news_event = WORLD.16524
		}
	}
	if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO
				}
			}
		}
		INS = {
			set_country_flag = request_strong_CCP_buff
			apply_war_buff_with_10_divisions = yes
		}
	}
	else_if = {
		limit = {
			OR = {
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_LUBIS_LOSE
				}
				has_game_rule = {
					rule = INDONESIA_CIVIL_WAR_OUTCOME
					option = INDONESIA_CIVIL_WAR_OUTCOME_SUHARTO_LOSE
				}
			}
		}
		every_country = {
			limit = {
				has_war_with = INS
			}
			set_country_flag = request_strong_CCP_buff
			apply_war_buff_with_10_divisions = yes
		}
	}
}

ICW_victory_effect_FRI = {

	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		every_character = {
			set_nationality = INS
		}
	}

	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		every_character = {
			if = {
				limit = {
					OR = {
						is_army_leader = yes
						is_navy_leader = yes
					}
				}
				remove_unit_leader_role = yes
			}
			set_nationality = INS
		}
	}
	remove_all_ministers = yes

	set_temp_variable = { TNO_economy_type_temp = token:Econ_Type_Capitalism }
	econ_type_change = yes

	econ_join_sphere_USA = yes

	set_popularities = {
		communist = 5
		socialist = 10
		progressivism = 20
		liberalism = 30
		liberal_conservatism = 5
		conservatism = 2
		paternalism = 20
		despotism = 5
		fascism = 3
	}

	retire_ideology_leader = communist
	retire_ideology_leader = socialist
	retire_ideology_leader = progressivism
	retire_ideology_leader = paternalism
	retire_ideology_leader = conservatism
	retire_ideology_leader = despotism
	retire_ideology_leader = ultranationalism
	retire_ideology_leader = fascism
	retire_country_leader = yes

	INS_Amir_Sjarifuddin = {
		promote_character = socialist_revolutionary_frontism_subtype
	}
	INS_Munawar_Musso = {
		promote_character = communist_national_communism_subtype
	}
	INS_Hadisubeno = {
		promote_character = liberal_conservatism_big_tent_subtype
	}
	INS_Idham_Chalid = {
		promote_character = conservatism_islamic_conservatism_subtype
	}
	INS_Mohammad_Hatta = {
		promote_character = paternalism_transitioning_democracy_subtype
	}
	INS_Abdul_Kahar_Muzakkar = {
		promote_character = ultranationalism_fundamentalism_subtype
	}
	INS_Abdul_Haris_Nasution = {
		promote_character = fascism_corporatism_subtype
	}
	set_global_flag = FRI_won_INS_ICW

	set_politics = { ruling_party = paternalism }
	set_country_leader_description = { desc = "POLITICS_MOHAMMAD_HATTA_POSTWAR_DESC" }
	set_party_name = {
		ideology = communist
		long_name = FRI_communist_party_long
		name = FRI_communist_party
	}
	set_party_name = {
		ideology = socialist
		long_name = FRI_socialist_party_long
		name = FRI_socialist_party
	}
	set_party_name = {
		ideology = progressivism
		long_name = FRI_progressivism_party_long
		name = FRI_progressivism_party
	}
	set_party_name = {
		ideology = paternalism
		long_name = FRI_paternalism_party_long
		name = FRI_paternalism_party
	}
	set_party_name = {
		ideology = liberalism
		long_name = FRI_liberalism_party_long
		name = FRI_liberalism_party
	}
	set_party_name = {
		ideology = liberal_conservatism
		long_name = FRI_liberal_conservatism_party_long
		name = FRI_liberal_conservatism_party
	}
	set_party_name = {
		ideology = conservatism
		long_name = FRI_conservatism_party_long
		name = FRI_conservatism_party
	}
	set_party_name = {
		ideology = despotism
		long_name = FRI_despotism_party_long
		name = FRI_despotism_party
	}
	set_party_name = {
		ideology = ultranationalism
		long_name = FRI_ultranationalism_party_long
		name = FRI_ultranationalism_party
	}
	set_party_name = {
		ideology = fascism
		long_name = FRI_fascism_party_long
		name = FRI_fascism_party
	}
	drop_cosmetic_tag = yes
	set_cosmetic_tag = INS_FRI

	add_ideas = {
		INS_Sutan_Sjahrir_hog
		INS_Mohammad_Rum_for
		INS_Wilopo_eco
		INS_Tahi_Bonar_Simatupang_sec
	}

	remove_ideas = {
		INS_leader
		INS_The_Year_of_Living_Dangerously
		INS_On_Land_Sea_and_Air
		INS_Tokyos_Lifeline
	}

	leave_faction = yes

	ICW_shared_ending_effect = yes

	JAP = { country_event = { id = JAP_ICW.3 } }
	USA = { country_event = { id = USA_INS.2 } }

	every_country = {
		limit = { is_ai = no }
		news_event = WORLD.16521
	}
	JAP = {
		remove_resource_rights = 335
		remove_resource_rights = 799
		remove_resource_rights = 796
		remove_resource_rights = 667
		remove_resource_rights = 1770
		remove_resource_rights = 818
		remove_resource_rights = 819
		remove_resource_rights = 334
		remove_resource_rights = 794
		remove_resource_rights = 816
		remove_resource_rights = 673
		remove_resource_rights = 820
		remove_resource_rights = 821
		remove_resource_rights = 822
		remove_resource_rights = 1771
		remove_resource_rights = 1768
		remove_resource_rights = 1769
		remove_resource_rights = 1767
		remove_resource_rights = 1766
		remove_resource_rights = 1765
		remove_resource_rights = 1754
		remove_resource_rights = 1756
		remove_resource_rights = 1755
		remove_resource_rights = 1757
		remove_resource_rights = 1557
	}
}

ICW_victory_effect_INS = {
	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		every_character = {
			set_nationality = INS
		}
	}

	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		every_character = {
			if = {
				limit = {
					OR = {
						is_army_leader = yes
						is_navy_leader = yes
					}
				}
				remove_unit_leader_role = yes
			}
			set_nationality = INS
		}
	}

	INS_Sukarno = {
		promote_character = { ideology = fascism_revolutionary_nationalism_subtype }
	}
	INS_Jusuf_Wibisono = {
		promote_character = progressivism_subtype
	}
	INS_Alimin = {
		promote_character = communist_bolshevism_subtype
	}
	INS_Idham_Chalid = {
		promote_character = conservatism_islamic_conservatism_subtype
	}
	INS_Sumitro_Djojohadikusumo = {
		promote_character = liberalism_national_liberal_subtype
	}
	INS_Jan_Willem_Gerungan = {
		promote_character = ultranationalism_fundamentalism_subtype
	}
	INS_Asad_Syamsul_Arifin = {
		promote_character = liberal_conservatism_big_tent_subtype
	}
	INS_Bambang_Supeno = {
		promote_character = despotism_military_junta_subtype
	}
	set_politics = { ruling_party = fascism }
	set_popularities = {
		socialist_2 = 7
		socialist_1 = 10
		conservatism = 15
		despotism = 14
		fascism = 39
		fascism_2 = 15
	}
	set_country_leader_description = { desc = "POLITICS_SUKARNO_POSTWAR_DESC" }
	set_party_name = {
			ideology = fascism
			long_name = INS_front_nasional_party_long
			name = INS_front_nasional_party
		}
	set_party_name = {
		ideology = despotism
		long_name = INS_front_nasional_party_abri_long
		name = INS_front_nasional_party_abri
	}
	set_party_name = {
		ideology = conservatism
		long_name = INS_front_nasional_party_nu_long
		name = INS_front_nasional_party_nu
	}
	set_party_name = {
		ideology = socialist_1
		long_name = INS_front_nasional_party_fp_long
		name = INS_front_nasional_party_fp
	}
	set_party_name = {
		ideology = socialist_2
		long_name = INS_front_nasional_party_sii_long
		name = INS_front_nasional_party_sii
	}
	INS_Sukarno = {
		set_portraits = {
			army = { large = "gfx/leaders/INS/Portrait_Indonesia_Sukarno_Final.dds" }
			civilian = { large = "gfx/leaders/INS/Portrait_Indonesia_Sukarno_Final.dds" }
		}
	}

	remove_ideas = {
		INS_leader
		INS_The_Year_of_Living_Dangerously
		INS_On_Land_Sea_and_Air
		INS_Tokyos_Lifeline
	}

	leave_faction = yes

	JAP = {
		add_to_faction = INS
	}
	
	add_ideas = Sphere_Coequal

	ICW_shared_ending_effect = yes

	JAP = { country_event = { id = JAP_ICW.2 } }
	USA = { country_event = { id = USA_INS.3 } }

	every_country = {
		limit = { is_ai = no }
		news_event = WORLD.16522
	}
}

ICW_victory_effect_DUUMVIRATE = {
	ICW_shared_ending_effect = yes
	if = {
		limit = {
			INS = { has_country_flag = INS_suharto_duumvirate }
		}
		JAP = { country_event = { id = JAP_ICW.8 } }
		USA = { country_event = { id = USA_INS.7 } }

		set_country_leader_description = { desc = "POLITICS_SUHARTO_POSTWAR_DESC" }

		remove_ideas = INS_leader

		JAP = {
			add_to_faction = INS
		}
		
		add_ideas = Sphere_Coequal

		econ_join_sphere_JAP = yes

		every_country = {
			limit = { is_ai = no }
			news_event = {
				id = WORLD.16526
			}
		}
	}
	else = {
		JAP = { country_event = { id = JAP_ICW.11 } }
		USA = { country_event = { id = USA_INS.4 } }

		set_country_leader_description = { desc = "POLITICS_ZULKIFLI_LUBIS_POSTWAR_DESC" }

		set_global_flag = lubis_won_INS_ICW

		remove_ideas = INS_leader
		add_ideas = OFN_Observer

		econ_join_sphere_USA = yes

		JAP = {
			remove_resource_rights = 335
			remove_resource_rights = 799
			remove_resource_rights = 796
			remove_resource_rights = 667
			remove_resource_rights = 1770
			remove_resource_rights = 818
			remove_resource_rights = 819
			remove_resource_rights = 334
			remove_resource_rights = 794
			remove_resource_rights = 816
			remove_resource_rights = 673
			remove_resource_rights = 820
			remove_resource_rights = 821
			remove_resource_rights = 822
			remove_resource_rights = 1771
			remove_resource_rights = 1768
			remove_resource_rights = 1769
			remove_resource_rights = 1767
			remove_resource_rights = 1766
			remove_resource_rights = 1765
			remove_resource_rights = 1754
			remove_resource_rights = 1756
			remove_resource_rights = 1755
			remove_resource_rights = 1757
			remove_resource_rights = 1557
		}

		every_country = {
			limit = { is_ai = no }
			news_event = {
				id = WORLD.16525
			}
		}
	}
}

ICW_defeat_effect_DUUMVIRATE = {
	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		every_character = {
			limit = {
				OR = {
					is_army_leader = yes
					is_navy_leader = yes
				}
			}
			set_nationality = INS
		}
	}
	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		every_character = {
			limit = {
				OR = {
					is_army_leader = yes
					is_navy_leader = yes
				}
			}
			set_nationality = INS
		}
	}
	INS_Bambang_Supeno = {
		promote_character = despotism_military_junta_subtype
	}
	INS_Abdul_Haris_Nasution = {
		promote_character = fascism_corporatism_subtype
	}

	set_popularities = {
		fascism = 45
		despotism = 55
	}

	remove_ideas = {
		INS_The_Year_of_Living_Dangerously
		INS_On_Land_Sea_and_Air
		INS_Tokyos_Lifeline
		INS_leader
	}
	JAP = {
		add_to_faction = INS
	}
	add_ideas = Sphere_Economic_Dependent
	econ_join_sphere_JAP = yes


	ICW_shared_ending_effect = yes

	if = {
		limit = {
			INS = { has_country_flag = INS_suharto_duumvirate }
		}
		set_politics = { ruling_party = fascism }
		set_country_leader_description = { desc = "POLITICS_ABDUL_HARRIS_NASUTION_DVRDEF_DESC" }
		JAP = { country_event = { id = JAP_ICW.12 } }
		USA = { country_event = { id = USA_INS.8 } }

		every_country = {
			limit = { is_ai = no }
			news_event = WORLD.16528
		}
		drop_cosmetic_tag = yes
		set_cosmetic_tag = INS_duum_loss_cos
		econ_leave_sphere = yes
		remove_ideas = Sphere_Economic_Dependent
		leave_faction = yes

	}
	else = {
		set_politics = { ruling_party = despotism }
		set_country_leader_description = { desc = "POLITICS_BAMBANG_SOEPENO_DVRDEF_DESC" }
		JAP = { country_event = { id = JAP_ICW.12 } }
		USA = { country_event = { id = USA_INS.8 } }

		every_country = {
			limit = { is_ai = no }
			news_event = WORLD.16527
		}
		drop_cosmetic_tag = yes
		set_cosmetic_tag = INS_lubis_loss_cos
	}
}

ICW_shared_ending_effect = {
	remove_from_array = { global.INS_soekarnoite_faction = INS }
	for_each_scope_loop = {
		array = global.INS_soekarnoite_faction
		INS = {
			annex_country = {
				target = PREV
				transfer_troops = no
			}
		}
		every_state = {
			limit = {
				is_core_of = THIS
			}
			remove_core_of = PREV
		}
	}
	for_each_scope_loop = {
		array = global.INS_hattaite_faction
		INS = {
			annex_country = {
				target = PREV
				transfer_troops = no
			}
		}
		every_state = {
			limit = {
				is_core_of = THIS
			}
			remove_core_of = PREV
		}
	}
	INS = {
		annex_country = {
			target = JJK
			transfer_troops = no
		}
		transfer_state = 1331
		transfer_state = 1330
	}

	JAP = {
		TNO_fopo_remove_indonesia_tab = yes
		set_temp_variable = { target = INS }
		TNO_clear_num_volunteers = yes
		set_temp_variable = { target = BKB }
		TNO_clear_num_volunteers = yes
		set_temp_variable = { target = SRB }
		TNO_clear_num_volunteers = yes
		set_temp_variable = { target = MKS }
		TNO_clear_num_volunteers = yes
		set_temp_variable = { target = SLS }
		TNO_clear_num_volunteers = yes
	}

	USA = {
		TNO_fopo_remove_indonesia_tab = yes
		set_temp_variable = { target = FRI }
		TNO_clear_num_volunteers = yes
		set_temp_variable = { target = INS }
		TNO_clear_num_volunteers = yes
	}

	GNG = {
		GNG_PTRG_Indonesia_END = yes
	}

	PMT = { remove_state_core = 1331 }
	JJK = { remove_state_core = 1756 }

	clr_global_flag = TNO_indonesian_civil_war_ongoing
	clear_array = global.INS_soekarnoite_faction
	clear_array = global.INS_hattaite_faction
}

####################################################
