setupAchievements = {
	random_list = {
		10 = {
			set_global_flag = Box1inSlot16
			set_global_flag = Box2inSlot1
			set_global_flag = Box3inSlot9
			set_global_flag = Box4inSlot13
			set_global_flag = Box5inSlot10
			set_global_flag = Box6inSlot11
			set_global_flag = Box7inSlot14
			set_global_flag = Box8inSlot7
			set_global_flag = Box9inSlot4
			set_global_flag = Box10inSlot6
			set_global_flag = Box11inSlot12
			set_global_flag = Box12inSlot8
			set_global_flag = Box13inSlot3
			set_global_flag = Box14inSlot2
			set_global_flag = Box15inSlot15
			set_global_flag = Slot5Blank
			
			set_global_flag = Game1InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot16
			set_global_flag = Box2inSlot15
			set_global_flag = Box3inSlot5
			set_global_flag = Box4inSlot2
			set_global_flag = Box5inSlot7
			set_global_flag = Box6inSlot1
			set_global_flag = Box7inSlot12
			set_global_flag = Box8inSlot11
			set_global_flag = Box9inSlot8
			set_global_flag = Box10inSlot6
			set_global_flag = Box11inSlot10
			set_global_flag = Box12inSlot3
			set_global_flag = Box13inSlot13
			set_global_flag = Box14inSlot9
			set_global_flag = Box15inSlot4
			set_global_flag = Slot14Blank
			
			set_global_flag = Game2InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot16
			set_global_flag = Box2inSlot4
			set_global_flag = Box3inSlot14
			set_global_flag = Box4inSlot12
			set_global_flag = Box5inSlot2
			set_global_flag = Box6inSlot13
			set_global_flag = Box7inSlot9
			set_global_flag = Box8inSlot10
			set_global_flag = Box9inSlot3
			set_global_flag = Box10inSlot5
			set_global_flag = Box11inSlot8
			set_global_flag = Box12inSlot6
			set_global_flag = Box13inSlot1
			set_global_flag = Box14inSlot15
			set_global_flag = Box15inSlot11
			set_global_flag = Slot7Blank
			
			set_global_flag = Game3InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot3
			set_global_flag = Box2inSlot1
			set_global_flag = Box3inSlot4
			set_global_flag = Box4inSlot9
			set_global_flag = Box5inSlot13
			set_global_flag = Box6inSlot5
			set_global_flag = Box7inSlot16
			set_global_flag = Box8inSlot14
			set_global_flag = Box9inSlot6
			set_global_flag = Box10inSlot8
			set_global_flag = Box11inSlot2
			set_global_flag = Box12inSlot7
			set_global_flag = Box13inSlot15
			set_global_flag = Box14inSlot10
			set_global_flag = Box15inSlot11
			set_global_flag = Slot12Blank
			
			set_global_flag = Game4InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot1
			set_global_flag = Box2inSlot14
			set_global_flag = Box3inSlot10
			set_global_flag = Box4inSlot4
			set_global_flag = Box5inSlot12
			set_global_flag = Box6inSlot11
			set_global_flag = Box7inSlot7
			set_global_flag = Box8inSlot9
			set_global_flag = Box9inSlot8
			set_global_flag = Box10inSlot6
			set_global_flag = Box11inSlot2
			set_global_flag = Box12inSlot5
			set_global_flag = Box13inSlot13
			set_global_flag = Box14inSlot16
			set_global_flag = Box15inSlot15
			set_global_flag = Slot3Blank
			
			set_global_flag = Game5InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot5
			set_global_flag = Box2inSlot8
			set_global_flag = Box3inSlot6
			set_global_flag = Box4inSlot7
			set_global_flag = Box5inSlot16
			set_global_flag = Box6inSlot4
			set_global_flag = Box7inSlot1
			set_global_flag = Box8inSlot2
			set_global_flag = Box9inSlot13
			set_global_flag = Box10inSlot10
			set_global_flag = Box11inSlot12
			set_global_flag = Box12inSlot14
			set_global_flag = Box13inSlot9
			set_global_flag = Box14inSlot11
			set_global_flag = Box15inSlot3
			set_global_flag = Slot15Blank
			
			set_global_flag = Game6InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot11
			set_global_flag = Box2inSlot9
			set_global_flag = Box3inSlot3
			set_global_flag = Box4inSlot7
			set_global_flag = Box5inSlot8
			set_global_flag = Box6inSlot5
			set_global_flag = Box7inSlot1
			set_global_flag = Box8inSlot12
			set_global_flag = Box9inSlot13
			set_global_flag = Box10inSlot10
			set_global_flag = Box11inSlot6
			set_global_flag = Box12inSlot14
			set_global_flag = Box13inSlot15
			set_global_flag = Box14inSlot2
			set_global_flag = Box15inSlot4
			set_global_flag = Slot16Blank
			
			set_global_flag = Game7InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot6
			set_global_flag = Box2inSlot9
			set_global_flag = Box3inSlot3
			set_global_flag = Box4inSlot13
			set_global_flag = Box5inSlot7
			set_global_flag = Box6inSlot8
			set_global_flag = Box7inSlot15
			set_global_flag = Box8inSlot4
			set_global_flag = Box9inSlot14
			set_global_flag = Box10inSlot1
			set_global_flag = Box11inSlot11
			set_global_flag = Box12inSlot10
			set_global_flag = Box13inSlot12
			set_global_flag = Box14inSlot2
			set_global_flag = Box15inSlot16
			set_global_flag = Slot5Blank
			
			set_global_flag = Game8InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot9
			set_global_flag = Box2inSlot13
			set_global_flag = Box3inSlot15
			set_global_flag = Box4inSlot11
			set_global_flag = Box5inSlot7
			set_global_flag = Box6inSlot4
			set_global_flag = Box7inSlot14
			set_global_flag = Box8inSlot1
			set_global_flag = Box9inSlot3
			set_global_flag = Box10inSlot2
			set_global_flag = Box11inSlot8
			set_global_flag = Box12inSlot10
			set_global_flag = Box13inSlot16
			set_global_flag = Box14inSlot5
			set_global_flag = Box15inSlot6
			set_global_flag = Slot12Blank
			
			set_global_flag = Game9InProgress
			whichGameCheck = yes
		}
		10 = {
			set_global_flag = Box1inSlot15
			set_global_flag = Box2inSlot4
			set_global_flag = Box3inSlot5
			set_global_flag = Box4inSlot12
			set_global_flag = Box5inSlot14
			set_global_flag = Box6inSlot3
			set_global_flag = Box7inSlot9
			set_global_flag = Box8inSlot7
			set_global_flag = Box9inSlot16
			set_global_flag = Box10inSlot2
			set_global_flag = Box11inSlot10
			set_global_flag = Box12inSlot6
			set_global_flag = Box13inSlot11
			set_global_flag = Box14inSlot13
			set_global_flag = Box15inSlot8
			set_global_flag = Slot1Blank
			
			set_global_flag = Game10InProgress
			whichGameCheck = yes
		}
	}
}

whichGameCheck = {
	if = {
		limit = {
			AND = {
				has_global_flag = Game1Beaten
				has_global_flag = Game2Beaten
				has_global_flag = Game3Beaten
				has_global_flag = Game4Beaten
				has_global_flag = Game5Beaten
				has_global_flag = Game6Beaten
				has_global_flag = Game7Beaten
				has_global_flag = Game8Beaten
				has_global_flag = Game9Beaten
				has_global_flag = Game10Beaten
			}
		}
		clearAllWins = yes
		clearAllBoxes = yes
		setupAchievements = yes
	}
	else_if = {
		limit = {
			OR = {
				AND = {
					has_global_flag = Game1InProgress
					has_global_flag = Game1Beaten
				}
				AND = {
					has_global_flag = Game2InProgress
					has_global_flag = Game2Beaten
				}
				AND = {
					has_global_flag = Game3InProgress
					has_global_flag = Game3Beaten
				}
				AND = {
					has_global_flag = Game4InProgress
					has_global_flag = Game4Beaten
				}
				AND = {
					has_global_flag = Game5InProgress
					has_global_flag = Game5Beaten
				}
				AND = {
					has_global_flag = Game6InProgress
					has_global_flag = Game6Beaten
				}
				AND = {
					has_global_flag = Game7InProgress
					has_global_flag = Game7Beaten
				}
				AND = {
					has_global_flag = Game8InProgress
					has_global_flag = Game8Beaten
				}
				AND = {
					has_global_flag = Game9InProgress
					has_global_flag = Game9Beaten
				}
				AND = {
					has_global_flag = Game10InProgress
					has_global_flag = Game10Beaten
				}
			}
		}
		clearAllBoxes = yes
		setupAchievements = yes
	}
	else = {
		otherSetup = yes
	}
}

otherSetup = {
	set_variable = { global.Box1XPos = 0 }
	set_variable = { global.Box1YPos = 0 }
	set_variable = { global.Box2XPos = 0 }
	set_variable = { global.Box2YPos = 0 }
	set_variable = { global.Box3XPos = 0 }
	set_variable = { global.Box3YPos = 0 }
	set_variable = { global.Box4XPos = 0 }
	set_variable = { global.Box4YPos = 0 }
	set_variable = { global.Box5XPos = 0 }
	set_variable = { global.Box5YPos = 0 }
	set_variable = { global.Box6XPos = 0 }
	set_variable = { global.Box6YPos = 0 }
	set_variable = { global.Box7XPos = 0 }
	set_variable = { global.Box7YPos = 0 }
	set_variable = { global.Box8XPos = 0 }
	set_variable = { global.Box8YPos = 0 }
	set_variable = { global.Box9XPos = 0 }
	set_variable = { global.Box9YPos = 0 }
	set_variable = { global.Box10XPos = 0 }
	set_variable = { global.Box10YPos = 0 }
	set_variable = { global.Box11XPos = 0 }
	set_variable = { global.Box11YPos = 0 }
	set_variable = { global.Box12XPos = 0 }
	set_variable = { global.Box12YPos = 0 }
	set_variable = { global.Box13XPos = 0 }
	set_variable = { global.Box13YPos = 0 }
	set_variable = { global.Box14XPos = 0 }
	set_variable = { global.Box14YPos = 0 }
	set_variable = { global.Box15XPos = 0 }
	set_variable = { global.Box15YPos = 0 }

	determineAllBoxes = yes
}

checkMovementBox1 = {
	if = {
		limit = {
			has_global_flag = Box1inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box1inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box1inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box1inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box1inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box1inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box1inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box1inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box1inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box1inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box1inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box1inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box1inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box1inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box1inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box1inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box1inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box1inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box1inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box1inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box1inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box1inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box1inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box1inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box1inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box1inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box1inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box1inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box1inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box1inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box1inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box1inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box1inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box1inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box1inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box1inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box1inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box1inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box1inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box1inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box1inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box1inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box1inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box1inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box1inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box1inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box1inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box1inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box1inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box1inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box1inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box1inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box1inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box1inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box1inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box1inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box1inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box1inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box1inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box1inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box1inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box1inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box1inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box1inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box1inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box1inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box1inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box1inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box1inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box1inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box1inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box1inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box1inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box1inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box1inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box1inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box1inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box1inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box1inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box1inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box1inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box1inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box1inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box1inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box1inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box1inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box1inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box1inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box1inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box1inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box1inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box1inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box1inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box1inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box1inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box1inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box1inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box1inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox2 = {
	if = {
		limit = {
			has_global_flag = Box2inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box2inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box2inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box2inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box2inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box2inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box2inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box2inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box2inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box2inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box2inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box2inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box2inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box2inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box2inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box2inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box2inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box2inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box2inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box2inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box2inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box2inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box2inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box2inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box2inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box2inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box2inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box2inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box2inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box2inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box2inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box2inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box2inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box2inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box2inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box2inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box2inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box2inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box2inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box2inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box2inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box2inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box2inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box2inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box2inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box2inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box2inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box2inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box2inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box2inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box2inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box2inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box2inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box2inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box2inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box2inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box2inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box2inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box2inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box2inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box2inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box2inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box2inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box2inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box2inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box2inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box2inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box2inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box2inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box2inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box2inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box2inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box2inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box2inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box2inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box2inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box2inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box2inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box2inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box2inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box2inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box2inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box2inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box2inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box2inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box2inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box2inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box2inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box2inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box2inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box2inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box2inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box2inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box2inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box2inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box2inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box2inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box2inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox3 = {
	if = {
		limit = {
			has_global_flag = Box3inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box3inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box3inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box3inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box3inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box3inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box3inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box3inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box3inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box3inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box3inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box3inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box3inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box3inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box3inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box3inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box3inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box3inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box3inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box3inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box3inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box3inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box3inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box3inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box3inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box3inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box3inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box3inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box3inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box3inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box3inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box3inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box3inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box3inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box3inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box3inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box3inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box3inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box3inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box3inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box3inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box3inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box3inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box3inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box3inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box3inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box3inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box3inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box3inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box3inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box3inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box3inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box3inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box3inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box3inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box3inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box3inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box3inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box3inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box3inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box3inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box3inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box3inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box3inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box3inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box3inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box3inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box3inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box3inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box3inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box3inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box3inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box3inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box3inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box3inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box3inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box3inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box3inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box3inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box3inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box3inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box3inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box3inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box3inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box3inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box3inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box3inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box3inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box3inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box3inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box3inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box3inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box3inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box3inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box3inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box3inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box3inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box3inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox4 = {
	if = {
		limit = {
			has_global_flag = Box4inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box4inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box4inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box4inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box4inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box4inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box4inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box4inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box4inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box4inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box4inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box4inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box4inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box4inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box4inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box4inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box4inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box4inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box4inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box4inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box4inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box4inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box4inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box4inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box4inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box4inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box4inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box4inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box4inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box4inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box4inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box4inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box4inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box4inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box4inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box4inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box4inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box4inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box4inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box4inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box4inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box4inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box4inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box4inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box4inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box4inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box4inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box4inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box4inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box4inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box4inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box4inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box4inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box4inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box4inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box4inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box4inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box4inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box4inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box4inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box4inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box4inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box4inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box4inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box4inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box4inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box4inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box4inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box4inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box4inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box4inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box4inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box4inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box4inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box4inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box4inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box4inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box4inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box4inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box4inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box4inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box4inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box4inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box4inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box4inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box4inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box4inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box4inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box4inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box4inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box4inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box4inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box4inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box4inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box4inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box4inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box4inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box4inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox5 = {
	if = {
		limit = {
			has_global_flag = Box5inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box5inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box5inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box5inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box5inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box5inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box5inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box5inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box5inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box5inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box5inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box5inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box5inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box5inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box5inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box5inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box5inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box5inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box5inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box5inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box5inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box5inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box5inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box5inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box5inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box5inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box5inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box5inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box5inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box5inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box5inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box5inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box5inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box5inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box5inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box5inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box5inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box5inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box5inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box5inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box5inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box5inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box5inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box5inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box5inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box5inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box5inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box5inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box5inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box5inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box5inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box5inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box5inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box5inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box5inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box5inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box5inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box5inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box5inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box5inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box5inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box5inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box5inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box5inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box5inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box5inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box5inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box5inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box5inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box5inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box5inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box5inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box5inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box5inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box5inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box5inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box5inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box5inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box5inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box5inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box5inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box5inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box5inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box5inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box5inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box5inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box5inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box5inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box5inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box5inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box5inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box5inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box5inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box5inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box5inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box5inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box5inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box5inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox6 = {
	if = {
		limit = {
			has_global_flag = Box6inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box6inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box6inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box6inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box6inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box6inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box6inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box6inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box6inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box6inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box6inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box6inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box6inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box6inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box6inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box6inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box6inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box6inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box6inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box6inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box6inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box6inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box6inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box6inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box6inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box6inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box6inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box6inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box6inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box6inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box6inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box6inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box6inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box6inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box6inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box6inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box6inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box6inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box6inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box6inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box6inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box6inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box6inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box6inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box6inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box6inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box6inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box6inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box6inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box6inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box6inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box6inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box6inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box6inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box6inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box6inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box6inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box6inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box6inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box6inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box6inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box6inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box6inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box6inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box6inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box6inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box6inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box6inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box6inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box6inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box6inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box6inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box6inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box6inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box6inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box6inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box6inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box6inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box6inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box6inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box6inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box6inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box6inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box6inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box6inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box6inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box6inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box6inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box6inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box6inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box6inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box6inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box6inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box6inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box6inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box6inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box6inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box6inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox7 = {
	if = {
		limit = {
			has_global_flag = Box7inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box7inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box7inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box7inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box7inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box7inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box7inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box7inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box7inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box7inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box7inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box7inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box7inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box7inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box7inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box7inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box7inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box7inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box7inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box7inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box7inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box7inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box7inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box7inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box7inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box7inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box7inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box7inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box7inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box7inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box7inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box7inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box7inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box7inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box7inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box7inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box7inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box7inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box7inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box7inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box7inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box7inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box7inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box7inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box7inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box7inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box7inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box7inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box7inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box7inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box7inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box7inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box7inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box7inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box7inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box7inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box7inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box7inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box7inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box7inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box7inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box7inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box7inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box7inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box7inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box7inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box7inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box7inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box7inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box7inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box7inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box7inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box7inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box7inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box7inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box7inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box7inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box7inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box7inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box7inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box7inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box7inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box7inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box7inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box7inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box7inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box7inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box7inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box7inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box7inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box7inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box7inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box7inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box7inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box7inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box7inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box7inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box7inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox8 = {
	if = {
		limit = {
			has_global_flag = Box8inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box8inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box8inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box8inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box8inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box8inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box8inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box8inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box8inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box8inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box8inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box8inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box8inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box8inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box8inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box8inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box8inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box8inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box8inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box8inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box8inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box8inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box8inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box8inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box8inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box8inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box8inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box8inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box8inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box8inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box8inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box8inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box8inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box8inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box8inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box8inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box8inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box8inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box8inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box8inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box8inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box8inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box8inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box8inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box8inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box8inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box8inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box8inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box8inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box8inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box8inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box8inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box8inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box8inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box8inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box8inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box8inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box8inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box8inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box8inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box8inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box8inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box8inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box8inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box8inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box8inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box8inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box8inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box8inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box8inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box8inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box8inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box8inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box8inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box8inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box8inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box8inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box8inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box8inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box8inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box8inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box8inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box8inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box8inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box8inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box8inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box8inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box8inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box8inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box8inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box8inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box8inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box8inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box8inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box8inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box8inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box8inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box8inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox9 = {
	if = {
		limit = {
			has_global_flag = Box9inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box9inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box9inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box9inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box9inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box9inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box9inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box9inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box9inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box9inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box9inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box9inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box9inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box9inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box9inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box9inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box9inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box9inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box9inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box9inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box9inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box9inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box9inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box9inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box9inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box9inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box9inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box9inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box9inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box9inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box9inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box9inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box9inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box9inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box9inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box9inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box9inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box9inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box9inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box9inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box9inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box9inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box9inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box9inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box9inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box9inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box9inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box9inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box9inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box9inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box9inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box9inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box9inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box9inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box9inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box9inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box9inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box9inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box9inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box9inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box9inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box9inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box9inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box9inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box9inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box9inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box9inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box9inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box9inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box9inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box9inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box9inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box9inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box9inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box9inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box9inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box9inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box9inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box9inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box9inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box9inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box9inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box9inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box9inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box9inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box9inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box9inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box9inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box9inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box9inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box9inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box9inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box9inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box9inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box9inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box9inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box9inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box9inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox10 = {
	if = {
		limit = {
			has_global_flag = Box10inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box10inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box10inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box10inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box10inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box10inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box10inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box10inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box10inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box10inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box10inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box10inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box10inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box10inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box10inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box10inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box10inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box10inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box10inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box10inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box10inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box10inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box10inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box10inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box10inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box10inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box10inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box10inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box10inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box10inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box10inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box10inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box10inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box10inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box10inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box10inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box10inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box10inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box10inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box10inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box10inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box10inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box10inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box10inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box10inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box10inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box10inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box10inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box10inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box10inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box10inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box10inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box10inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box10inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box10inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box10inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box10inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box10inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box10inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box10inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box10inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box10inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box10inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box10inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box10inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box10inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box10inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box10inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box10inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box10inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box10inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box10inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box10inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box10inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box10inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box10inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box10inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box10inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box10inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box10inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box10inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box10inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box10inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box10inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box10inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box10inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box10inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box10inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box10inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box10inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box10inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box10inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box10inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box10inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box10inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box10inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box10inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box10inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox11 = {
	if = {
		limit = {
			has_global_flag = Box11inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box11inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box11inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box11inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box11inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box11inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box11inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box11inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box11inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box11inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box11inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box11inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box11inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box11inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box11inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box11inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box11inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box11inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box11inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box11inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box11inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box11inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box11inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box11inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box11inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box11inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box11inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box11inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box11inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box11inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box11inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box11inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box11inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box11inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box11inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box11inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box11inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box11inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box11inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box11inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box11inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box11inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box11inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box11inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box11inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box11inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box11inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box11inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box11inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box11inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box11inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box11inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box11inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box11inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box11inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box11inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box11inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box11inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box11inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box11inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box11inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box11inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box11inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box11inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box11inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box11inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box11inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box11inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box11inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box11inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box11inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box11inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box11inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box11inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box11inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box11inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box11inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box11inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box11inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box11inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box11inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box11inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box11inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box11inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box11inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box11inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box11inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box11inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box11inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box11inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box11inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box11inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box11inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box11inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box11inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box11inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box11inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box11inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox12 = {
	if = {
		limit = {
			has_global_flag = Box12inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box12inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box12inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box12inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box12inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box12inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box12inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box12inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box12inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box12inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box12inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box12inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box12inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box12inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box12inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box12inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box12inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box12inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box12inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box12inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box12inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box12inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box12inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box12inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box12inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box12inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box12inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box12inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box12inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box12inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box12inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box12inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box12inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box12inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box12inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box12inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box12inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box12inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box12inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box12inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box12inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box12inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box12inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box12inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box12inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box12inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box12inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box12inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box12inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box12inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box12inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box12inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box12inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box12inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box12inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box12inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box12inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box12inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box12inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box12inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box12inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box12inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box12inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box12inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box12inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box12inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box12inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box12inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box12inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box12inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box12inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box12inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box12inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box12inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box12inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box12inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box12inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box12inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box12inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box12inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box12inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box12inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box12inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box12inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box12inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box12inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box12inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box12inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box12inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box12inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box12inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box12inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box12inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box12inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box12inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box12inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box12inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box12inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox13 = {
	if = {
		limit = {
			has_global_flag = Box13inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box13inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box13inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box13inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box13inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box13inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box13inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box13inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box13inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box13inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box13inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box13inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box13inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box13inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box13inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box13inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box13inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box13inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box13inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box13inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box13inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box13inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box13inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box13inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box13inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box13inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box13inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box13inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box13inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box13inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box13inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box13inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box13inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box13inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box13inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box13inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box13inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box13inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box13inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box13inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box13inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box13inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box13inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box13inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box13inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box13inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box13inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box13inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box13inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box13inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box13inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box13inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box13inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box13inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box13inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box13inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box13inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box13inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box13inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box13inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box13inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box13inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box13inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box13inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box13inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box13inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box13inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box13inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box13inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box13inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box13inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box13inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box13inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box13inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box13inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box13inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box13inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box13inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box13inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box13inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box13inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box13inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box13inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box13inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box13inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box13inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box13inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box13inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box13inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box13inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box13inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box13inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box13inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box13inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box13inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box13inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box13inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box13inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox14 = {
	if = {
		limit = {
			has_global_flag = Box14inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box14inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box14inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box14inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box14inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box14inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box14inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box14inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box14inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box14inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box14inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box14inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box14inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box14inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box14inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box14inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box14inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box14inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box14inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box14inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box14inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box14inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box14inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box14inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box14inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box14inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box14inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box14inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box14inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box14inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box14inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box14inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box14inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box14inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box14inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box14inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box14inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box14inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box14inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box14inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box14inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box14inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box14inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box14inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box14inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box14inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box14inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box14inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box14inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box14inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box14inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box14inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box14inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box14inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box14inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box14inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box14inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box14inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box14inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box14inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box14inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box14inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box14inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box14inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box14inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box14inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box14inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box14inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box14inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box14inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box14inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box14inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box14inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box14inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box14inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box14inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box14inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box14inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box14inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box14inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box14inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box14inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box14inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box14inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box14inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box14inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box14inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box14inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box14inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box14inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box14inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box14inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box14inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box14inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box14inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box14inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box14inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box14inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

checkMovementBox15 = {
	if = {
		limit = {
			has_global_flag = Box15inSlot1
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box15inSlot1
			clr_global_flag = Slot2Blank
			set_global_flag = Box15inSlot2
			set_global_flag = Slot1Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box15inSlot1
			clr_global_flag = Slot5Blank
			set_global_flag = Box15inSlot5
			set_global_flag = Slot1Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot2
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box15inSlot2
			clr_global_flag = Slot1Blank
			set_global_flag = Box15inSlot1
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box15inSlot2
			clr_global_flag = Slot3Blank
			set_global_flag = Box15inSlot3
			set_global_flag = Slot2Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box15inSlot2
			clr_global_flag = Slot6Blank
			set_global_flag = Box15inSlot6
			set_global_flag = Slot2Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot3
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box15inSlot3
			clr_global_flag = Slot2Blank
			set_global_flag = Box15inSlot2
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box15inSlot3
			clr_global_flag = Slot4Blank
			set_global_flag = Box15inSlot4
			set_global_flag = Slot3Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box15inSlot3
			clr_global_flag = Slot7Blank
			set_global_flag = Box15inSlot7
			set_global_flag = Slot3Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot4
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box15inSlot4
			clr_global_flag = Slot3Blank
			set_global_flag = Box15inSlot3
			set_global_flag = Slot4Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box15inSlot4
			clr_global_flag = Slot8Blank
			set_global_flag = Box15inSlot8
			set_global_flag = Slot4Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot5
		}
		if = {
			limit = {
				has_global_flag = Slot1Blank
			}
			clr_global_flag = Box15inSlot5
			clr_global_flag = Slot1Blank
			set_global_flag = Box15inSlot1
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box15inSlot5
			clr_global_flag = Slot6Blank
			set_global_flag = Box15inSlot6
			set_global_flag = Slot5Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box15inSlot5
			clr_global_flag = Slot9Blank
			set_global_flag = Box15inSlot9
			set_global_flag = Slot5Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot6
		}
		if = {
			limit = {
				has_global_flag = Slot2Blank
			}
			clr_global_flag = Box15inSlot6
			clr_global_flag = Slot2Blank
			set_global_flag = Box15inSlot2
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box15inSlot6
			clr_global_flag = Slot5Blank
			set_global_flag = Box15inSlot5
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box15inSlot6
			clr_global_flag = Slot7Blank
			set_global_flag = Box15inSlot7
			set_global_flag = Slot6Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box15inSlot6
			clr_global_flag = Slot10Blank
			set_global_flag = Box15inSlot10
			set_global_flag = Slot6Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot7
		}
		if = {
			limit = {
				has_global_flag = Slot3Blank
			}
			clr_global_flag = Box15inSlot7
			clr_global_flag = Slot3Blank
			set_global_flag = Box15inSlot3
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box15inSlot7
			clr_global_flag = Slot6Blank
			set_global_flag = Box15inSlot6
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box15inSlot7
			clr_global_flag = Slot8Blank
			set_global_flag = Box15inSlot8
			set_global_flag = Slot7Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box15inSlot7
			clr_global_flag = Slot11Blank
			set_global_flag = Box15inSlot11
			set_global_flag = Slot7Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot8
		}
		if = {
			limit = {
				has_global_flag = Slot4Blank
			}
			clr_global_flag = Box15inSlot8
			clr_global_flag = Slot4Blank
			set_global_flag = Box15inSlot4
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box15inSlot8
			clr_global_flag = Slot7Blank
			set_global_flag = Box15inSlot7
			set_global_flag = Slot8Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box15inSlot8
			clr_global_flag = Slot12Blank
			set_global_flag = Box15inSlot12
			set_global_flag = Slot8Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot9
		}
		if = {
			limit = {
				has_global_flag = Slot5Blank
			}
			clr_global_flag = Box15inSlot9
			clr_global_flag = Slot5Blank
			set_global_flag = Box15inSlot5
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box15inSlot9
			clr_global_flag = Slot10Blank
			set_global_flag = Box15inSlot10
			set_global_flag = Slot9Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box15inSlot9
			clr_global_flag = Slot13Blank
			set_global_flag = Box15inSlot13
			set_global_flag = Slot9Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot10
		}
		if = {
			limit = {
				has_global_flag = Slot6Blank
			}
			clr_global_flag = Box15inSlot10
			clr_global_flag = Slot6Blank
			set_global_flag = Box15inSlot6
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box15inSlot10
			clr_global_flag = Slot9Blank
			set_global_flag = Box15inSlot9
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box15inSlot10
			clr_global_flag = Slot11Blank
			set_global_flag = Box15inSlot11
			set_global_flag = Slot10Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box15inSlot10
			clr_global_flag = Slot14Blank
			set_global_flag = Box15inSlot14
			set_global_flag = Slot10Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot11
		}
		if = {
			limit = {
				has_global_flag = Slot7Blank
			}
			clr_global_flag = Box15inSlot11
			clr_global_flag = Slot7Blank
			set_global_flag = Box15inSlot7
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box15inSlot11
			clr_global_flag = Slot10Blank
			set_global_flag = Box15inSlot10
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box15inSlot11
			clr_global_flag = Slot12Blank
			set_global_flag = Box15inSlot12
			set_global_flag = Slot11Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box15inSlot11
			clr_global_flag = Slot15Blank
			set_global_flag = Box15inSlot15
			set_global_flag = Slot11Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot12
		}
		if = {
			limit = {
				has_global_flag = Slot8Blank
			}
			clr_global_flag = Box15inSlot12
			clr_global_flag = Slot8Blank
			set_global_flag = Box15inSlot8
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box15inSlot12
			clr_global_flag = Slot11Blank
			set_global_flag = Box15inSlot11
			set_global_flag = Slot12Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box15inSlot12
			clr_global_flag = Slot16Blank
			set_global_flag = Box15inSlot16
			set_global_flag = Slot12Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot13
		}
		if = {
			limit = {
				has_global_flag = Slot9Blank
			}
			clr_global_flag = Box15inSlot13
			clr_global_flag = Slot9Blank
			set_global_flag = Box15inSlot9
			set_global_flag = Slot13Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box15inSlot13
			clr_global_flag = Slot14Blank
			set_global_flag = Box15inSlot14
			set_global_flag = Slot13Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot14
		}
		if = {
			limit = {
				has_global_flag = Slot10Blank
			}
			clr_global_flag = Box15inSlot14
			clr_global_flag = Slot10Blank
			set_global_flag = Box15inSlot10
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot13Blank
			}
			clr_global_flag = Box15inSlot14
			clr_global_flag = Slot13Blank
			set_global_flag = Box15inSlot13
			set_global_flag = Slot14Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box15inSlot14
			clr_global_flag = Slot15Blank
			set_global_flag = Box15inSlot15
			set_global_flag = Slot14Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot15
		}
		if = {
			limit = {
				has_global_flag = Slot11Blank
			}
			clr_global_flag = Box15inSlot15
			clr_global_flag = Slot11Blank
			set_global_flag = Box15inSlot11
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot14Blank
			}
			clr_global_flag = Box15inSlot15
			clr_global_flag = Slot14Blank
			set_global_flag = Box15inSlot14
			set_global_flag = Slot15Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot16Blank
			}
			clr_global_flag = Box15inSlot15
			clr_global_flag = Slot16Blank
			set_global_flag = Box15inSlot16
			set_global_flag = Slot15Blank
		}
	}
	else_if = {
		limit = {
			has_global_flag = Box15inSlot16
		}
		if = {
			limit = {
				has_global_flag = Slot12Blank
			}
			clr_global_flag = Box15inSlot16
			clr_global_flag = Slot12Blank
			set_global_flag = Box15inSlot12
			set_global_flag = Slot16Blank
		}
		else_if = {
			limit = {
				has_global_flag = Slot15Blank
			}
			clr_global_flag = Box15inSlot16
			clr_global_flag = Slot15Blank
			set_global_flag = Box15inSlot15
			set_global_flag = Slot16Blank
		}
	}
	determineAllBoxes = yes
}

determineAllBoxes = {
	determineBox1 = yes
	determineBox2 = yes
	determineBox3 = yes
	determineBox4 = yes
	determineBox5 = yes
	determineBox6 = yes
	determineBox7 = yes
	determineBox8 = yes
	determineBox9 = yes
	determineBox10 = yes
	determineBox11 = yes
	determineBox12 = yes
	determineBox13 = yes
	determineBox14 = yes
	determineBox15 = yes
	checkWin = yes
}

checkWin = {
	if = {
		limit = {
			AND = {
				has_global_flag = Box1inSlot1
				has_global_flag = Box2inSlot2
				has_global_flag = Box3inSlot3
				has_global_flag = Box4inSlot4
				has_global_flag = Box5inSlot5
				has_global_flag = Box6inSlot6
				has_global_flag = Box7inSlot7
				has_global_flag = Box8inSlot8
				has_global_flag = Box9inSlot9
				has_global_flag = Box10inSlot10
				has_global_flag = Box11inSlot11
				has_global_flag = Box12inSlot12
				has_global_flag = Box13inSlot13
				has_global_flag = Box14inSlot14
				has_global_flag = Box15inSlot15
				has_global_flag = Slot16Blank
			}
		}
		if = {
			limit = {
				has_global_flag = Game1InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game1Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game2InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game2Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game3InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game3Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game4InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game4Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game5InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game5Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game6InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game6Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game7InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game7Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game8InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game8Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game9InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game9Beaten
		}
		else_if = {
			limit = {
				has_global_flag = Game10InProgress
			}
			set_global_flag = a_winner_is_you
			set_global_flag = Game10Beaten
		}
	}
	else = {
		clr_global_flag = a_winner_is_you
	}
}

clearAllWins = {
	clr_global_flag = Game1Beaten
	clr_global_flag = Game2Beaten
	clr_global_flag = Game3Beaten
	clr_global_flag = Game4Beaten
	clr_global_flag = Game5Beaten
	clr_global_flag = Game6Beaten
	clr_global_flag = Game7Beaten
	clr_global_flag = Game8Beaten
	clr_global_flag = Game9Beaten
	clr_global_flag = Game10Beaten
}

clearAllBoxes = {
	clr_global_flag = Game1InProgress
	clr_global_flag = Game2InProgress
	clr_global_flag = Game3InProgress
	clr_global_flag = Game4InProgress
	clr_global_flag = Game5InProgress
	clr_global_flag = Game6InProgress
	clr_global_flag = Game7InProgress
	clr_global_flag = Game8InProgress
	clr_global_flag = Game9InProgress
	clr_global_flag = Game10InProgress
	clr_global_flag = a_winner_is_you
	#
	clr_global_flag = Box1inSlot1
	clr_global_flag = Box1inSlot2
	clr_global_flag = Box1inSlot3
	clr_global_flag = Box1inSlot4
	clr_global_flag = Box1inSlot5
	clr_global_flag = Box1inSlot6
	clr_global_flag = Box1inSlot7
	clr_global_flag = Box1inSlot8
	clr_global_flag = Box1inSlot9
	clr_global_flag = Box1inSlot10
	clr_global_flag = Box1inSlot11
	clr_global_flag = Box1inSlot12
	clr_global_flag = Box1inSlot13
	clr_global_flag = Box1inSlot14
	clr_global_flag = Box1inSlot15
	#
	clr_global_flag = Box2inSlot1
	clr_global_flag = Box2inSlot2
	clr_global_flag = Box2inSlot3
	clr_global_flag = Box2inSlot4
	clr_global_flag = Box2inSlot5
	clr_global_flag = Box2inSlot6
	clr_global_flag = Box2inSlot7
	clr_global_flag = Box2inSlot8
	clr_global_flag = Box2inSlot9
	clr_global_flag = Box2inSlot10
	clr_global_flag = Box2inSlot11
	clr_global_flag = Box2inSlot12
	clr_global_flag = Box2inSlot13
	clr_global_flag = Box2inSlot14
	clr_global_flag = Box2inSlot15
	#
	clr_global_flag = Box3inSlot1
	clr_global_flag = Box3inSlot2
	clr_global_flag = Box3inSlot3
	clr_global_flag = Box3inSlot4
	clr_global_flag = Box3inSlot5
	clr_global_flag = Box3inSlot6
	clr_global_flag = Box3inSlot7
	clr_global_flag = Box3inSlot8
	clr_global_flag = Box3inSlot9
	clr_global_flag = Box3inSlot10
	clr_global_flag = Box3inSlot11
	clr_global_flag = Box3inSlot12
	clr_global_flag = Box3inSlot13
	clr_global_flag = Box3inSlot14
	clr_global_flag = Box3inSlot15
	#
	clr_global_flag = Box4inSlot1
	clr_global_flag = Box4inSlot2
	clr_global_flag = Box4inSlot3
	clr_global_flag = Box4inSlot4
	clr_global_flag = Box4inSlot5
	clr_global_flag = Box4inSlot6
	clr_global_flag = Box4inSlot7
	clr_global_flag = Box4inSlot8
	clr_global_flag = Box4inSlot9
	clr_global_flag = Box4inSlot10
	clr_global_flag = Box4inSlot11
	clr_global_flag = Box4inSlot12
	clr_global_flag = Box4inSlot13
	clr_global_flag = Box4inSlot14
	clr_global_flag = Box4inSlot15
	#
	clr_global_flag = Box5inSlot1
	clr_global_flag = Box5inSlot2
	clr_global_flag = Box5inSlot3
	clr_global_flag = Box5inSlot4
	clr_global_flag = Box5inSlot5
	clr_global_flag = Box5inSlot6
	clr_global_flag = Box5inSlot7
	clr_global_flag = Box5inSlot8
	clr_global_flag = Box5inSlot9
	clr_global_flag = Box5inSlot10
	clr_global_flag = Box5inSlot11
	clr_global_flag = Box5inSlot12
	clr_global_flag = Box5inSlot13
	clr_global_flag = Box5inSlot14
	clr_global_flag = Box5inSlot15
	#
	clr_global_flag = Box6inSlot1
	clr_global_flag = Box6inSlot2
	clr_global_flag = Box6inSlot3
	clr_global_flag = Box6inSlot4
	clr_global_flag = Box6inSlot5
	clr_global_flag = Box6inSlot6
	clr_global_flag = Box6inSlot7
	clr_global_flag = Box6inSlot8
	clr_global_flag = Box6inSlot9
	clr_global_flag = Box6inSlot10
	clr_global_flag = Box6inSlot11
	clr_global_flag = Box6inSlot12
	clr_global_flag = Box6inSlot13
	clr_global_flag = Box6inSlot14
	clr_global_flag = Box6inSlot15
	#
	clr_global_flag = Box7inSlot1
	clr_global_flag = Box7inSlot2
	clr_global_flag = Box7inSlot3
	clr_global_flag = Box7inSlot4
	clr_global_flag = Box7inSlot5
	clr_global_flag = Box7inSlot6
	clr_global_flag = Box7inSlot7
	clr_global_flag = Box7inSlot8
	clr_global_flag = Box7inSlot9
	clr_global_flag = Box7inSlot10
	clr_global_flag = Box7inSlot11
	clr_global_flag = Box7inSlot12
	clr_global_flag = Box7inSlot13
	clr_global_flag = Box7inSlot14
	clr_global_flag = Box7inSlot15
	#
	clr_global_flag = Box8inSlot1
	clr_global_flag = Box8inSlot2
	clr_global_flag = Box8inSlot3
	clr_global_flag = Box8inSlot4
	clr_global_flag = Box8inSlot5
	clr_global_flag = Box8inSlot6
	clr_global_flag = Box8inSlot7
	clr_global_flag = Box8inSlot8
	clr_global_flag = Box8inSlot9
	clr_global_flag = Box8inSlot10
	clr_global_flag = Box8inSlot11
	clr_global_flag = Box8inSlot12
	clr_global_flag = Box8inSlot13
	clr_global_flag = Box8inSlot14
	clr_global_flag = Box8inSlot15
	#
	clr_global_flag = Box9inSlot1
	clr_global_flag = Box9inSlot2
	clr_global_flag = Box9inSlot3
	clr_global_flag = Box9inSlot4
	clr_global_flag = Box9inSlot5
	clr_global_flag = Box9inSlot6
	clr_global_flag = Box9inSlot7
	clr_global_flag = Box9inSlot8
	clr_global_flag = Box9inSlot9
	clr_global_flag = Box9inSlot10
	clr_global_flag = Box9inSlot11
	clr_global_flag = Box9inSlot12
	clr_global_flag = Box9inSlot13
	clr_global_flag = Box9inSlot14
	clr_global_flag = Box9inSlot15
	#
	clr_global_flag = Box10inSlot1
	clr_global_flag = Box10inSlot2
	clr_global_flag = Box10inSlot3
	clr_global_flag = Box10inSlot4
	clr_global_flag = Box10inSlot5
	clr_global_flag = Box10inSlot6
	clr_global_flag = Box10inSlot7
	clr_global_flag = Box10inSlot8
	clr_global_flag = Box10inSlot9
	clr_global_flag = Box10inSlot10
	clr_global_flag = Box10inSlot11
	clr_global_flag = Box10inSlot12
	clr_global_flag = Box10inSlot13
	clr_global_flag = Box10inSlot14
	clr_global_flag = Box10inSlot15
	#
	clr_global_flag = Box11inSlot1
	clr_global_flag = Box11inSlot2
	clr_global_flag = Box11inSlot3
	clr_global_flag = Box11inSlot4
	clr_global_flag = Box11inSlot5
	clr_global_flag = Box11inSlot6
	clr_global_flag = Box11inSlot7
	clr_global_flag = Box11inSlot8
	clr_global_flag = Box11inSlot9
	clr_global_flag = Box11inSlot10
	clr_global_flag = Box11inSlot11
	clr_global_flag = Box11inSlot12
	clr_global_flag = Box11inSlot13
	clr_global_flag = Box11inSlot14
	clr_global_flag = Box11inSlot15
	#
	clr_global_flag = Box12inSlot1
	clr_global_flag = Box12inSlot2
	clr_global_flag = Box12inSlot3
	clr_global_flag = Box12inSlot4
	clr_global_flag = Box12inSlot5
	clr_global_flag = Box12inSlot6
	clr_global_flag = Box12inSlot7
	clr_global_flag = Box12inSlot8
	clr_global_flag = Box12inSlot9
	clr_global_flag = Box12inSlot10
	clr_global_flag = Box12inSlot11
	clr_global_flag = Box12inSlot12
	clr_global_flag = Box12inSlot13
	clr_global_flag = Box12inSlot14
	clr_global_flag = Box12inSlot15
	#
	clr_global_flag = Box13inSlot1
	clr_global_flag = Box13inSlot2
	clr_global_flag = Box13inSlot3
	clr_global_flag = Box13inSlot4
	clr_global_flag = Box13inSlot5
	clr_global_flag = Box13inSlot6
	clr_global_flag = Box13inSlot7
	clr_global_flag = Box13inSlot8
	clr_global_flag = Box13inSlot9
	clr_global_flag = Box13inSlot10
	clr_global_flag = Box13inSlot11
	clr_global_flag = Box13inSlot12
	clr_global_flag = Box13inSlot13
	clr_global_flag = Box13inSlot14
	clr_global_flag = Box13inSlot15
	#
	clr_global_flag = Box14inSlot1
	clr_global_flag = Box14inSlot2
	clr_global_flag = Box14inSlot3
	clr_global_flag = Box14inSlot4
	clr_global_flag = Box14inSlot5
	clr_global_flag = Box14inSlot6
	clr_global_flag = Box14inSlot7
	clr_global_flag = Box14inSlot8
	clr_global_flag = Box14inSlot9
	clr_global_flag = Box14inSlot10
	clr_global_flag = Box14inSlot11
	clr_global_flag = Box14inSlot12
	clr_global_flag = Box14inSlot13
	clr_global_flag = Box14inSlot14
	clr_global_flag = Box14inSlot15
	#
	clr_global_flag = Box15inSlot1
	clr_global_flag = Box15inSlot2
	clr_global_flag = Box15inSlot3
	clr_global_flag = Box15inSlot4
	clr_global_flag = Box15inSlot5
	clr_global_flag = Box15inSlot6
	clr_global_flag = Box15inSlot7
	clr_global_flag = Box15inSlot8
	clr_global_flag = Box15inSlot9
	clr_global_flag = Box15inSlot10
	clr_global_flag = Box15inSlot11
	clr_global_flag = Box15inSlot12
	clr_global_flag = Box15inSlot13
	clr_global_flag = Box15inSlot14
	clr_global_flag = Box15inSlot15
	#
	clr_global_flag = Slot1Blank
	clr_global_flag = Slot2Blank
	clr_global_flag = Slot3Blank
	clr_global_flag = Slot4Blank
	clr_global_flag = Slot5Blank
	clr_global_flag = Slot6Blank
	clr_global_flag = Slot7Blank
	clr_global_flag = Slot8Blank
	clr_global_flag = Slot9Blank
	clr_global_flag = Slot10Blank
	clr_global_flag = Slot11Blank
	clr_global_flag = Slot12Blank
	clr_global_flag = Slot13Blank
	clr_global_flag = Slot14Blank
	clr_global_flag = Slot15Blank
	clr_global_flag = Slot16Blank
}

determineBox1 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot1
				has_global_flag = Box1inSlot5
				has_global_flag = Box1inSlot9
				has_global_flag = Box1inSlot13
			}
		}
		set_variable = { global.Box1XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot2
				has_global_flag = Box1inSlot6
				has_global_flag = Box1inSlot10
				has_global_flag = Box1inSlot14
			}
		}
		set_variable = { global.Box1XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot3
				has_global_flag = Box1inSlot7
				has_global_flag = Box1inSlot11
				has_global_flag = Box1inSlot15
			}
		}
		set_variable = { global.Box1XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot4
				has_global_flag = Box1inSlot8
				has_global_flag = Box1inSlot12
				has_global_flag = Box1inSlot16
			}
		}
		set_variable = { global.Box1XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot1
				has_global_flag = Box1inSlot2
				has_global_flag = Box1inSlot3
				has_global_flag = Box1inSlot4
			}
		}
		set_variable = { global.Box1YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot5
				has_global_flag = Box1inSlot6
				has_global_flag = Box1inSlot7
				has_global_flag = Box1inSlot8
			}
		}
		set_variable = { global.Box1YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot9
				has_global_flag = Box1inSlot10
				has_global_flag = Box1inSlot11
				has_global_flag = Box1inSlot12
			}
		}
		set_variable = { global.Box1YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box1inSlot13
				has_global_flag = Box1inSlot14
				has_global_flag = Box1inSlot15
				has_global_flag = Box1inSlot16
			}
		}
		set_variable = { global.Box1YPos = 122 }
	}
}

determineBox2 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot1
				has_global_flag = Box2inSlot5
				has_global_flag = Box2inSlot9
				has_global_flag = Box2inSlot13
			}
		}
		set_variable = { global.Box2XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot2
				has_global_flag = Box2inSlot6
				has_global_flag = Box2inSlot10
				has_global_flag = Box2inSlot14
			}
		}
		set_variable = { global.Box2XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot3
				has_global_flag = Box2inSlot7
				has_global_flag = Box2inSlot11
				has_global_flag = Box2inSlot15
			}
		}
		set_variable = { global.Box2XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot4
				has_global_flag = Box2inSlot8
				has_global_flag = Box2inSlot12
				has_global_flag = Box2inSlot16
			}
		}
		set_variable = { global.Box2XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot1
				has_global_flag = Box2inSlot2
				has_global_flag = Box2inSlot3
				has_global_flag = Box2inSlot4
			}
		}
		set_variable = { global.Box2YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot5
				has_global_flag = Box2inSlot6
				has_global_flag = Box2inSlot7
				has_global_flag = Box2inSlot8
			}
		}
		set_variable = { global.Box2YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot9
				has_global_flag = Box2inSlot10
				has_global_flag = Box2inSlot11
				has_global_flag = Box2inSlot12
			}
		}
		set_variable = { global.Box2YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box2inSlot13
				has_global_flag = Box2inSlot14
				has_global_flag = Box2inSlot15
				has_global_flag = Box2inSlot16
			}
		}
		set_variable = { global.Box2YPos = 122 }
	}
}

determineBox3 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot1
				has_global_flag = Box3inSlot5
				has_global_flag = Box3inSlot9
				has_global_flag = Box3inSlot13
			}
		}
		set_variable = { global.Box3XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot2
				has_global_flag = Box3inSlot6
				has_global_flag = Box3inSlot10
				has_global_flag = Box3inSlot14
			}
		}
		set_variable = { global.Box3XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot3
				has_global_flag = Box3inSlot7
				has_global_flag = Box3inSlot11
				has_global_flag = Box3inSlot15
			}
		}
		set_variable = { global.Box3XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot4
				has_global_flag = Box3inSlot8
				has_global_flag = Box3inSlot12
				has_global_flag = Box3inSlot16
			}
		}
		set_variable = { global.Box3XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot1
				has_global_flag = Box3inSlot2
				has_global_flag = Box3inSlot3
				has_global_flag = Box3inSlot4
			}
		}
		set_variable = { global.Box3YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot5
				has_global_flag = Box3inSlot6
				has_global_flag = Box3inSlot7
				has_global_flag = Box3inSlot8
			}
		}
		set_variable = { global.Box3YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot9
				has_global_flag = Box3inSlot10
				has_global_flag = Box3inSlot11
				has_global_flag = Box3inSlot12
			}
		}
		set_variable = { global.Box3YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box3inSlot13
				has_global_flag = Box3inSlot14
				has_global_flag = Box3inSlot15
				has_global_flag = Box3inSlot16
			}
		}
		set_variable = { global.Box3YPos = 122 }
	}
}

determineBox4 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot1
				has_global_flag = Box4inSlot5
				has_global_flag = Box4inSlot9
				has_global_flag = Box4inSlot13
			}
		}
		set_variable = { global.Box4XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot2
				has_global_flag = Box4inSlot6
				has_global_flag = Box4inSlot10
				has_global_flag = Box4inSlot14
			}
		}
		set_variable = { global.Box4XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot3
				has_global_flag = Box4inSlot7
				has_global_flag = Box4inSlot11
				has_global_flag = Box4inSlot15
			}
		}
		set_variable = { global.Box4XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot4
				has_global_flag = Box4inSlot8
				has_global_flag = Box4inSlot12
				has_global_flag = Box4inSlot16
			}
		}
		set_variable = { global.Box4XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot1
				has_global_flag = Box4inSlot2
				has_global_flag = Box4inSlot3
				has_global_flag = Box4inSlot4
			}
		}
		set_variable = { global.Box4YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot5
				has_global_flag = Box4inSlot6
				has_global_flag = Box4inSlot7
				has_global_flag = Box4inSlot8
			}
		}
		set_variable = { global.Box4YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot9
				has_global_flag = Box4inSlot10
				has_global_flag = Box4inSlot11
				has_global_flag = Box4inSlot12
			}
		}
		set_variable = { global.Box4YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box4inSlot13
				has_global_flag = Box4inSlot14
				has_global_flag = Box4inSlot15
				has_global_flag = Box4inSlot16
			}
		}
		set_variable = { global.Box4YPos = 122 }
	}
}

determineBox5 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot1
				has_global_flag = Box5inSlot5
				has_global_flag = Box5inSlot9
				has_global_flag = Box5inSlot13
			}
		}
		set_variable = { global.Box5XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot2
				has_global_flag = Box5inSlot6
				has_global_flag = Box5inSlot10
				has_global_flag = Box5inSlot14
			}
		}
		set_variable = { global.Box5XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot3
				has_global_flag = Box5inSlot7
				has_global_flag = Box5inSlot11
				has_global_flag = Box5inSlot15
			}
		}
		set_variable = { global.Box5XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot4
				has_global_flag = Box5inSlot8
				has_global_flag = Box5inSlot12
				has_global_flag = Box5inSlot16
			}
		}
		set_variable = { global.Box5XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot1
				has_global_flag = Box5inSlot2
				has_global_flag = Box5inSlot3
				has_global_flag = Box5inSlot4
			}
		}
		set_variable = { global.Box5YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot5
				has_global_flag = Box5inSlot6
				has_global_flag = Box5inSlot7
				has_global_flag = Box5inSlot8
			}
		}
		set_variable = { global.Box5YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot9
				has_global_flag = Box5inSlot10
				has_global_flag = Box5inSlot11
				has_global_flag = Box5inSlot12
			}
		}
		set_variable = { global.Box5YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box5inSlot13
				has_global_flag = Box5inSlot14
				has_global_flag = Box5inSlot15
				has_global_flag = Box5inSlot16
			}
		}
		set_variable = { global.Box5YPos = 122 }
	}
}

determineBox6 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot1
				has_global_flag = Box6inSlot5
				has_global_flag = Box6inSlot9
				has_global_flag = Box6inSlot13
			}
		}
		set_variable = { global.Box6XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot2
				has_global_flag = Box6inSlot6
				has_global_flag = Box6inSlot10
				has_global_flag = Box6inSlot14
			}
		}
		set_variable = { global.Box6XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot3
				has_global_flag = Box6inSlot7
				has_global_flag = Box6inSlot11
				has_global_flag = Box6inSlot15
			}
		}
		set_variable = { global.Box6XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot4
				has_global_flag = Box6inSlot8
				has_global_flag = Box6inSlot12
				has_global_flag = Box6inSlot16
			}
		}
		set_variable = { global.Box6XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot1
				has_global_flag = Box6inSlot2
				has_global_flag = Box6inSlot3
				has_global_flag = Box6inSlot4
			}
		}
		set_variable = { global.Box6YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot5
				has_global_flag = Box6inSlot6
				has_global_flag = Box6inSlot7
				has_global_flag = Box6inSlot8
			}
		}
		set_variable = { global.Box6YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot9
				has_global_flag = Box6inSlot10
				has_global_flag = Box6inSlot11
				has_global_flag = Box6inSlot12
			}
		}
		set_variable = { global.Box6YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box6inSlot13
				has_global_flag = Box6inSlot14
				has_global_flag = Box6inSlot15
				has_global_flag = Box6inSlot16
			}
		}
		set_variable = { global.Box6YPos = 122 }
	}
}

determineBox7 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot1
				has_global_flag = Box7inSlot5
				has_global_flag = Box7inSlot9
				has_global_flag = Box7inSlot13
			}
		}
		set_variable = { global.Box7XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot2
				has_global_flag = Box7inSlot6
				has_global_flag = Box7inSlot10
				has_global_flag = Box7inSlot14
			}
		}
		set_variable = { global.Box7XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot3
				has_global_flag = Box7inSlot7
				has_global_flag = Box7inSlot11
				has_global_flag = Box7inSlot15
			}
		}
		set_variable = { global.Box7XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot4
				has_global_flag = Box7inSlot8
				has_global_flag = Box7inSlot12
				has_global_flag = Box7inSlot16
			}
		}
		set_variable = { global.Box7XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot1
				has_global_flag = Box7inSlot2
				has_global_flag = Box7inSlot3
				has_global_flag = Box7inSlot4
			}
		}
		set_variable = { global.Box7YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot5
				has_global_flag = Box7inSlot6
				has_global_flag = Box7inSlot7
				has_global_flag = Box7inSlot8
			}
		}
		set_variable = { global.Box7YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot9
				has_global_flag = Box7inSlot10
				has_global_flag = Box7inSlot11
				has_global_flag = Box7inSlot12
			}
		}
		set_variable = { global.Box7YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box7inSlot13
				has_global_flag = Box7inSlot14
				has_global_flag = Box7inSlot15
				has_global_flag = Box7inSlot16
			}
		}
		set_variable = { global.Box7YPos = 122 }
	}
}

determineBox8 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot1
				has_global_flag = Box8inSlot5
				has_global_flag = Box8inSlot9
				has_global_flag = Box8inSlot13
			}
		}
		set_variable = { global.Box8XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot2
				has_global_flag = Box8inSlot6
				has_global_flag = Box8inSlot10
				has_global_flag = Box8inSlot14
			}
		}
		set_variable = { global.Box8XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot3
				has_global_flag = Box8inSlot7
				has_global_flag = Box8inSlot11
				has_global_flag = Box8inSlot15
			}
		}
		set_variable = { global.Box8XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot4
				has_global_flag = Box8inSlot8
				has_global_flag = Box8inSlot12
				has_global_flag = Box8inSlot16
			}
		}
		set_variable = { global.Box8XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot1
				has_global_flag = Box8inSlot2
				has_global_flag = Box8inSlot3
				has_global_flag = Box8inSlot4
			}
		}
		set_variable = { global.Box8YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot5
				has_global_flag = Box8inSlot6
				has_global_flag = Box8inSlot7
				has_global_flag = Box8inSlot8
			}
		}
		set_variable = { global.Box8YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot9
				has_global_flag = Box8inSlot10
				has_global_flag = Box8inSlot11
				has_global_flag = Box8inSlot12
			}
		}
		set_variable = { global.Box8YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box8inSlot13
				has_global_flag = Box8inSlot14
				has_global_flag = Box8inSlot15
				has_global_flag = Box8inSlot16
			}
		}
		set_variable = { global.Box8YPos = 122 }
	}
}

determineBox9 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot1
				has_global_flag = Box9inSlot5
				has_global_flag = Box9inSlot9
				has_global_flag = Box9inSlot13
			}
		}
		set_variable = { global.Box9XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot2
				has_global_flag = Box9inSlot6
				has_global_flag = Box9inSlot10
				has_global_flag = Box9inSlot14
			}
		}
		set_variable = { global.Box9XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot3
				has_global_flag = Box9inSlot7
				has_global_flag = Box9inSlot11
				has_global_flag = Box9inSlot15
			}
		}
		set_variable = { global.Box9XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot4
				has_global_flag = Box9inSlot8
				has_global_flag = Box9inSlot12
				has_global_flag = Box9inSlot16
			}
		}
		set_variable = { global.Box9XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot1
				has_global_flag = Box9inSlot2
				has_global_flag = Box9inSlot3
				has_global_flag = Box9inSlot4
			}
		}
		set_variable = { global.Box9YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot5
				has_global_flag = Box9inSlot6
				has_global_flag = Box9inSlot7
				has_global_flag = Box9inSlot8
			}
		}
		set_variable = { global.Box9YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot9
				has_global_flag = Box9inSlot10
				has_global_flag = Box9inSlot11
				has_global_flag = Box9inSlot12
			}
		}
		set_variable = { global.Box9YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box9inSlot13
				has_global_flag = Box9inSlot14
				has_global_flag = Box9inSlot15
				has_global_flag = Box9inSlot16
			}
		}
		set_variable = { global.Box9YPos = 122 }
	}
}

determineBox10 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot1
				has_global_flag = Box10inSlot5
				has_global_flag = Box10inSlot9
				has_global_flag = Box10inSlot13
			}
		}
		set_variable = { global.Box10XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot2
				has_global_flag = Box10inSlot6
				has_global_flag = Box10inSlot10
				has_global_flag = Box10inSlot14
			}
		}
		set_variable = { global.Box10XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot3
				has_global_flag = Box10inSlot7
				has_global_flag = Box10inSlot11
				has_global_flag = Box10inSlot15
			}
		}
		set_variable = { global.Box10XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot4
				has_global_flag = Box10inSlot8
				has_global_flag = Box10inSlot12
				has_global_flag = Box10inSlot16
			}
		}
		set_variable = { global.Box10XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot1
				has_global_flag = Box10inSlot2
				has_global_flag = Box10inSlot3
				has_global_flag = Box10inSlot4
			}
		}
		set_variable = { global.Box10YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot5
				has_global_flag = Box10inSlot6
				has_global_flag = Box10inSlot7
				has_global_flag = Box10inSlot8
			}
		}
		set_variable = { global.Box10YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot9
				has_global_flag = Box10inSlot10
				has_global_flag = Box10inSlot11
				has_global_flag = Box10inSlot12
			}
		}
		set_variable = { global.Box10YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box10inSlot13
				has_global_flag = Box10inSlot14
				has_global_flag = Box10inSlot15
				has_global_flag = Box10inSlot16
			}
		}
		set_variable = { global.Box10YPos = 122 }
	}
}

determineBox11 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot1
				has_global_flag = Box11inSlot5
				has_global_flag = Box11inSlot9
				has_global_flag = Box11inSlot13
			}
		}
		set_variable = { global.Box11XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot2
				has_global_flag = Box11inSlot6
				has_global_flag = Box11inSlot10
				has_global_flag = Box11inSlot14
			}
		}
		set_variable = { global.Box11XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot3
				has_global_flag = Box11inSlot7
				has_global_flag = Box11inSlot11
				has_global_flag = Box11inSlot15
			}
		}
		set_variable = { global.Box11XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot4
				has_global_flag = Box11inSlot8
				has_global_flag = Box11inSlot12
				has_global_flag = Box11inSlot16
			}
		}
		set_variable = { global.Box11XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot1
				has_global_flag = Box11inSlot2
				has_global_flag = Box11inSlot3
				has_global_flag = Box11inSlot4
			}
		}
		set_variable = { global.Box11YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot5
				has_global_flag = Box11inSlot6
				has_global_flag = Box11inSlot7
				has_global_flag = Box11inSlot8
			}
		}
		set_variable = { global.Box11YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot9
				has_global_flag = Box11inSlot10
				has_global_flag = Box11inSlot11
				has_global_flag = Box11inSlot12
			}
		}
		set_variable = { global.Box11YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box11inSlot13
				has_global_flag = Box11inSlot14
				has_global_flag = Box11inSlot15
				has_global_flag = Box11inSlot16
			}
		}
		set_variable = { global.Box11YPos = 122 }
	}
}

determineBox12 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot1
				has_global_flag = Box12inSlot5
				has_global_flag = Box12inSlot9
				has_global_flag = Box12inSlot13
			}
		}
		set_variable = { global.Box12XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot2
				has_global_flag = Box12inSlot6
				has_global_flag = Box12inSlot10
				has_global_flag = Box12inSlot14
			}
		}
		set_variable = { global.Box12XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot3
				has_global_flag = Box12inSlot7
				has_global_flag = Box12inSlot11
				has_global_flag = Box12inSlot15
			}
		}
		set_variable = { global.Box12XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot4
				has_global_flag = Box12inSlot8
				has_global_flag = Box12inSlot12
				has_global_flag = Box12inSlot16
			}
		}
		set_variable = { global.Box12XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot1
				has_global_flag = Box12inSlot2
				has_global_flag = Box12inSlot3
				has_global_flag = Box12inSlot4
			}
		}
		set_variable = { global.Box12YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot5
				has_global_flag = Box12inSlot6
				has_global_flag = Box12inSlot7
				has_global_flag = Box12inSlot8
			}
		}
		set_variable = { global.Box12YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot9
				has_global_flag = Box12inSlot10
				has_global_flag = Box12inSlot11
				has_global_flag = Box12inSlot12
			}
		}
		set_variable = { global.Box12YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box12inSlot13
				has_global_flag = Box12inSlot14
				has_global_flag = Box12inSlot15
				has_global_flag = Box12inSlot16
			}
		}
		set_variable = { global.Box12YPos = 122 }
	}
}

determineBox13 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot1
				has_global_flag = Box13inSlot5
				has_global_flag = Box13inSlot9
				has_global_flag = Box13inSlot13
			}
		}
		set_variable = { global.Box13XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot2
				has_global_flag = Box13inSlot6
				has_global_flag = Box13inSlot10
				has_global_flag = Box13inSlot14
			}
		}
		set_variable = { global.Box13XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot3
				has_global_flag = Box13inSlot7
				has_global_flag = Box13inSlot11
				has_global_flag = Box13inSlot15
			}
		}
		set_variable = { global.Box13XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot4
				has_global_flag = Box13inSlot8
				has_global_flag = Box13inSlot12
				has_global_flag = Box13inSlot16
			}
		}
		set_variable = { global.Box13XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot1
				has_global_flag = Box13inSlot2
				has_global_flag = Box13inSlot3
				has_global_flag = Box13inSlot4
			}
		}
		set_variable = { global.Box13YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot5
				has_global_flag = Box13inSlot6
				has_global_flag = Box13inSlot7
				has_global_flag = Box13inSlot8
			}
		}
		set_variable = { global.Box13YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot9
				has_global_flag = Box13inSlot10
				has_global_flag = Box13inSlot11
				has_global_flag = Box13inSlot12
			}
		}
		set_variable = { global.Box13YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box13inSlot13
				has_global_flag = Box13inSlot14
				has_global_flag = Box13inSlot15
				has_global_flag = Box13inSlot16
			}
		}
		set_variable = { global.Box13YPos = 122 }
	}
}

determineBox14 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot1
				has_global_flag = Box14inSlot5
				has_global_flag = Box14inSlot9
				has_global_flag = Box14inSlot13
			}
		}
		set_variable = { global.Box14XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot2
				has_global_flag = Box14inSlot6
				has_global_flag = Box14inSlot10
				has_global_flag = Box14inSlot14
			}
		}
		set_variable = { global.Box14XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot3
				has_global_flag = Box14inSlot7
				has_global_flag = Box14inSlot11
				has_global_flag = Box14inSlot15
			}
		}
		set_variable = { global.Box14XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot4
				has_global_flag = Box14inSlot8
				has_global_flag = Box14inSlot12
				has_global_flag = Box14inSlot16
			}
		}
		set_variable = { global.Box14XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot1
				has_global_flag = Box14inSlot2
				has_global_flag = Box14inSlot3
				has_global_flag = Box14inSlot4
			}
		}
		set_variable = { global.Box14YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot5
				has_global_flag = Box14inSlot6
				has_global_flag = Box14inSlot7
				has_global_flag = Box14inSlot8
			}
		}
		set_variable = { global.Box14YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot9
				has_global_flag = Box14inSlot10
				has_global_flag = Box14inSlot11
				has_global_flag = Box14inSlot12
			}
		}
		set_variable = { global.Box14YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box14inSlot13
				has_global_flag = Box14inSlot14
				has_global_flag = Box14inSlot15
				has_global_flag = Box14inSlot16
			}
		}
		set_variable = { global.Box14YPos = 122 }
	}
}

determineBox15 = {
	if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot1
				has_global_flag = Box15inSlot5
				has_global_flag = Box15inSlot9
				has_global_flag = Box15inSlot13
			}
		}
		set_variable = { global.Box15XPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot2
				has_global_flag = Box15inSlot6
				has_global_flag = Box15inSlot10
				has_global_flag = Box15inSlot14
			}
		}
		set_variable = { global.Box15XPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot3
				has_global_flag = Box15inSlot7
				has_global_flag = Box15inSlot11
				has_global_flag = Box15inSlot15
			}
		}
		set_variable = { global.Box15XPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot4
				has_global_flag = Box15inSlot8
				has_global_flag = Box15inSlot12
				has_global_flag = Box15inSlot16
			}
		}
		set_variable = { global.Box15XPos = 122 }
	}
	
	if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot1
				has_global_flag = Box15inSlot2
				has_global_flag = Box15inSlot3
				has_global_flag = Box15inSlot4
			}
		}
		set_variable = { global.Box15YPos = 11 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot5
				has_global_flag = Box15inSlot6
				has_global_flag = Box15inSlot7
				has_global_flag = Box15inSlot8
			}
		}
		set_variable = { global.Box15YPos = 48 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot9
				has_global_flag = Box15inSlot10
				has_global_flag = Box15inSlot11
				has_global_flag = Box15inSlot12
			}
		}
		set_variable = { global.Box15YPos = 85 }
	}
	else_if = {
		limit = {
			OR = {
				has_global_flag = Box15inSlot13
				has_global_flag = Box15inSlot14
				has_global_flag = Box15inSlot15
				has_global_flag = Box15inSlot16
			}
		}
		set_variable = { global.Box15YPos = 122 }
	}
}