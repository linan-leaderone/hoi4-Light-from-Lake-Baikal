scripted_gui = {

	TNO_USA_political_situation_text = {
		context_type = decision_category
		window_name = "TNO_USA_political_situation_text"
	}
	TNO_US_Voting_Open = {
		context_type = player_context
		parent_window_token = politics_tab 
		window_name = "TNO_us_voting_menu_open"

		visible = {
			tag = USA
		}

		effects = {
			us_voting_menu_open_click = {
				USA_GUI_opening_effect = yes
			}
		}

		triggers = {
			gui_alert_visible = {
				has_country_flag = gui_alert_visible
			}
		}
	}

	TNO_US_Voting_Open_Main = {
		context_type = player_context
		parent_window_token = "TNO_us_voting_menu_open"
		window_name = "TNO_us_voting_menu_main"

		visible = {
			has_country_flag = US_voting_gui_open
		}

		triggers = {
			us_voting_the_rd_senate_visible = {
				OR = {
					AND = {
						OR = {
							check_variable = { RDC_senators > NPP_senators }
							AND = {
								check_variable = { RDC_senators = NPP_senators }
								OR = {
									has_government = liberalism
									has_government = conservatism
								}
							}
						}
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 1 }
							check_variable = { USA_GUI_selected_tab = 3 }
						}
					}
					AND = {
						check_variable = { RDC_senators_prev > NPP_senators_prev }
						check_variable = { USA_GUI_selected_tab_sub = 2 }
					}
				}
				NOT = {
					check_variable = { USA_GUI_selected_tab = 2 }
				}
			}
			us_voting_the_npp_senate_visible = {
				OR = {
					AND = {
						OR = {
							check_variable = { RDC_senators < NPP_senators }
							AND = {
								check_variable = { RDC_senators = NPP_senators }
								NOT = {
									has_government = liberalism
									has_government = conservatism
								}
							}
						}
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 1 }
							check_variable = { USA_GUI_selected_tab = 3 }
						}
					}
					AND = {
						check_variable = { RDC_senators_prev < NPP_senators_prev }
						check_variable = { USA_GUI_selected_tab_sub = 2 }
					}
				}
				NOT = {
					check_variable = { USA_GUI_selected_tab = 2 }
				}
			}
			us_voting_senate_controlled_by_visible = {
				NOT = {
					check_variable = { USA_GUI_selected_tab = 2 }
				}
			}

			us_voting_occupied_states_visible = {
				OR = {
					AND = {
						NOT = { 629 = { is_owned_by = ROOT } }
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 1 }
							check_variable = { USA_GUI_selected_tab_sub = 3 }
							check_variable = { USA_GUI_selected_tab_sub = 5 }
							check_variable = { USA_GUI_selected_tab_sub = 6 }
							check_variable = { USA_GUI_selected_tab_sub = 7 }
						}
					}
					AND = {
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 2 }
							check_variable = { USA_GUI_selected_tab_sub = 4 }
						}
						check_variable = { US_hawaii_status = 1 }
					}
				}
			}
			us_voting_occupied_states_alaska_visible = {
				OR = {
					AND = {
						NOT = { 772 = { is_owned_by = ROOT } }
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 1 }
							check_variable = { USA_GUI_selected_tab_sub = 3 }
							check_variable = { USA_GUI_selected_tab_sub = 5 }
							check_variable = { USA_GUI_selected_tab_sub = 6 }
							check_variable = { USA_GUI_selected_tab_sub = 7 }
						}
					}
					AND = {
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 2 }
							check_variable = { USA_GUI_selected_tab_sub = 4 }
						}
						check_variable = { US_alaska_status = 1 }
					}
				}
			}
			us_voting_LA_visible = {
				OR = {
					AND = {
						NOT = {
							768 = { is_owned_by = ROOT }
							769 = { is_owned_by = ROOT }
						}
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 1 }
							check_variable = { USA_GUI_selected_tab_sub = 3 }
							check_variable = { USA_GUI_selected_tab_sub = 5 }
							check_variable = { USA_GUI_selected_tab_sub = 6 }
							check_variable = { USA_GUI_selected_tab_sub = 7 }
						}
					}
					AND = {
						OR = {
							check_variable = { USA_GUI_selected_tab_sub = 2 }
							check_variable = { USA_GUI_selected_tab_sub = 4 }
						}
						check_variable = { US_california_status = 1 }
					}
				}
			}
			us_voting_background_alaska_hawaii_visible = {
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1959 }
					}
					NOT = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
					}
				}
			}
			us_voting_free_states_visible = {
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1959 }
					}
					NOT = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
					}
				}
			}
			us_voting_outlines_main_visible = {
				NOT = {
					has_country_flag = no_state_outlines
				}
				check_variable = { USA_states_icon_array^idx > 0 }
				check_variable = { USA_states_icon_array^idx < 43 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_outlines_secondary_visible = {
				NOT = {
					has_country_flag = no_state_outlines
				}
				check_variable = { USA_states_icon_array^idx > 0 }
				check_variable = { USA_states_icon_array^idx < 10 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_main_icons_visible = {
				has_country_flag = no_state_outlines
				check_variable = { USA_states_icon_array^idx > 0 }
				check_variable = { USA_states_icon_array^idx < 44 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_secondary_icons_visible = {
				has_country_flag = no_state_outlines
				check_variable = { USA_states_icon_array^idx > 0 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_previous_elections_outline_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
			}
			us_voting_previous_elections_1940_outline_visible = {
				check_variable = { USA_GUI_selected_prev_year = 1940 }
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
			}
			us_voting_previous_elections_1940_button_visible = {
				NOT = {
					check_variable = { USA_GUI_selected_prev_year = 1940 }
				}
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
			}
			us_voting_pres_left_hand_side_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
			}
			us_voting_pres_left_hand_side_click_enabled = {
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			us_voting_pres_right_hand_side_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
			}
			us_voting_pres_right_hand_side_click_enabled = {
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			US_presidential_condenter_npp_name_animated_click_enabled = {
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			US_presidential_condenter_rdc_name_animated_click_enabled = {
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			us_voting_pres_nationalist_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				OR = {
					check_variable = { USA_GUI_selected_prev_year = 1948 }
					check_variable = { USA_GUI_selected_prev_year = 1952 }
				}
			}
			us_voting_pres_progressive_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				OR = {
					check_variable = { USA_GUI_selected_prev_year = 1944 }
					check_variable = { USA_GUI_selected_prev_year = 1956 }
				}
			}
			us_voting_pres_republican_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year < 1960 }
			}
			us_voting_pres_democrat_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year < 1960 }
			}
			us_voting_pres_nationalist_bar_56_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
			}
			us_voting_pres_npp_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_prev_year > 1956 }
			}
			us_voting_pres_rd_bar_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_GUI_selected_prev_year > 1956 }
			}
			us_voting_current_predictions_bg_visible = {
				has_country_flag = USA_senate_elections
				check_variable = { USA_GUI_selected_tab_sub = 1 }
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
			}
			us_voting_current_predictions_button_visible = {
				has_country_flag = USA_senate_elections
				check_variable = { USA_GUI_selected_tab_sub = 1 }
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
			}
			us_voting_hide_show_button_bg_visible = {
				has_country_flag = USA_senate_elections
				check_variable = { USA_GUI_selected_tab_sub = 1 }
			}
			us_voting_hide_show_button_hide_visible = {
				has_country_flag = USA_senate_elections
				check_variable = { USA_GUI_selected_tab_sub = 1 }
				NOT = {
					has_country_flag = USA_hidden_unelected_states
				}
			}
			us_voting_hide_show_button_show_visible = {
				has_country_flag = USA_senate_elections
				check_variable = { USA_GUI_selected_tab_sub = 1 }
				has_country_flag = USA_hidden_unelected_states
			}
			us_voting_senate_dot_glow_visible = {
				check_variable = { USA_dots_glow^idx > 0 }
				check_variable = { USA_GUI_selected_tab_sub = 1 }
				NOT = {
					has_country_flag = USA_predictions_selected
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
			}
			us_voting_senate_dot_2_glow_prediction_visible = {
				check_variable = { USA_state_dot_2_status^idx = 1 }
				has_country_flag = USA_predictions_selected
			}
			us_voting_senate_dot_1_glow_prediction_visible = {
				check_variable = { USA_state_dot_1_status^idx = 1 }
				has_country_flag = USA_predictions_selected
			}
			us_voting_senate_dot_1_glow_result_visible = {
				check_variable = { USA_state_dot_1_status^idx = 1 }
				check_variable = { USA_GUI_selected_tab = 1 }
				OR = {
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
					}
					check_variable = { USA_GUI_selected_tab_sub = 2 }
				}
			}
			us_voting_senate_dot_2_glow_result_visible = {
				check_variable = { USA_state_dot_2_status^idx = 1 }
				check_variable = { USA_GUI_selected_tab = 1 }
				OR = {
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
					}
					check_variable = { USA_GUI_selected_tab_sub = 2 }
				}
			}
			us_voting_senate_dot_1_visible = {
				NOT = {
					check_variable = { USA_GUI_selected_tab = 2 }
				}
			}
			us_voting_senate_dot_2_visible = {
				NOT = {
					check_variable = { USA_GUI_selected_tab = 2 }
				}
			}
			us_voting_state_value_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
			}
			us_voting_pres_republican_bar_tt_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
			}
			us_voting_pres_progressive_bar_tt_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
			}
			us_voting_pres_nationalist_bar_tt_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1952 }
			}
			us_voting_texan_faithless_electors_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				OR = {
					check_variable = { USA_GUI_selected_prev_year = 1956 }
					check_variable = { USA_GUI_selected_prev_year = 1948 }
				}
			}
			us_voting_virginia_faithless_electors_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1952 }
			}
			us_voting_iowa_faithless_electors_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1944 }
			}
			us_voting_victory_line_visible = {
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1960 }
						check_variable = { US_hawaii_status = 1 }
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 3 }
						JAP = {
							owns_state = 629
						}
					}
				}
			}
			us_voting_victory_lines_visible = {
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 4 }
					check_variable = { USA_GUI_selected_tab_sub = 3 }
				}
			}
			US_presidential_left_hand_side_votes_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			US_presidential_right_hand_side_votes_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_republican_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^1 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^1 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^1 = 0 }
						}
					}
				}
			}
			us_voting_democrat_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^2 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^2 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^2 = 0 }
						}
					}
				}
			}
			us_voting_rdc_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^7 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^7 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^7 = 0 }
						}
					}
				}
			}
			us_voting_centre_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^4 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^4 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^4 = 0 }
						}
					}
				}
			}
			us_voting_far_right_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^6 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^6 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^6 = 0 }
						}
					}
				}
			}
			us_voting_far_left_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^3 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^3 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^3 = 0 }
						}
					}
				}
			}
			us_voting_yockeys_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^5 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^5 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^5 = 0 }
						}
					}
				}
			}
			us_voting_npp_predicted_amount_text_visible = {
				OR = {
					AND = {
						has_country_flag = USA_predictions_selected
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_predicted_difference^8 = 0 }
						}
					}
					AND = {
						has_country_flag = USA_senate_conclusion
						check_variable = { USA_GUI_selected_tab_sub = 1 }
						NOT = {
							check_variable = { US_senators_difference^8 = 0 }
						}
					}
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 2 }
						NOT = {
							check_variable = { US_senators_difference_previous^8 = 0 }
						}
					}
				}
			}
			US_presidential_condenter_npp_name_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_pres_contender_npp > 0 }
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 0 }
			}
			US_presidential_condenter_rdc_name_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_pres_contender_rd > 0 }
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 0 }
			}
			US_presidential_condenter_rdc_name_animated_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_pres_contender_rd > 0 }
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			US_presidential_condenter_npp_name_animated_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_pres_contender_npp > 0 }
				check_variable = { USA_GUI_selected_tab_fade_animation_play = 1 }
			}
			us_voting_senate_previous_elections_outline_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 2 }
			}
			us_voting_pres_uncertainty_bar_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 3 }
				NOT = {
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_pres_npp_bar_current_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 3 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_pres_rd_bar_current_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 3 }
				NOT = {
					has_country_flag = USA_animation_in_progress
				}
			}
			us_voting_pres_rd_bar_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year > 1958 }
			}
			us_voting_pres_npp_bar_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year > 1958 }
			}
			US_campaign_here_visible = {
				has_country_flag = currently_campaigning
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 1 }
					check_variable = { USA_GUI_selected_tab_sub = 3 }
				}
				OR = {
					has_country_flag = USA_senate_elections
					has_country_flag = USA_presidential_elections
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
				NOT = {
					has_country_flag = USA_presidential_conclusion
				}
			}
			US_opposition_campaign_here_visible = {
				has_country_flag = currently_campaigning_opposition
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 1 }
					check_variable = { USA_GUI_selected_tab_sub = 3 }
				}
				OR = {
					has_country_flag = USA_senate_elections
					has_country_flag = USA_presidential_elections
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
				NOT = {
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_previous_buttons_pres_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
			}
			us_voting_previous_buttons_sen_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 2 }
			}
			us_voting_previous_buttons_pres_click_enabled = {
				OR = {
					check_variable = { USA_previous_elections_presidential_index^idx < 7 }
					check_variable = { USA_previous_elections_presidential_index^idx > 100 }
					AND = {
						check_variable = { USA_previous_elections_presidential_index^idx = 8 }
						check_variable = { USA_no_of_presidential_elections > 0 }
					}
					AND = {
						check_variable = { USA_previous_elections_presidential_index^idx = 10 }
						check_variable = { USA_no_of_presidential_elections > 1 }
					}
					AND = {
						check_variable = { USA_previous_elections_presidential_index^idx = 12 }
						check_variable = { USA_no_of_presidential_elections > 2 }
					}
				}
			}
			us_voting_previous_buttons_sen_click_enabled = {
				OR = {
					check_variable = { USA_previous_elections_senate_index^idx > 100 }
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 7 }
						check_variable = { USA_GUI_no_of_senate_elections > 0 }
					}
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 8 }
						check_variable = { USA_GUI_no_of_senate_elections > 1 }
					}
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 9 }
						check_variable = { USA_GUI_no_of_senate_elections > 2 }
					}
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 10 }
						check_variable = { USA_GUI_no_of_senate_elections > 3 }
					}
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 11 }
						check_variable = { USA_GUI_no_of_senate_elections > 4 }
					}
					AND = {
						check_variable = { USA_previous_elections_senate_index^idx = 12 }
						check_variable = { USA_GUI_no_of_senate_elections > 5 }
					}
				}
			}
			us_voting_topbar_buttons_visible = {
				check_variable = { USA_states_icon_array^idx > 0 }
				OR = {
					check_variable = { USA_states_icon_array^idx < 4 }
					AND = {
						check_variable = { USA_states_icon_array^idx > 3 }
						check_variable = { USA_states_icon_array^idx < 6 }
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						check_variable = { USA_states_icon_array^idx > 5 }
						check_variable = { USA_states_icon_array^idx < 8 }
						check_variable = { USA_GUI_selected_tab = 2 }
					}
					AND = {
						check_variable = { USA_states_icon_array^idx > 7 }
						check_variable = { USA_states_icon_array^idx < 11 }
						check_variable = { USA_GUI_selected_tab = 3 }
					}
				}
			}
			us_voting_topbar_buttons_click_enabled = {
				OR = {
					NOT = {
						check_variable = { USA_states_icon_array^idx = 5 }
						check_variable = { USA_states_icon_array^idx = 6 }
					}
					AND = {
						check_variable = { USA_states_icon_array^idx = 5 }
						check_variable = { USA_GUI_no_of_senate_elections > 0 }
					}
					AND = {
						check_variable = { USA_states_icon_array^idx = 6 }
						has_country_flag = USA_presidential_elections
					}
				}
				OR = {
					check_variable = { USA_states_icon_array^idx = 2 }
					NOT = {
						has_country_flag = USA_animation_in_progress
					}
					AND = {
						check_variable = { USA_states_icon_array^idx = 6 }
						has_country_flag = USA_animation_in_progress
					}
				}
			}
			us_voting_state_icon_animated_click_enabled = {
				check_variable = { US_GUI_animated_icon_play^idx = 1 }
			}
			us_voting_state_icon_animated_visible = {
				NOT = {
					check_variable = { USA_frame_for_map_animated^idx = 0 }
				}
				OR = {
					NOT = {
						check_variable = { USA_states_icon_array^idx = 10 }
					}
					AND = { #Hawaii
						check_variable = { USA_states_icon_array^idx = 10 }
						USA = { owns_state = 629 }
					}
				}
				OR = {
					AND = {
						has_country_flag = USA_animation_in_progress
						NOT = {
							has_country_flag = US_animation_disabled
						}
					}
					AND = {
						has_country_flag = USA_animation_in_progress
						has_country_flag = US_animation_disabled
						check_variable = { US_GUI_animated_icon_play^idx = 0 }
					}
				}
			}
			us_voting_state_icon_2_visible = {
				NOT = {
					check_variable = { USA_frame_for_map^idx = 0 }
				}
				OR = {
					NOT = {
						OR = {
							check_variable = { USA_states_icon_array^idx = 10 }
							check_variable = { USA_states_icon_array^idx = 1 }
						}
					}
					AND = { #Hawaii
						check_variable = { USA_states_icon_array^idx = 10 }
						OR = {
							AND = {
								check_variable = { USA_GUI_selected_tab_sub = 4 }
								check_variable = { US_hawaii_status = 2 }
							}
							AND = {
								NOT = {
									check_variable = { USA_GUI_selected_tab_sub = 4 }
								}
								629 = {
									is_owned_by = USA
								}
							}
						}
					}
					AND = { #Alaska
						check_variable = { USA_states_icon_array^idx = 1 }
						OR = {
							NOT = {
								check_variable = { USA_GUI_selected_tab_sub = 4 }
							}
							AND = {
								check_variable = { USA_GUI_selected_tab_sub = 4 }
								check_variable = { USA_GUI_selected_prev_year > 1959 }
							}
						}
					}
				}
				OR = {
					NOT = {
						has_country_flag = USA_animation_in_progress
						has_country_flag = US_animation_disabled
					}
					AND = {
						has_country_flag = US_animation_disabled
						check_variable = { US_GUI_animated_icon_play^idx = 1 }
					}
				}
			}
			us_voting_vote_count_click_enabled = {
				check_variable = { US_vote_count_animation_update = 1 }
			}
			us_voting_vote_count_visible = {
				check_variable = { USA_GUI_selected_tab = 2 }
				check_variable = { USA_states_icon_array^idx < 6 }
				OR = {
					check_variable = { US_voting_votes_display^idx > 0 }
					check_variable = { USA_states_icon_array^idx = 2 }
					check_variable = { USA_states_icon_array^idx = 5 }
				}
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 3 }
						has_country_flag = USA_presidential_conclusion
					}
					check_variable = { USA_GUI_selected_tab_sub = 4 }
				}
			}
			US_presidential_condenter_npp_actual_votes_visible = {
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 3 }
						has_country_flag = USA_presidential_conclusion
					}
					check_variable = { USA_GUI_selected_tab_sub = 4 }
				}
			}
			US_presidential_condenter_rd_actual_votes_visible = {
				OR = {
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 3 }
						has_country_flag = USA_presidential_conclusion
					}
					check_variable = { USA_GUI_selected_tab_sub = 4 }
				}
			}
			US_presidential_left_hand_side_votes_animated_click_enabled = {
				check_variable = { US_vote_elec_animation_update = 1 }
			}
			US_presidential_right_hand_side_votes_animated_click_enabled = {
				check_variable = { US_vote_elec_animation_update = 1 }
			}
			US_presidential_right_hand_side_votes_animated_rep_dem_click_enabled = {
				check_variable = { US_vote_elec_animation_update = 1 }
			}
			US_presidential_right_hand_side_votes_animated_nat_click_enabled = {
				check_variable = { US_vote_elec_animation_update = 1 }
			}
			US_presidential_left_hand_side_votes_animated_rep_dem_click_enabled = {
				check_variable = { US_vote_elec_animation_update = 1 }
			}
			US_presidential_left_hand_side_votes_animated_visible = {
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 3 }
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1959 }
					}
				}
			}
			US_presidential_right_hand_side_votes_animated_visible = {
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 3 }
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1959 }
					}
				}
			}
			US_presidential_left_hand_side_votes_animated_rep_dem_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year < 1959 }
			}
			US_presidential_right_hand_side_votes_animated_rep_dem_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year < 1955 }
			}
			US_presidential_right_hand_side_votes_animated_nat_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
			}
			us_voting_pres_animated_bar_click_enabled = {
				check_variable = { US_animated_bar_refresh = 1 }
			}
			us_voting_pres_animated_bar_rep_dem_nat_click_enabled = {
				check_variable = { US_animated_bar_refresh = 1 }
			}
			us_voting_pres_animated_bar_56_click_enabled = {
				check_variable = { US_animated_bar_refresh = 1 }
			}
			us_voting_pres_animated_bar_visible = {
				OR = {
					check_variable = { USA_GUI_selected_tab_sub = 3 }
					AND = {
						check_variable = { USA_GUI_selected_tab_sub = 4 }
						check_variable = { USA_GUI_selected_prev_year > 1959 }
					}
				}
			}
			us_voting_pres_animated_bar_rep_dem_nat_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year < 1955 }
			}
			us_voting_pres_animated_bar_56_visible = {
				check_variable = { USA_GUI_selected_tab_sub = 4 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
			}
		}
		# STATES END

		effects = {
			USA_close_button_click = {
				clr_country_flag = US_voting_gui_open
			}
			us_voting_current_predictions_button_click = {
				USA_GUI_current_predictions_button_array = yes
				if = {
					limit = {
						check_variable = { US_GUI_current_predictions_array^idx = 2 }
					}
					set_variable = { US_GUI_current_predictions_array^1 = 102 }
					set_variable = { US_GUI_current_predictions_array^0 = 1 }
					set_country_flag = USA_predictions_selected
					USA_determine_senate_map_breakdown_prediction = yes
				}
				else = {
					clr_country_flag = USA_predictions_selected
					USA_determine_senate_map_breakdown = yes
				}
			}
			us_voting_hide_show_button_show_click = {
				clr_country_flag = USA_hidden_unelected_states
				USA_determine_senate_map_breakdown = yes
			}
			us_voting_hide_show_button_hide_click = {
				set_country_flag = USA_hidden_unelected_states
				USA_set_variables_for_map = yes
			}
			us_voting_outlines_main_click = {
				if = {
					limit = {
						has_country_flag = US_voting_region_window_open
					}
					clr_country_flag = US_voting_region_window_open
				}
				else = {
					set_country_flag = US_voting_region_window_open
				}
				set_variable = { state_to_display = USA_states_icon_array^idx }
				subtract_from_variable = { state_to_display = 1 }
				set_variable = { US_voting_region = USA_GUI_real_index_main_area^state_to_display }
				set_variable = { US_voting_region_area = USA_GUI_selected_tab }
				set_variable = { US_voting_selected_state = USA_GUI_real_index_main^state_to_display }
				USA_charts_update = yes
			}
			us_voting_outlines_secondary_click = {
				if = {
					limit = {
						has_country_flag = US_voting_region_window_open
					}
					clr_country_flag = US_voting_region_window_open
				}
				else = {
					set_country_flag = US_voting_region_window_open
				}
				set_variable = { state_to_display = USA_states_icon_array^idx }
				subtract_from_variable = { state_to_display = 1 }
				set_variable = { US_voting_region = USA_GUI_real_index_secondary_area^state_to_display }
				set_variable = { US_voting_region_area = USA_GUI_selected_tab }
				set_variable = { US_voting_selected_state = USA_GUI_real_index_secondary^state_to_display }
				USA_charts_update = yes
			}
			us_voting_previous_buttons_pres_click = {
				add_to_variable = { USA_previous_elections_presidential_index^US_prev_idx = -100 }
				set_variable = { US_prev_idx = idx }
				add_to_variable = { USA_previous_elections_presidential_index^idx = 100 }
				set_variable = { USA_GUI_selected_prev_year = USA_previous_elections_presidential^idx }
				USA_voting_GUI_work_out_previous_presidential_results = yes
				USA_GUI_determine_previous_election_map = yes
				US_calculate_numbers_blocker_offset = yes
			}
			us_voting_previous_buttons_sen_click = {
				add_to_variable = { USA_previous_elections_senate_index^US_prev_idx_sen = -100 }
				set_variable = { US_prev_idx_sen = idx }
				add_to_variable = { USA_previous_elections_senate_index^idx = 100 }
				set_variable = { USA_GUI_selected_prev_year_senate = USA_previous_elections_senate^idx }
				USA_recall_senate_election_result = yes
			}
			us_voting_topbar_buttons_click = {
				if = {
					limit = {
						check_variable = { USA_states_icon_array^idx > 0 }
						check_variable = { USA_states_icon_array^idx < 4 }
					}
					USA_GUI_setup_topbar_array = yes
					set_variable = { US_GUI_topbar_array^1 = 1 }
					set_variable = { US_GUI_topbar_array^4 = 4 }
					add_to_variable = { US_GUI_topbar_array^idx = 100 }
					if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 1 }
						}
						add_to_variable = { US_GUI_topbar_array^4 = 100 }
						set_variable = { USA_topbar_prev_index = 4 }
						USA_tab_1_click_effect = yes
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 2 }
						}
						add_to_variable = { US_GUI_topbar_array^7 = 100 }
						set_variable = { USA_topbar_prev_index = 7 }
						if = {
							limit = {
								NOT = {
									has_country_flag = USA_animation_in_progress
								}
							}
							USA_tab_2_click_effect = yes
						}
					}
					else = {
						add_to_variable = { US_GUI_topbar_array^8 = 100 }
						set_variable = { USA_topbar_prev_index = 8 }
						USA_tab_3_click_effect = yes
					}
				}
				else = {
					add_to_variable = { US_GUI_topbar_array^USA_topbar_prev_index = -100 }
					set_variable = { USA_topbar_prev_index = idx }
					add_to_variable = { US_GUI_topbar_array^idx = 100 }
					if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 4 }
						}
						USA_tab_1_1_click_effect = yes
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 5 }
						}
						USA_tab_1_2_click_effect = yes
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 6 }
						}
						if = {
							limit = {
								NOT = {
									has_country_flag = USA_animation_in_progress
								}
							}
							USA_tab_2_1_click_effect = yes
						}
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 7 }
						}
						USA_tab_2_2_click_effect = yes
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 8 }
						}
						USA_tab_3_1_click_effect = yes
					}
					else_if = {
						limit = {
							check_variable = { USA_states_icon_array^idx = 9 }
						}
						USA_tab_3_2_click_effect = yes
					}
					else = {
						USA_tab_3_3_click_effect = yes
					}
				}
			}
		}

		properties = {
			us_voting_vote_count = {
				x = US_GUI_actual_votes_x^idx
				y = US_GUI_actual_votes_y
				image = "[GetPresActualVotesImage]"
				frame = US_voting_votes_display^idx
			}
			us_voting_pres_animated_bar = {
				frame = US_voting_animated_bar_frame
			}
			us_voting_pres_animated_bar_rep_dem_nat = {
				frame = US_voting_animated_bar_frame
			}
			us_voting_pres_animated_bar_56 = {
				frame = US_voting_animated_bar_frame
			}
			US_presidential_left_hand_side_votes_animated = {
				frame = US_rdc_electoral_votes_animated
				x = US_rdc_elec_votes_x
				y = US_rdc_elec_votes_y
			}
			US_presidential_left_hand_side_votes_animated_rep_dem = {
				frame = US_rdc_electoral_votes_animated
				x = US_rdc_elec_votes_x
				y = US_rdc_elec_votes_y
			}
			US_presidential_right_hand_side_votes_animated_rep_dem = {
				frame = US_npp_electoral_votes_animated
			}
			US_presidential_right_hand_side_votes_animated_nat = {
				frame = US_npp_electoral_votes_animated
			}
			US_presidential_right_hand_side_votes_animated = {
				frame = US_npp_electoral_votes_animated
			}
			us_voting_topbit = {
				frame = USA_GUI_selected_tab
			}
			us_voting_pres_left_hand_side = {
				frame = USA_pres_contender_rd_animation
			}
			us_voting_pres_right_hand_side = {
				frame = USA_pres_contender_npp_animation
			}
			US_presidential_condenter_rdc_name_animated = {
				frame = USA_pres_contender_rd_animation
			}
			US_presidential_condenter_npp_name_animated = {
				frame = USA_pres_contender_npp_animation
			}
			us_voting_pres_nationalist_bar = {
				frame = USA_GUI_nationalist_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_progressive_bar = {
				frame = USA_GUI_progressive_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_democrat_bar = {
				frame = USA_GUI_democrat_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_republican_bar = {
				frame = USA_GUI_republican_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_nationalist_bar_56 = {
				frame = USA_GUI_nationalist_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_npp_bar = {
				frame = USA_GUI_npp_vote^USA_GUI_selected_prev_year
			}
			us_voting_pres_rd_bar = {
				frame = USA_GUI_rd_vote^USA_GUI_selected_prev_year
			}
			us_voting_senate_dot_1 = {
				frame = USA_senate_dot_colour_1^idx
			}
			us_voting_senate_dot_2 = {
				frame = USA_senate_dot_colour_2^idx
			}
			us_voting_senate_dot_glow = {
				frame = USA_dots_glow^idx
			}
			us_voting_senate_dot_1_glow_prediction = {
				frame = US_colour_for_prediction_dot_1^idx
			}
			us_voting_senate_dot_2_glow_prediction = {
				frame = US_colour_for_prediction_dot_2^idx
			}
			us_voting_senate_dot_1_glow_result = {
				frame = US_seat_1_change_or_not^idx
			}
			us_voting_senate_dot_2_glow_result = {
				frame = US_seat_2_change_or_not^idx
			}
			us_voting_pres_uncertainty_bar = {
				frame = US_voting_uncertainty_bar_frame
			}
			us_voting_pres_rd_bar_current = {
				frame = US_voting_rdc_bar_frame
			}
			us_voting_pres_npp_bar_current = {
				frame = US_voting_npp_bar_frame
			}
			us_voting_state_icon = {
				image = "[GetUSAStateIcon]"
				x = USA_states_x_array^idx
				y = USA_states_y_array^idx
				frame = USA_frame_for_map^idx
			}
			us_voting_state_icon_2 = {
				x = USA_states_x_array^idx
				y = USA_states_y_array^idx
				frame = USA_frame_for_map^idx
			}
			us_voting_state_icon_animated = {
				x = USA_states_x_array^idx
				y = USA_states_y_array^idx
				frame = USA_frame_for_map_animated^idx
			}
			US_opposition_campaign_here = {
				x = US_voting_map_opposition_x
				y = US_voting_map_opposition_y
			}

			US_campaign_here = {
				x = US_voting_map_campaign_x
				y = US_voting_map_campaign_y
			}
			us_voting_outlines_main = {
				x = state_outline_main_x^idx
				y = state_outline_main_y^idx
				frame = USA_states_icon_array^idx
			}
			us_voting_outlines_secondary = {
				x = state_outline_secondary_x^idx
				y = state_outline_secondary_y^idx
				frame = USA_states_icon_array^idx
			}
			us_voting_main_icons = {
				x = state_outline_main_x^idx
				y = state_outline_main_y^idx
				frame = USA_states_icon_array^idx
			}
			us_voting_secondary_icons = {
				x = state_outline_secondary_x^idx
				y = state_outline_secondary_y^idx
				frame = USA_states_icon_array^idx
			}
			us_voting_previous_buttons_pres = {
				frame = USA_previous_elections_presidential_index^idx
			}
			us_voting_previous_buttons_sen = {
				frame = USA_previous_elections_senate_index^idx
			}
			us_voting_topbar_buttons = {
				x = US_GUI_topbar_buttons_x^idx
				y = US_GUI_topbar_buttons_y^idx
				frame = US_GUI_topbar_array^idx
			}
			us_voting_current_predictions_button = {
				frame = US_GUI_current_predictions_array^idx
			}
			us_voting_victory_lines = {
				frame = US_GUI_victory_lines_frame
			}
		}
		dynamic_lists = {
			USA_GUI_senators_overview_gridbox = {
				array = USA_states_dots
				index = idx
				change_scope = no

				entry_container = USA_GUI_senators_overview_gridbox_container
			}
			USA_GUI_states_map_icon = {
				array = USA_states_icon_array
				index = idx
				change_scope = no

				entry_container = USA_GUI_states_container
			}
			USA_GUI_previous_election_buttons = {
				array = USA_previous_elections_presidential
				index = idx
				change_scope = no

				entry_container = USA_GUI_previous_election_buttons_pres
			}
			USA_GUI_previous_election_buttons_s = {
				array = USA_previous_elections_senate
				index = idx
				change_scope = no

				entry_container = USA_GUI_previous_election_buttons_sen
			}
			USA_GUI_top_buttons = {
				array = USA_states_icon_array
				index = idx
				change_scope = no

				entry_container = USA_GUI_top_buttons_container
			}
			USA_GUI_current_predictions_button = {
				array = USA_previous_elections_senate
				index = idx
				change_scope = no

				entry_container = USA_GUI_current_predictions_container
			}
		}
	}

	TNO_US_Voting_Regions_Overview = {
		context_type = player_context
		parent_window_token = "TNO_US_Voting_Open_Main"
		window_name = "TNO_US_voting_regions_overview"

		visible = {
			has_country_flag = US_voting_region_window_open
			NOT = {
				check_variable = { USA_GUI_selected_prev_year = 1940 }
				check_variable = { USA_GUI_selected_prev_year = 1944 }
				check_variable = { USA_GUI_selected_prev_year = 1948 }
				check_variable = { USA_GUI_selected_prev_year = 1952 }
				check_variable = { USA_GUI_selected_prev_year = 1956 }
				check_variable = { USA_GUI_selected_tab = 3 }
			}
		}

		effects = {
			USA_close_button_voting_section_click = {
				clr_country_flag = US_voting_region_window_open
			}
		}

		triggers = {
			us_voting_campaign_here_button_visible = {
				check_variable = { US_voting_region:US_voting_campaign_countdown = 0 }
				NOT = {
					has_country_flag = currently_campaigning
				}
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_campaign_here_button_click_enabled = {
				check_variable = { US_voting_region:US_voting_campaign_countdown = 0 }
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_campaign_here_button_na_visible = {
				#has_country_flag = currently_campaigning
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_campaign_here_visible = {
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_campaign_here_button_overlay_visible = {
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_voting_opposition_campaign_overlay_visible = {
				has_country_flag = currently_campaigning_opposition
				check_variable = { USA_opposition_campaign_region = US_voting_region }
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
			}
			us_voting_opposition_campaign_icon_visible = {
				has_country_flag = currently_campaigning_opposition
				check_variable = { USA_opposition_campaign_region = US_voting_region }
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
			}
			us_voting_opposition_campaign_visible = {
				has_country_flag = currently_campaigning_opposition
				check_variable = { USA_opposition_campaign_region = US_voting_region }
				OR = {
					AND = {
						has_country_flag = USA_senate_elections
						check_variable = { USA_GUI_selected_tab = 1 }
					}
					AND = {
						has_country_flag = USA_presidential_elections
						check_variable = { USA_GUI_selected_tab = 2 }
					}
				}
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
			}

			us_voting_hold_poll_button_visible = {
				has_political_power > 9.99
				NOT = {
					has_country_flag = USA_senate_conclusion
				}
				NOT = {
					has_country_flag = USA_presidential_conclusion
				}
			}
			us_senate_party_election_predictions_visible = {
				NOT = {
					check_variable = { USA_GUI_selected_tab = 4 }
				}
			}
			us_house_party_election_predictions_new_england_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 1 }
			}
			us_house_party_election_predictions_east_coast_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 2 }
			}
			us_house_party_election_predictions_deep_south_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 3 }
			}
			us_house_party_election_predictions_upper_south_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 4 }
			}
			us_house_party_election_predictions_great_lakes_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 5 }
			}
			us_house_party_election_predictions_great_plains_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 6 }
			}
			us_house_party_election_predictions_southwest_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 7 }
			}
			us_house_party_election_predictions_rockies_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 8 }
			}
			us_house_party_election_predictions_west_coast_visible = {
				check_variable = { USA_GUI_selected_tab = 4 }
				check_variable = { US_voting_region = 9 }
			}
			us_voting_big_states_main_visible = {
				check_variable = { USA_states_icon_array^idx < 42 }
				check_variable = { USA_GUI_real_index_main_area^idx = US_voting_region }
			}
			us_voting_big_states_secondary_visible = {
				OR = {
					AND = {
						check_variable = { USA_states_icon_array^idx < 9 }
						NOT = {
							check_variable = { USA_states_icon_array^idx = 3 }
						}
					}
					AND = {
						check_variable = { USA_states_icon_array^idx = 3 }
						USA = { owns_state = 629 }
					}
				}
				check_variable = { USA_GUI_real_index_secondary_area^idx = US_voting_region }
			}
			us_voting_big_states_main_button_visible = {
				check_variable = { USA_states_icon_array^idx < 42 }
				check_variable = { USA_GUI_real_index_main_area^idx = US_voting_region }
			}
			us_voting_big_states_overlay_sec_visible = {
				OR = {
					AND = {
						check_variable = { USA_states_icon_array^idx < 9 }
						NOT = {
							check_variable = { USA_states_icon_array^idx = 3 }
						}
					}
					AND = {
						check_variable = { USA_states_icon_array^idx = 3 }
						USA = { owns_state = 629 }
					}
				}
				check_variable = { USA_GUI_real_index_secondary_area^idx = US_voting_region }
			}
			us_voting_big_states_area_outlines_visible = {
				check_variable = { USA_states_icon_array^idx < 10 }
				check_variable = { USA_states_icon_array^idx > 0 }
				NOT = {
					check_variable = { USA_states_icon_array^idx = US_voting_region }
				}
			}
		}

		effects = {
			us_voting_campaign_here_button_click = {
				if = {
					limit = {
						check_variable = { US_voting_region = 1 }
					}
					add_to_array = { USA_campaign_states = 357 } #Connecticut
					add_to_array = { USA_campaign_states = 952 } #Maine
					add_to_array = { USA_campaign_states = 949 } #Massachusetts
					add_to_array = { USA_campaign_states = 951 } #New Hampshire
					add_to_array = { USA_campaign_states = 948 } #Rhode Island
					add_to_array = { USA_campaign_states = 950 } #Vermont
					set_variable = { US_voting_map_campaign_x = 860 }
					set_variable = { US_voting_map_campaign_y = 241 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 2 }
					}
					add_to_array = { USA_campaign_states = 954 } #Delaware
					add_to_array = { USA_campaign_states = 361 } #Maryland
					add_to_array = { USA_campaign_states = 360 } #Pennsylvania
					add_to_array = { USA_campaign_states = 953 } #West Virginia
					add_to_array = { USA_campaign_states = 358 } #New York
					add_to_array = { USA_campaign_states = 359 } #New Jersey
					set_variable = { US_voting_map_campaign_x = 772 }
					set_variable = { US_voting_map_campaign_y = 311 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 3 }
					}
					add_to_array = { USA_campaign_states = 367 } #Alabama
					add_to_array = { USA_campaign_states = 366 } #Florida
					add_to_array = { USA_campaign_states = 365 } #Georgia
					add_to_array = { USA_campaign_states = 370 } #Mississippi
					add_to_array = { USA_campaign_states = 364 } #South Carolina
					add_to_array = { USA_campaign_states = 372 } #Arkansas
					add_to_array = { USA_campaign_states = 371 } #Louisiana
					set_variable = { US_voting_map_campaign_x = 584 }
					set_variable = { US_voting_map_campaign_y = 444 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 4 }
					}
					add_to_array = { USA_campaign_states = 369 } #Kentucky
					add_to_array = { USA_campaign_states = 363 } #North Carolina
					add_to_array = { USA_campaign_states = 368 } #Tennessee
					add_to_array = { USA_campaign_states = 362 } #Virginia
					set_variable = { US_voting_map_campaign_x = 660 }
					set_variable = { US_voting_map_campaign_y = 413 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 5 }
					}
					add_to_array = { USA_campaign_states = 395 } #Illinois
					add_to_array = { USA_campaign_states = 396 } #Indiana
					add_to_array = { USA_campaign_states = 393 } #Michigan
					add_to_array = { USA_campaign_states = 261 } #Ohio
					add_to_array = { USA_campaign_states = 394 } #Wisconsin
					set_variable = { US_voting_map_campaign_x = 618 }
					set_variable = { US_voting_map_campaign_y = 244 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 6 }
					}
					add_to_array = { USA_campaign_states = 391 } #Minnesota
					add_to_array = { USA_campaign_states = 392 } #Iowa
					add_to_array = { USA_campaign_states = 383 } #Kansas
					add_to_array = { USA_campaign_states = 373 } #Missouri
					add_to_array = { USA_campaign_states = 384 } #Nebraska
					add_to_array = { USA_campaign_states = 389 } #North Dakota
					add_to_array = { USA_campaign_states = 390 } #South Dakota
					set_variable = { US_voting_map_campaign_x = 465 }
					set_variable = { US_voting_map_campaign_y = 220 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 7 }
					}
					add_to_array = { USA_campaign_states = 376 } #New Mexico
					add_to_array = { USA_campaign_states = 375 } #Texas
					add_to_array = { USA_campaign_states = 374 } #Oklahoma
					add_to_array = { USA_campaign_states = 377 } #Arizona
					set_variable = { US_voting_map_campaign_x = 304 }
					set_variable = { US_voting_map_campaign_y = 421 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 8 }
					}
					add_to_array = { USA_campaign_states = 382 } #Colorado
					add_to_array = { USA_campaign_states = 388 } #Montana
					add_to_array = { USA_campaign_states = 380 } #Utah
					add_to_array = { USA_campaign_states = 381 } #Wyoming
					add_to_array = { USA_campaign_states = 387 } #Idaho
					add_to_array = { USA_campaign_states = 379 } #Nevada
					set_variable = { US_voting_map_campaign_x = 304 }
					set_variable = { US_voting_map_campaign_y = 198 }
				}
				if = {
					limit = {
						check_variable = { US_voting_region = 9 }
					}
					add_to_array = { USA_campaign_states = 378 } #California
					add_to_array = { USA_campaign_states = 385 } #Oregon
					add_to_array = { USA_campaign_states = 386 } #Washington
					add_to_array = { USA_campaign_states = 463 } #Alaska
					if = {
						limit = { owns_state = 629 }
						add_to_array = { USA_campaign_states = 629 } #Hawaii
					}
					set_variable = { US_voting_map_campaign_x = 214 }
					set_variable = { US_voting_map_campaign_y = 172 }
				}
				set_country_flag = currently_campaigning

				set_variable = { US_voting_campaign_region = US_voting_region }
				set_variable = { US_voting_campaign_region:US_voting_campaign_timer = 100 }
				divide_variable = { US_voting_campaign_region:US_voting_campaign_timer = 30 }
				set_temp_variable = { alert_id = token:Alert_US_Election }
				remove_TNO_alert = yes
			}

			us_voting_big_states_main_button_click = {
				set_variable = { US_voting_selected_state = USA_GUI_real_index_main^idx }
				USA_charts_update = yes
			}

			us_voting_big_states_overlay_sec_click = {
				set_variable = { US_voting_selected_state = USA_GUI_real_index_secondary^idx }
				USA_charts_update = yes
			}

			us_voting_hold_poll_button_click = {
				add_political_power = -10
				add_to_array = { states_for_poll = USA_states^US_voting_selected_state }
				for_each_scope_loop = {
					array = states_for_poll

					USA_recalculate_polls_individual = yes
				}
			}
			us_voting_big_states_area_outlines_click = {
				USA_save_previous_regions_selected_state = yes
				set_variable = { US_voting_region = USA_states_icon_array^idx }
				USA_recall_previous_regions_selected_state = yes
				USA_charts_update = yes
			}
		}

		properties = {

			us_voting_campaign_here_button_na = {
				frame = US_voting_region:US_voting_campaign_timer
			}
			us_voting_opposition_campaign_icon = {
				frame = US_voting_region:US_voting_opposition_timer
			}

			us_voting_rdc_d_pie_chart = {
				frame = dem_pie_frame
			}
			us_voting_rdc_r_pie_chart = {
				frame = rep_pie_frame
			}

			us_voting_npp_fr_pie_chart = {
				frame = nat_pie_frame 
			}
			us_voting_npp_c_pie_chart = {
				frame = pro_pie_frame
			}
			us_voting_npp_y_pie_chart = {
				frame = anv_pie_frame
			}
			us_voting_npp_l_pie_chart = {
				frame = com_pie_frame
			}

			us_voting_bar_npp_outline = {
				frame = NPP_poll_pop_for_gui_overview
			}
			us_voting_bar_rdc_outline = {
				frame = RDC_poll_pop_for_gui_overview
			}
			us_voting_bar_npp_outline_overlay = {
				frame = NPP_poll_pop_for_gui_overview
			}
			us_voting_bar_rdc_outline_overlay = {
				frame = RDC_poll_pop_for_gui_overview
			}
			us_voting_big_states_main = {
				x = USA_states_x_array_big^idx
				y = USA_states_y_array_big^idx
				frame = USA_frame_for_big_map^idx
			}
			us_voting_big_states_secondary = {
				x = USA_states_x_array_big_secondary^idx
				y = USA_states_y_array_big_secondary^idx
				frame = USA_frame_for_big_map_secondary^idx
			}
			us_voting_big_states_main_button = {
				x = USA_states_x_array_big^idx
				y = USA_states_y_array_big^idx
				frame = USA_big_state_outlines_array_main^idx
			}
			us_voting_big_states_overlay_sec = {
				x = USA_states_x_array_big_secondary^idx
				y = USA_states_y_array_big_secondary^idx
				frame = USA_big_state_outlines_array_secondary^idx
			}
			us_voting_big_states_area_outlines = {
				x = USA_states_x_array_area_outlines^idx
				y = USA_states_y_array_area_outlines^idx
				frame = USA_states_icon_array^idx
			}
			us_voting_big_state_map = {
				frame = USA_big_map_frame
				x = USA_big_map_x
				y = USA_big_map_y
			}
			us_voting_close_icons = {
				frame = US_voting_close_state_var
			}
		}
		dynamic_lists = {
			USA_GUI_senators_overview_gridbox = {
				array = USA_states_dots
				index = idx
				change_scope = no

				entry_container = USA_GUI_senators_overview_gridbox_container
			}
			USA_GUI_big_states_map_icon = {
				array = USA_states_icon_array
				index = idx
				change_scope = no

				entry_container = USA_GUI_big_states_container
			}
			USA_GUI_big_states_area_overlays = {
				array = USA_states_icon_array
				index = idx
				change_scope = no

				entry_container = USA_GUI_big_states_area_overlays
			}
			USA_GUI_big_states_close = {
				array = USA_states_icon_array
				index = idx
				change_scope = no

				entry_container = USA_GUI_big_states_close_container
			}
		}
	}

	#Debug only, remove later
	US_var_display = {
		window_name = us_popularities_container
		parent_window_token = selected_state_view
		context_type = selected_state_context
		visible = {
			ROOT = {
				original_tag = USA
				NOT = { has_country_flag = USA_var_display_hidden }
			}
			THIS = {
				AND = {
					owner = { tag = USA }
					can_have_elections_in_state = yes
				}
			}
		}
		#effects = {
		#	USA_vardisp_close_button_right_click = {
		#		set_country_flag = USA_var_display_hidden
		#		add_political_power = 50
		#	}
		#}
	}
}
